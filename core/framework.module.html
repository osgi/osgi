<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <title>3 Module Layer - OSGi Core 8</title>
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><style type="text/css">
#scrollable {
    background: transparent url('images/draft.png') repeat-y center top;
    background-attachment: local;
    background-size: 120%;
}
    </style><link rel="home" href="index.html" title="OSGi Core" />
      <link rel="up" href="index.html" title="OSGi Core" />
      <link rel="prev" href="framework.security.html" title="2 Security Layer" />
      <link rel="next" href="framework.lifecycle.html" title="4 Life Cycle Layer" />
      <meta name="Section-title" content="3 Module Layer" />
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <link rel="shortcut icon" href="images/favicon.png" type="image/x-icon" />
      <link rel="stylesheet" type="text/css" href="css/custom.css" />
      <link rel="stylesheet" type="text/css" href="css/github.css" />
      <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Ubuntu:regular,bold&amp;subset=Latin" /><script type="text/javascript" src="js/highlight.pack.js"></script><script type="text/javascript" src="js/main.js"></script></head>
   <body>
      <div id="fullbody">
         <div id="header">
            <div class="menu-top-container"></div>
            <div id="shadow-block"><a class="logo" href="index.html"><img src="images/OSGi.svg" alt="OSGi Working Group Documentation" /><h1>OSGi Core Release 8</h1></a></div>
         </div>
         <div id="mobile-menu-icon">⋮</div>
         <div id="column-two">
            <div id="content">
               <div id="scrollable">
                  <div class="navheader">
                     <table width="100%" summary="Navigation header">
                        <tr>
                           <td width="20%" align="left"><a accesskey="p" href="framework.security.html">Prev</a> 
                           </td>
                           <th width="60%" align="center"> </th>
                           <td width="20%" align="right"> <a accesskey="n" href="framework.lifecycle.html">Next</a></td>
                        </tr>
                     </table>
                     <hr />
                  </div>
                  <div class="chapter">
                     <div xmlns="" class="titlepage">
                        <div>
                           <div>
                              <h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module"></a><span xmlns="" class="number">3</span> Module Layer
                              </h1>
                           </div>
                           <div>
                              <p xmlns="http://www.w3.org/1999/xhtml" class="releaseinfo"><a xmlns="" class="xref" href="framework.api.html#org.osgi.framework" title="10.1 org.osgi.framework">Version 1.10</a></p>
                           </div>
                        </div>
                     </div>
                     <div class="section">
                        <div xmlns="" class="titlepage">
                           <div>
                              <div>
                                 <h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a xmlns="" class="anchor" id="d0e1729"></a><span xmlns="" class="number">3.1</span> Introduction
                                 </h2>
                              </div>
                           </div>
                        </div>
                        <p>The standard Java platform provides only limited support for
                           packaging, deploying, and validating Java-based applications and
                           components. Because of this, many Java-based projects, such as JBoss and
                           NetBeans, have resorted to creating custom module-oriented layers with
                               specialized class loaders for packaging, deploying, and validating
                               applications and components. The OSGi Framework provides a generic and
                               standardized solution for Java modularization.
                        </p>
                     </div>
                     <div class="section">
                        <div xmlns="" class="titlepage">
                           <div>
                              <div>
                                 <h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a xmlns="" class="anchor" id="d0e1734"></a><span xmlns="" class="number">3.2</span> Bundles
                                 </h2>
                              </div>
                           </div>
                        </div>
                        <p>The Framework defines a unit of modularization, called a
                               <span class="emphasis"><em>bundle</em></span>. A bundle is comprised of Java classes and
                               other resources, which together can provide functions to end users.
                               Bundles can share Java <span class="emphasis"><em>packages</em></span> among an
                               <span class="emphasis"><em>exporter</em></span> bundle and an <span class="emphasis"><em>importer</em></span>
                               bundle in a well-defined way. In the OSGi framework, bundles are the only
                               entities for deploying Java-based applications.
                        </p>
                        <p>A bundle is deployed as a Java ARchive (JAR) file. JAR files are
                               used to store applications and their resources in a standard ZIP-based
                               file format. This format is defined by <a xmlns="" class="xref" href="framework.module.html#i3100827" title="Zip File Format">[9] <em>Zip File Format</em></a>. Bundles
                               normally share the Java Archive extension of <code class="code">.jar</code>. However,
                               there is a special MIME type reserved for OSGi bundles that can be used to
                               distinguish bundles from normal JAR files. This MIME type is:
                        </p><pre xmlns="" class="programlisting"><code>application/vnd.osgi.bundle</code></pre><p>The type is defined in <a xmlns="" class="xref" href="framework.module.html#i3211606" title="OSGi IANA Mime Type">[14] <em>OSGi IANA Mime Type</em></a>.
                        </p>
                        <p>A bundle is a JAR file that:</p>
                        <div class="itemizedlist">
                           <ul class="itemizedlist" style="list-style-type: disc; ">
                              <li class="listitem">
                                 <p>Contains the resources necessary to provide some functionality.
                                            These resources may be class files for the Java programming language,
                                            as well as other data such as HTML files, help files, icons, and so
                                            on. A bundle JAR file can also embed additional JAR files that are
                                            available as resources and classes. This is however not
                                            recursive.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>Contains a manifest file describing the contents of the JAR file
                                            and providing information about the bundle. This file uses headers to
                                            specify information that the Framework needs to install correctly and
                                            activate a bundle. For example, it states dependencies on other
                                            resources, such as Java packages, that must be available to the bundle
                                            before it can run.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>Can contain optional documentation in the <code class="code">OSGI-OPT</code>
                                            directory of the JAR file or one of its sub-directories. Any
                                            information in this directory is optional. For example, the
                                            <code class="code">OSGI-OPT</code> directory is useful to store the source code of
                                            a bundle. Management systems may remove this information to save
                                            storage space in the OSGi framework.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>Can be a multi-release JAR. See <a xmlns="" class="xref" href="framework.module.html#framework.module-multireleasejar" title="3.2.8 Multi-release JAR">Multi-release JAR</a>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>Once a bundle is resolved, its functionality is provided to other
                               bundles installed in the OSGi framework.
                        </p>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i2654895"></a><span xmlns="" class="number">3.2.1</span> Bundle Manifest Headers
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p><a xmlns="" class="anchor" id="i2654900"></a>A bundle can carry descriptive information about
                                    itself in the manifest file that is contained in its JAR file under the
                                    name of <code class="code">META-INF/MANIFEST.MF</code>.
                           </p>
                           <p><a xmlns="" class="anchor" id="i3200116"></a>The Framework defines OSGi manifest headers such
                                    as Export-Package and Bundle-ClassPath, which bundle developers use to
                                    supply descriptive information about a bundle. Manifest headers must
                                    strictly follow the rules for manifest headers as defined in <a xmlns="" class="xref" href="framework.module.html#i3024211" title="Manifest Format">[10] <em>Manifest Format</em></a>.
                           </p>
                           <p>A Framework implementation must:</p>
                           <div class="itemizedlist"><a xmlns="" class="anchor" id="i2654913"></a><ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p>Process the main section of the manifest. Individual sections
                                                 of the manifest are only used during bundle signature
                                                 verification.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><a xmlns="" class="anchor" id="i2654915"></a>Ignore unrecognized manifest headers. The bundle developer can
                                                 define additional manifest headers as needed.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p>Ignore unknown attributes and directives.</p>
                                 </li>
                              </ul>
                           </div>
                           <p>All specified manifest headers are listed in the following
                                    sections. All headers are optional, unless specifically
                                    indicated.
                           </p>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e1815"></a><span xmlns="" class="number">3.2.1.1</span> Bundle-ActivationPolicy: lazy
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Bundle-ActivationPolicy specifies how the framework should
                                         activate the bundle once started. See <a xmlns="" class="xref" href="framework.lifecycle.html#i3270439" title="4.4.6.1 Activation Policies">Activation Policies</a>.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e1822"></a><span xmlns="" class="number">3.2.1.2</span> Bundle-Activator: com.acme.fw.Activator
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Bundle-Activator header specifies the name of the class used
                                         to start and stop the bundle. See <a xmlns="" class="xref" href="framework.lifecycle.html#i3270328" title="4.4.5 Starting Bundles">Starting Bundles</a>.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e1829"></a><span xmlns="" class="number">3.2.1.3</span> Bundle-Category: osgi, test, nursery
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Bundle-Category header holds a comma-separated list of
                                         category names.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e1834"></a><span xmlns="" class="number">3.2.1.4</span> Bundle-ClassPath: /jar/http.jar,.
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Bundle-ClassPath header defines a comma-separated list of
                                         JAR file path names or directories (inside the bundle) containing
                                         classes and resources. The full stop (<code class="code">'.' \u002E</code>)
                                         specifies the root directory of the bundle's JAR. The full stop is
                                         also the default. See <a xmlns="" class="xref" href="framework.module.html#framework.module.bundleclasspath" title="3.9.1 Bundle Class Path">Bundle Class Path</a>.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e1844"></a><span xmlns="" class="number">3.2.1.5</span> Bundle-ContactAddress: 2400 Oswego Road, Austin, TX
                                                  74563
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Bundle-ContactAddress header provides the contact address of
                                         the vendor.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e1849"></a><span xmlns="" class="number">3.2.1.6</span> Bundle-Copyright: OSGi (c) 2002
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Bundle-Copyright header contains the copyright specification
                                         for this bundle.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e1854"></a><span xmlns="" class="number">3.2.1.7</span> Bundle-Description: Network Firewall
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Bundle-Description header defines a short description of
                                         this bundle.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module-bundle-developers"></a><span xmlns="" class="number">3.2.1.8</span> Bundle-Developers: pkriens; email=pkriens@osgi.org; name="Peter
                                                  Kriens"; organization="OSGi Working Group"
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Bundle-Developers header provides an optional machine
                                         readable form of information about the developers of the bundle. This
                                         header is purely informational and must not be processed by the OSGi
                                         Framework.
                              </p>
                              <p>The syntax for this header is as follows:</p><pre xmlns="" class="programlisting"><code>Bundle-Developers ::= developer ( ',' developer ) *
developer         ::= identifier ( ';' developer-attr ) *
identifier        ::= argument
developer-attr    ::= email | name | url | organization | 
                        organization-url | roles | timezone
email             ::= 'email' '=' &lt;email&gt;
name              ::= 'name' '=' argument
url               ::= 'url' '=' &lt;url&gt;
organization      ::= 'organization' '=' argument
organization-url  ::= 'organizationUrl' '=' &lt;url&gt;
roles             ::= 'roles' '=' argument
timezone          ::= 'timezone' '=' argument</code></pre><p>This header has the following attributes:</p>
                              <div class="itemizedlist">
                                 <ul class="itemizedlist" style="list-style-type: disc; ">
                                    <li class="listitem">
                                       <p><code class="code">email</code> - (optional) The email address of the
                                                      developer.
                                       </p>
                                    </li>
                                    <li class="listitem">
                                       <p><code class="code">name</code> - (optional) The name of the
                                                      developer.
                                       </p>
                                    </li>
                                    <li class="listitem">
                                       <p><code class="code">url</code> - (optional) The URL of the
                                                      developer.
                                       </p>
                                    </li>
                                    <li class="listitem">
                                       <p><code class="code">organization</code> - (optional) The name of the
                                                      organization of the developer.
                                       </p>
                                    </li>
                                    <li class="listitem">
                                       <p><code class="code">organization-url</code> - (optional) The URL of the
                                                      organization of the developer.
                                       </p>
                                    </li>
                                    <li class="listitem">
                                       <p><code class="code">roles</code> - (optional) The roles of the developer.
                                                      This is a comma separated list of role names.
                                       </p>
                                    </li>
                                    <li class="listitem">
                                       <p><code class="code">timezone</code> - (optional) The time zone of where
                                                      the developer resides. The time zone can be an id such as
                                                      <code class="code">America/New_York</code> or a numerical offset in hours from
                                                      UTC.
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                              <p>See <a xmlns="" class="xref" href="framework.module.html#framework.module-maven.pom.developers" title="Maven POM Reference, Developers">[25] <em>Maven POM Reference, Developers</em></a> for
                                         more information. Tools can use the information in this header for POM
                                         generation.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e1913"></a><span xmlns="" class="number">3.2.1.9</span> Bundle-DocURL: http://www.example.com/Firewall/doc
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Bundle-DocURL headers must contain a URL pointing to
                                         documentation about this bundle.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i3216245"></a><span xmlns="" class="number">3.2.1.10</span> Bundle-Icon: /icons/acme-logo.png;size=64
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The optional Bundle-Icon header provides a list of URLs to icons
                                         representing this bundle in different sizes. The following attribute
                                         is permitted:
                              </p>
                              <div class="itemizedlist">
                                 <ul class="itemizedlist" style="list-style-type: disc; ">
                                    <li class="listitem">
                                       <p><code class="code">size</code> - (integer) Specifies the size of the icon
                                                      in pixels horizontal. It is recommended to always include a 64x64
                                                      icon.
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                              <p>The URLs are interpreted as relative to the bundle. That is, if
                                         a URL with a scheme is provided, then this is taken as an absolute
                                         URL. Otherwise, the path points to an entry in the JAR file, taking
                                         any attached fragments into account. Implementations that want to use
                                         this header should at least support the Portable Network Graphics
                                         (PNG) format, see <a xmlns="" class="xref" href="framework.module.html#i3219167" title="Portable Network Graphics (PNG) Specification (Second Edition)">[17] <em>Portable Network Graphics (PNG) Specification (Second Edition)</em></a>.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module-bundle-license"></a><span xmlns="" class="number">3.2.1.11</span> Bundle-License: Apache-2.0;
                                                  link="http://opensource.org/licenses/apache2.0.php"
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Bundle-License header provides an optional machine readable
                                         form of license information. The purpose of this header is to automate
                                         some of the license processing required by many organizations like for
                                         example license acceptance before a bundle is used. The header is
                                         structured to provide the use of unique license naming to merge
                                         acceptance requests, as well as links to human-readable information
                                         about the included licenses. This header is purely informational for
                                         management agents and must not be processed by the OSGi
                                         Framework.
                              </p>
                              <p>The syntax for this header is as follows:</p><pre xmlns="" class="programlisting"><code>Bundle-License ::= '&lt;&lt;EXTERNAL&gt;&gt;' | 
                      ( license ( ',' license ) * )
license        ::= license-identifier ( ';' license-attr ) *
license-attr   ::= description | link
description    ::= 'description' '=' string
link           ::= 'link' '=' &lt;url&gt;</code></pre><p>This header has the following attributes:</p>
                              <div class="itemizedlist">
                                 <ul class="itemizedlist" style="list-style-type: disc; ">
                                    <li class="listitem">
                                       <p><code class="code">license-identifier</code> - Provides a globally unique
                                                      identifier for this license, preferably world wide, but it should
                                                      at least be unique with respect to the other clauses. The magic
                                                      identifier <code class="code">&lt;&lt;EXTERNAL&gt;&gt;</code> is used to
                                                      indicate that this artifact does not specify any license
                                                      information but that licensing information is provided in some
                                                      other way. This is also the default value of this header.
                                       </p>
                                       <p>This identifier should be one of the identifiers defined by
                                                      <a xmlns="" class="xref" href="framework.module.html#framework.module-spdx.license.list" title="Software Package Data Exchange (SPDX) License List">[24] <em>Software Package Data Exchange (SPDX) License List</em></a>. Clients of
                                                      this bundle can assume that licenses with the same identifier
                                                      refer to the same license. This can for example be used to
                                                      minimize the click through licenses.
                                       </p>
                                       <p>Alternatively, the identifier can be the canonical URL of
                                                      the license, it must not be localized by the translator. This URL
                                                      does not have to exist but must not be used for later versions of
                                                      the license. It is recommended to use URLs from <a xmlns="" class="xref" href="framework.module.html#i3222193" title="Open Source Initiative">[18] <em>Open Source Initiative</em></a>. Other licenses should use the following
                                                      structure, but this is not mandated:
                                       </p><pre xmlns="" class="programlisting"><code>http://&lt;domain-name&gt;/licenses/
          &lt;license-name&gt;-&lt;version&gt;.&lt;extension&gt;</code></pre></li>
                                    <li class="listitem">
                                       <p><code class="code">description</code> - (optional) Provide the
                                                      description of the license. This is a short description that is
                                                      usable in a list box on a UI to select more information about the
                                                      license.
                                       </p>
                                    </li>
                                    <li class="listitem">
                                       <p><code class="code">link</code> - (optional) Provide a URL to a page that
                                                      defines or explains the license. If this link is absent, the name
                                                      field is used for this purpose. The URL is relative to the root of
                                                      the bundle. That is, it is possible to refer to a file inside the
                                                      bundle.
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                              <p>If the Bundle-License statement is absent, then this does not
                                         mean that the bundle is not licensed. Licensing could be handled
                                         outside the bundle and the <code class="code">&lt;&lt;EXTERNAL&gt;&gt;</code> form
                                         should be assumed. This header is informational and may not have any
                                         legal bearing. Consult a lawyer before using this header to automate
                                         licensing processing.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i3189740"></a><span xmlns="" class="number">3.2.1.12</span> Bundle-Localization: OSGI-INF/l10n/bundle
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Bundle-Localization header contains the location in the
                                         bundle where localization files can be found. The default value is
                                         <code class="code">OSGI-INF/l10n/bundle</code>. Translations are by default
                                         therefore <code class="code">OSGI-INF/l10n/bundle_de.properties</code>,
                                         <code class="code">OSGI-INF/l10n/bundle_nl.properties</code>, etc. See <a xmlns="" class="xref" href="framework.module.html#i3189742" title="3.11.2 Manifest Localization">Manifest Localization</a>.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e1994"></a><span xmlns="" class="number">3.2.1.13</span> Bundle-ManifestVersion: 2
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Bundle-ManifestVersion header defines that the bundle
                                         follows the rules of this specification. The Bundle-ManifestVersion
                                         header determines whether the bundle follows the rules of this
                                         specification. It is 1 (the default) for Release 3 Bundles, 2 for
                                         Release 4 and later. Future version of the OSGi framework can define
                                         higher numbers for this header.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e1999"></a><span xmlns="" class="number">3.2.1.14</span> Bundle-Name: Firewall
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Bundle-Name header defines a readable name for this bundle.
                                         This should be a short, human-readable name that can contain
                                         spaces.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e2004"></a><span xmlns="" class="number">3.2.1.15</span> Bundle-NativeCode: /lib/http.DLL; osname = QNX; osversion =
                                                  3.1
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Bundle-NativeCode header contains a specification of native
                                         code libraries contained in this bundle. See <a xmlns="" class="xref" href="framework.module.html#framework.module-loading.native.code.libraries" title="3.10 Loading Native Code Libraries">Loading Native Code Libraries</a>.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e2011"></a><span xmlns="" class="number">3.2.1.16</span> Bundle-RequiredExecutionEnvironment:
                                                  CDC-1.0/Foundation-1.0
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Bundle-RequiredExecutionEnvironment contains a
                                         comma-separated list of execution environments that must be present on
                                         the OSGi framework. See <a xmlns="" class="xref" href="framework.module.html#framework.module-execution.environment" title="3.4 Execution Environment">Execution Environment</a>. This header is
                                         deprecated.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module-bundle-scm"></a><span xmlns="" class="number">3.2.1.17</span> Bundle-SCM: url=https://github.com/bndtools/bnd,
                                                  connection=scm:git:https://github.com/bndtools/bnd.git,
                                                  developerConnection=scm:git:git@github.com:bndtools/bnd.git
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Bundle-SCM header provides an optional machine readable form
                                         of information about the source code of the bundle. This header is
                                         purely informational and must not be processed by the OSGi
                                         Framework.
                              </p>
                              <p>The syntax for this header is as follows:</p><pre xmlns="" class="programlisting"><code>Bundle-SCM           ::= scm-attr ( ',' scm-attr ) *
scm-attr             ::= url | connection | developer-connection | tag
url                  ::= 'url' '=' &lt;url&gt;
connection           ::= 'connection' '=' &lt;uri&gt;
developer-connection ::= 'developerConnection' '=' &lt;uri&gt;
tag                  ::= 'tag' '=' argument</code></pre><p>This header has the following attributes:</p>
                              <div class="itemizedlist">
                                 <ul class="itemizedlist" style="list-style-type: disc; ">
                                    <li class="listitem">
                                       <p><code class="code">url</code> - (optional) The URL to browse the source
                                                      code repository.
                                       </p>
                                    </li>
                                    <li class="listitem">
                                       <p><code class="code">connection</code> - (optional) The <code class="code">scm:</code>
                                                      URI for read access to the source code repository.
                                       </p>
                                    </li>
                                    <li class="listitem">
                                       <p><code class="code">developer-connection</code> - (optional) The
                                                      <code class="code">scm:</code> URI for write access to the source code
                                                      repository.
                                       </p>
                                    </li>
                                    <li class="listitem">
                                       <p><code class="code">tag</code> - (optional) The tag within the source code
                                                      repository.
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                              <p>See <a xmlns="" class="xref" href="framework.module.html#framework.module-maven.pom.scm" title="Maven POM Reference, SCM">[26] <em>Maven POM Reference, SCM</em></a> for more
                                         information. Tools can use the information in this header for POM
                                         generation.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e2060"></a><span xmlns="" class="number">3.2.1.18</span> Bundle-SymbolicName: com.acme.daffy
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Bundle-SymbolicName header specifies a non-localizable name
                                         for this bundle. The bundle symbolic name together with a version must
                                         identify a unique bundle though it can be installed multiple times in
                                         a framework. The bundle symbolic name should be based on the reverse
                                         domain name convention, see <a xmlns="" class="xref" href="framework.module.html#framework.module.bsn" title="3.6.2 Bundle-SymbolicName">Bundle-SymbolicName</a>.
                                         This header must be set.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e2067"></a><span xmlns="" class="number">3.2.1.19</span> Bundle-UpdateLocation:
                                                  http://www.acme.com/Firewall/bundle.jar
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Bundle-UpdateLocation header specifies a URL where an update
                                         for this bundle should come from. If the bundle is updated, this
                                         location should be used, if present, to retrieve the updated JAR
                                         file.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e2072"></a><span xmlns="" class="number">3.2.1.20</span> Bundle-Vendor: OSGi Working Group
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Bundle-Vendor header contains a human-readable description
                                         of the bundle vendor.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e2077"></a><span xmlns="" class="number">3.2.1.21</span> Bundle-Version: 1.1
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Bundle-Version header specifies the version of this bundle.
                                         See <a xmlns="" class="xref" href="framework.module.html#i2655136" title="3.2.5 Version">Version</a>. The default value is
                                         <code class="code">0.0.0</code></p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e2086"></a><span xmlns="" class="number">3.2.1.22</span> DynamicImport-Package: com.acme.plugin.*
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The DynamicImport-Package header contains a comma-separated list
                                         of package names that should be dynamically imported when needed. See
                                         <a xmlns="" class="xref" href="framework.module.html#framework.module.dynamicimportpackage" title="3.9.2 Dynamic Import Package">Dynamic Import Package</a>.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e2093"></a><span xmlns="" class="number">3.2.1.23</span> Export-Package: org.osgi.util.tracker;version=1.3
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Export-Package header contains a declaration of exported
                                         packages. See <a xmlns="" class="xref" href="framework.module.html#framework.module.exportpackage" title="3.6.5 Export-Package">Export-Package</a>.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e2100"></a><span xmlns="" class="number">3.2.1.24</span> Export-Service: org.osgi.service.log.LogService
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>Deprecated.</p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e2105"></a><span xmlns="" class="number">3.2.1.25</span> Fragment-Host: org.eclipse.swt;
                                                  bundle-version="[3.0.0,4.0.0)"
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Fragment-Host header defines the host bundles for this
                                         fragment. See <a xmlns="" class="xref" href="framework.module.html#framework.module.fragmenthost" title="3.14.1 Fragment-Host">Fragment-Host</a></p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e2111"></a><span xmlns="" class="number">3.2.1.26</span> Import-Package:
                                                  org.osgi.util.tracker,org.osgi.service.log;version=1.4
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Import-Package header declares the imported packages for
                                         this bundle. See <a xmlns="" class="xref" href="framework.module.html#framework.module.importpackage" title="3.6.4 Import-Package">Import-Package</a>.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e2118"></a><span xmlns="" class="number">3.2.1.27</span> Import-Service: org.osgi.service.log.LogService
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>Deprecated</p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e2123"></a><span xmlns="" class="number">3.2.1.28</span> Provide-Capability: com.acme.dict; from=nl; to=de;
                                                  version:Version=1.2
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>Specifies that a bundle provides a set of Capabilities, see
                                         <a xmlns="" class="xref" href="framework.module.html#framework.module.dependencies" title="3.3 Dependencies">Dependencies</a>.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e2130"></a><span xmlns="" class="number">3.2.1.29</span> Require-Bundle: com.acme.chess
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>The Require-Bundle header specifies that all exported packages
                                         from another bundle must be imported, effectively requiring the public
                                         interface of another bundle. See <a xmlns="" class="xref" href="framework.module.html#framework.module.requirebundle" title="3.13.1 Require-Bundle">Require-Bundle</a></p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e2136"></a><span xmlns="" class="number">3.2.1.30</span> Require-Capability: osgi.ee;
                                                  filter:="(&amp;(osgi.ee=AcmeMin)(version=1.1))"
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>Specifies that a bundle requires other bundles to provide a
                                         capability, see <a xmlns="" class="xref" href="framework.module.html#framework.module.dependencies" title="3.3 Dependencies">Dependencies</a>.
                              </p>
                           </div>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i3224842"></a><span xmlns="" class="number">3.2.2</span> Custom Headers
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>The manifest is an excellent place to provide metadata belonging
                                    to a bundle. This is true for the OSGi Working Group but it is also
                                    valid for other organizations. For historic reasons, the OSGi Working
                                    Group claims the default namespace, specifically headers that indicate
                                    OSGi related matters like names that contain Bundle, Import, Export,
                                    etc. Organizations that want to use headers that do not clash with OSGi
                                    Working Group defined names or bundle header names from other
                                    organizations should prefix custom headers with <code class="code">x-</code>, for
                                    example <code class="code">x-LazyStart</code>.
                           </p>
                           <p>Organizations external to the OSGi Working Group can request
                                    header names in the OSGi namespace. The OSGi Working Group maintains a
                                    registry of such names at <a xmlns="" class="xref" href="framework.module.html#i3215677" title="OSGi Header Registry">[15] <em>OSGi Header Registry</em></a>.
                           </p>
                           <p>The <a xmlns="" class="xref" href="framework.api.html#org.osgi.annotation.bundle.Header" title="10.8.8 @Header">Header</a> annotation can be used on a class or package to
                                    specify a header for a bundle. This annotation can be processed by
                                    bundle assembly tools to generate the specified header information in
                                    the bundle's manifest.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e2162"></a><span xmlns="" class="number">3.2.3</span> Header Value Syntax
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Each Manifest header has its own syntax. In all descriptions, the
                                    syntax is defined with <a xmlns="" class="xref" href="framework.module.html#i3024215" title="W3C EBNF">[11] <em>W3C EBNF</em></a>. These following
                                    sections define a number of commonly used terminals.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.common.header.syntax"></a><span xmlns="" class="number">3.2.4</span> Common Header Syntax
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Many Manifest header values share a common syntax. This syntax
                                    consists of:
                           </p><pre xmlns="" class="programlisting"><code>header ::= clause ( ',' clause ) *
clause ::= path ( ';' path ) *  
              ( ';' parameter ) *     // See <a class="xref" href="framework.introduction.html#framework.general.syntax" title="1.3.2 General Syntax Definitions"><span class="number">1.3.2</span></a></code></pre><p>A parameter can be either a <span class="emphasis"><em>directive</em></span> or an
                                    <span class="emphasis"><em>attribute</em></span>. A directive is an instruction that has
                                    some implied semantics for the Framework. An attribute is used for
                                    matching and comparison purposes.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i2655136"></a><span xmlns="" class="number">3.2.5</span> Version
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Version specifications are used in several places. A version has
                                    the following grammar:
                           </p><pre xmlns="" class="programlisting"><code>version     ::= 
        major( '.' minor ( '.' micro ( '.' qualifier )? )? )?

major       ::= number                   // See <a class="xref" href="framework.introduction.html#framework.general.syntax" title="1.3.2 General Syntax Definitions"><span class="number">1.3.2</span></a>
minor       ::= number
micro       ::= number
qualifier   ::= ( alphanum | '_' | '-' )+</code></pre><p>A version must not contain any white space. The default value for
                                    a version is <code class="code">0.0.0</code>.
                           </p>
                           <p>Versions are supported in the API with the <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.Version" title="10.1.33 public class Version implements Comparable&lt;Version&gt;">Version</a>
                                    class.
                           </p>
                           <p>The <a xmlns="" class="xref" href="framework.api.html#org.osgi.annotation.versioning.Version" title="10.7.4 @Version">Version</a> annotation can be used in
                                    <code class="code">package-info.java</code> source files to document the version of a
                                    package. This annotation can be processed by bundle assembly tools when
                                    generating the version information for a bundle's Export-Package
                                    manifest header.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i3189032"></a><span xmlns="" class="number">3.2.6</span> Version Ranges
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>A version range describes a range of versions using a mathematical
                                    interval notation. See <a xmlns="" class="xref" href="framework.module.html#i3024221" title="Interval (Mathematics)">[12] <em>Interval (Mathematics)</em></a>. The syntax of a
                                    version range is:
                           </p><pre xmlns="" class="programlisting"><code>version-range ::= interval | atleast
interval      ::= ( '[' | '(' ) floor ',' ceiling ( ']' | ')' )
atleast       ::= version
floor         ::= version
ceiling       ::= version</code></pre><p>If a version range is specified as a single version, it must be
                                    interpreted as the range <code class="code">[version,</code><span class="symbol">∞</span><code class="code">)</code>. The default for a non-specified
                                    version range is 0, which maps to <code class="code">[0.0.0,</code><span class="symbol">∞</span><code class="code">)</code>.
                           </p>
                           <p>Note that the use of a comma in the version range requires it to
                                    be enclosed in double quotes. For example:
                           </p><pre xmlns="" class="programlisting"><code>Import-Package: com.acme.foo;version="[1.23,2)", «
   com.acme.bar;version="[4.0, 5.0)"</code></pre><p>In the following table, for each specified range in the left-hand
                                    column, a version <span class="emphasis"><em>x</em></span> is considered to be a member of
                                    the range if the predicate in the right-hand column is true.
                           </p>
                           <div class="table"><a xmlns="" class="anchor" id="d0e2244"></a><p class="title"><strong>Table <span xmlns="" class="number">3</span>.1 Examples of version ranges</strong></p>
                              <div class="table-contents">
                                 <table summary="Examples of version ranges" style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; ">
                                    <colgroup>
                                       <col />
                                       <col />
                                    </colgroup>
                                    <thead>
                                       <tr>
                                          <th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">Example</th>
                                          <th style="border-bottom: 0.5pt solid ; ">Predicate</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr>
                                          <td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                             <p><code class="code">[1.2.3, 4.5.6)</code></p>
                                          </td>
                                          <td style="border-bottom: 0.5pt solid ; ">
                                             <p><code class="code">1.2.3 &lt;= x &lt;
                                                                 4.5.6</code></p>
                                          </td>
                                       </tr>
                                       <tr>
                                          <td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                             <p><code class="code">[1.2.3, 4.5.6]</code></p>
                                          </td>
                                          <td style="border-bottom: 0.5pt solid ; ">
                                             <p><code class="code">1.2.3 &lt;= x &lt;=
                                                                 4.5.6</code></p>
                                          </td>
                                       </tr>
                                       <tr>
                                          <td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                             <p><code class="code">(1.2.3, 4.5.6)</code></p>
                                          </td>
                                          <td style="border-bottom: 0.5pt solid ; ">
                                             <p><code class="code">1.2.3 &lt; x &lt; 4.5.6</code></p>
                                          </td>
                                       </tr>
                                       <tr>
                                          <td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                             <p><code class="code">(1.2.3, 4.5.6]</code></p>
                                          </td>
                                          <td style="border-bottom: 0.5pt solid ; ">
                                             <p><code class="code">1.2.3 &lt; x &lt;=
                                                                 4.5.6</code></p>
                                          </td>
                                       </tr>
                                       <tr>
                                          <td style="border-right: 0.5pt solid ; ">
                                             <p><code class="code">1.2.3</code></p>
                                          </td>
                                          <td style="">
                                             <p><code class="code">1.2.3 &lt;= x</code></p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                           </div><br class="table-break" /><p>Version Ranges are supported in the API with the <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.VersionRange" title="10.1.34 public class VersionRange">VersionRange</a>
                                    class.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module.filtersyntax"></a><span xmlns="" class="number">3.2.7</span> Filter Syntax
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>The OSGi specifications use filter expressions extensively. Filter
                                    expressions allow for a concise description of a
                                    <span class="emphasis"><em>constraint</em></span>. The syntax of a filter string is based
                                    upon the string representation of LDAP search filters as defined in
                                    <a xmlns="" class="xref" href="framework.module.html#i3024195" title="A String Representation of LDAP Search Filters">[5] <em>A String Representation of LDAP Search Filters</em></a>. It should be noted that RFC 2254: A String
                                    Representation of LDAP Search Filters supersedes RFC 1960, but only adds
                                    extensible matching and is not applicable to this OSGi Framework
                                    API.
                           </p>
                           <p>The string representation of an LDAP search filter uses a prefix
                                    format and is defined by the following grammar:
                           </p><pre xmlns="" class="programlisting"><code>filter      ::= '(' filter-comp ')'
filter-comp ::= and | or | not | operation
and         ::= '&amp;' filter-list
or          ::= '|' filter-list
not         ::= '!' filter
filter-list ::= filter | filter filter-list
operation   ::= simple | present | substring
simple      ::= attr filter-type value
filter-type ::= equal | approx | greater-eq | less-eq
equal       ::= '='
approx      ::= '~='
greater-eq  ::= '&gt;='
less-eq     ::= '&lt;='
present     ::= attr '=*'
substring   ::= attr '=' initial any final
initial     ::= () | value
any         ::= '*' star-value
star-value  ::= () | value '*' star-value
final       ::= () | value
value       ::= &lt;see text&gt;
attr        ::= &lt;see text&gt;</code></pre><p><code class="code">attr</code> is a string representing an attribute key or
                                    name. Attribute names are not case sensitive; that is, <code class="code">cn</code>
                                    and <code class="code">CN</code> both refer to the same attribute. <code class="code">attr</code>
                                    must not contain the characters '=', '&gt;', '&lt;', '~', '(' or ')'.
                                    <code class="code">attr</code> may contain embedded spaces but leading and trailing
                                    spaces must be ignored.
                           </p>
                           <p><code class="code">value</code> is a string representing the value, or part of
                                    one, which will be compared against a value in the filtered
                                    properties.
                           </p>
                           <p>If <code class="code">value</code> must contain one of the characters reverse
                                    solidus (<code class="code">'\' \u005C</code>), asterisk (<code class="code">'*' \u002A</code>),
                                    parentheses open (<code class="code">'(' \u0028</code>) or parentheses close
                                    (<code class="code">')' \u0029</code>), then these characters should be preceded with
                                    the reverse solidus (<code class="code">'\' \u005C</code>) character. Spaces are
                                    significant in <code class="code">value</code>. Space characters are defined by
                                    <code class="code">Character.isWhiteSpace()</code>.
                           </p>
                           <p>Although both the <code class="code">substring</code> and <code class="code">present</code>
                                    productions can produce the <code class="code">attr=*</code> construct, this
                                    construct is used only to denote a presence filter.
                           </p>
                           <p>The <code class="code">substring</code> production only works for attributes
                                    that are of type <code class="code">String</code>, <code class="code">Collection</code> of
                                    <code class="code">String</code> or <code class="code">String[]</code>. In all other cases the
                                    result must be <code class="code">false</code>.
                           </p>
                           <p>The evaluation of the approximate match (<code class="code">'~='</code>) filter
                                    type is implementation specific but should at least ignore case and
                                    white space differences. Codes such as Soundex or other smart
                                    <span class="emphasis"><em>closeness</em></span> comparisons could be used.
                           </p>
                           <p>Values specified in the filter are compared to values in the
                                    properties against which the filter is evaluated. The comparison of
                                    these values is not straightforward. Strings compare differently than
                                    numbers, and it is also possible for a property to have multiple
                                    values.
                           </p>
                           <p>Property keys are case insensitive. The object class of the
                                    property's value defines the comparison type. The properties values
                                    should be of the following types:
                           </p>
                           <div class="figure"><a xmlns="" class="anchor" id="i3217016"></a><p class="title"><strong>Figure <span xmlns="" class="number">3</span>.1 Primary Property Types</strong></p>
                              <div class="figure-contents"><pre xmlns="" class="programlisting"><code>type        ::=  scalar  | collection | array
scalar      ::=  String | Integer | Long | Float 
                    | Double | Byte | Short 
                    | Character | Boolean
primitive   ::= int | long | float | double | byte 
                    | short | char | boolean
array       ::= &lt;Array of primitive&gt;  
                    | &lt;Array of scalar&gt;
collection  ::= &lt;Collection of scalar&gt;</code></pre></div>
                           </div><br class="figure-break" /><p>The following rules apply for comparison:</p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><span class="emphasis"><em>String</em></span> - Use String comparison
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><span class="emphasis"><em>Integer, Long, Float, Double, Byte, Short, Character
                                                       objects and primitives</em></span> - Use numerical comparison. The
                                                 <code class="code">value</code> should be trimmed of any extraneous white space
                                                 before the comparison.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><span class="emphasis"><em>Boolean objects</em></span> - Use comparison defined
                                                 by <code class="code">Boolean.valueOf(value).booleanValue()</code>. The
                                                 <code class="code">value</code> should be trimmed of any extraneous white space
                                                 before this conversion is applied.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><span class="emphasis"><em>Array or Collection elements</em></span> - Comparison
                                                 is determined by the object type of the element
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>Array and Collection elements may be a mix of scalar types. Array
                                    and Collection elements may also be <code class="code">null</code>. If the type of
                                    the property value is not one of the above types, then it could be
                                    possible to create an instance of the above type. The following
                                    conversions must be tried in the given order:
                           </p>
                           <div class="orderedlist">
                              <ol class="orderedlist" type="1">
                                 <li class="listitem">
                                    <p>A public static method on the required type called
                                                 <code class="code">valueOf</code> that returns an instance of the given type and
                                                 takes a single <code class="code">String</code> argument.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p>A public constructor taking a single <code class="code">String</code>
                                                 argument.
                                    </p>
                                 </li>
                              </ol>
                           </div>
                           <p>If one of these methods is available then the Framework must
                                    construct a temporary object by passing the <code class="code">value</code> as the
                                    <code class="code">String</code> argument. If the constructor/function is not
                                    directly accessible then the invocation should use the
                                    <code class="code">setAccessible</code> method to make it accessible.
                           </p>
                           <p>The resulting object must be used to compare with the property
                                    value according to the following comparison rules:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><span class="emphasis"><em>Comparable objects</em></span> - Comparison through
                                                 the <code class="code">Comparable</code> interface
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><span class="emphasis"><em>Other objects</em></span> - Equality
                                                 comparison
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>If none of the above comparison rules apply, then the result of
                                    the comparison is <code class="code">false</code>.
                           </p>
                           <p>A filter matches a property with multiple values if it matches at
                                    least one of those values. For example:
                           </p><pre xmlns="" class="programlisting"><code>Dictionary dict = new Hashtable();
dict.put( "cn", new String[] { "a", "b", "c" } );</code></pre><p>The <code class="code">dict</code> will match against a filter with
                                    <code class="code">(cn=a)</code> as well as <code class="code">(cn=b)</code>.
                           </p>
                           <p>Service properties are often defined to take a type, a collection
                                    of that type, or an array of that type. In those cases, a simple + will
                                    be suffixed to the type name. For example <code class="code">String+</code>,
                                    indicates that a <code class="code">String</code>, a <code class="code">String[]</code>, and a
                                    <code class="code">Collection&lt;String&gt;</code> are all valid forms.
                           </p>
                           <p>Filters are supported in the API with the <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.Filter" title="10.1.16 public interface Filter">Filter</a> type.
                                    Filters can be created with the <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.FrameworkUtil" title="10.1.19 public class FrameworkUtil">FrameworkUtil</a>.<a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.FrameworkUtil.createFilter-String-" title="10.1.19.3 public static Filter createFilter(String filter)">createFilter(String)</a> method or the <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.BundleContext" title="10.1.7 public interface BundleContext extends BundleReference">BundleContext</a>.<a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.BundleContext.createFilter-String-" title="10.1.7.5 public Filter createFilter(String filter)">createFilter(String)</a> method.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module-multireleasejar"></a><span xmlns="" class="number">3.2.8</span> Multi-release JAR
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>A bundle JAR file can be a multi-release JAR. See <a xmlns="" class="xref" href="framework.module.html#framework.module-ref.multireleasejar" title="Multi-release JAR File">[27] <em>Multi-release JAR File</em></a>. When a bundle is a
                                    multi-release JAR, that is, the manifest contains
                           </p><pre xmlns="" class="programlisting"><code>Multi-Release: true</code></pre><p>then the Framework must look for a supplemental manifest file,
                                    <code class="code">OSGI-INF/MANIFEST.MF</code>, in the versioned directories. For
                                    example:
                           </p><pre xmlns="" class="programlisting"><code>META-INF/versions/9/OSGI-INF/MANIFEST.MF</code></pre><p>The Framework must first look in the versioned directory for the
                                    major version of the current Java platform and then prior versioned
                                    directories in descending order. The first supplemental manifest file
                                    found must be used and the Framework must replace the values of the
                                    following manifest headers in the manifest with the values of these
                                    headers, if present, in the supplemental manifest file.
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">Import-Package</code></p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">Require-Capability</code></p>
                                 </li>
                              </ul>
                           </div>
                           <p>Any other headers in the supplemental manifest file must be
                                    ignored.
                           </p>
                           <p>The Framework APIs which provide access to the bundle metadata,
                                    such as <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.Bundle.getHeaders--" title="10.1.5.19 public Dictionary&lt;String, String&gt; getHeaders()">getHeaders()</a> and <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.wiring.BundleRevision" title="10.4.4 public interface BundleRevision extends BundleReference, Resource">BundleRevision</a> and <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.wiring.BundleWiring" title="10.4.7 public interface BundleWiring extends BundleReference, Wiring">BundleWiring</a>, must present the supplemented manifest
                                    information. That is, the main manifest with the replacement values from
                                    a supplemental manifest, if any, for the running Java platform
                                    version.
                           </p>
                           <p>Both fragment bundles as well as non-fragment bundles can be
                                    multi-release JARs.
                           </p>
                           <p>Support for multi-release JARs must only be active on Java 9 and
                                    later. On Java 8 and earlier, the JAR must be treated as a
                                    non-multi-release JAR.
                           </p>
                        </div>
                     </div>
                     <div class="section">
                        <div xmlns="" class="titlepage">
                           <div>
                              <div>
                                 <h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a xmlns="" class="anchor" id="framework.module.dependencies"></a><span xmlns="" class="number">3.3</span> Dependencies
                                 </h2>
                              </div>
                           </div>
                        </div>
                        <p>OSGi dependency handling is based on a very general model that
                               describes the dependency relationships. This model consists of a small
                               number of primitive concepts:
                        </p>
                        <div class="itemizedlist">
                           <ul class="itemizedlist" style="list-style-type: disc; ">
                              <li class="listitem">
                                 <p><span class="emphasis"><em>Environment</em></span> - A container or framework that
                                            installs Resources.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p><span class="emphasis"><em>Resource</em></span> - An abstraction for an artifact
                                            that needs to become installed in some way to provide its intended
                                            function. A Bundle is modeled by a Resource but for example a display
                                            or secure USB key store can also be Resources.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p><span class="emphasis"><em>Namespace</em></span> - Defines what it means for the
                                            Environment when a requirement and capability match in a given
                                            Namespace.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p><span class="emphasis"><em>Capability</em></span> - Describing a feature or
                                            function of the Resource when installed in the Environment. A
                                            capability has attributes and directives.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p><span class="emphasis"><em>Requirement</em></span> - An assertion on the
                                            availability of a capability in the Environment. A requirement has
                                            attributes and directives. The <code class="code">filter</code> directive contains
                                            the filter to assert the attributes of the capability in the same
                                            Namespace.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>The relations between these entities are depicted in <a xmlns="" class="xref" href="framework.module.html#i3308531" title="Figure 3.2 Core Requirement/Capability model">Figure <span class="number">3</span>.2</a>.
                        </p>
                        <div class="figure"><a xmlns="" class="anchor" id="i3308531"></a><p class="title"><strong>Figure <span xmlns="" class="number">3</span>.2 Core Requirement/Capability model</strong></p>
                           <div class="figure-contents">
                              <div class="mediaobject" align="center"><img src="images/003-core-req-cap-model.png" align="middle" width="577" height="209" alt="Core Requirement/Capability model" /></div>
                           </div>
                        </div><br class="figure-break" /><p>A Resource in general has dependencies on other Resources or can
                               satisfy other Resource's dependencies. Dependency types can vary wildly, a
                               Bundle can require packages from another Bundle (Import-Package), or a
                               Fragment needs a host Bundle (Fragment-Host), or a Bundle requires access
                               to a high resolution display. The OSGi Core specification demonstrates
                               that it is possible to describe these varying types of dependencies with
                               dedicated headers, optimized for each case. However, this model requires
                               that every type of dependency will go through a specification process,
                               limiting the usefulness for parties not participating in this process.
                               Therefore, this specification provides a generic dependency model based on
                               <span class="emphasis"><em>Namespaces</em></span>. A Namespace is the
                               <span class="emphasis"><em>type</em></span> of a dependency. For example, the
                               <code class="code">osgi.wiring.package</code> Namespace defines the semantics for
                               Import-Package and Export-Package headers by specifying a number of
                               <span class="emphasis"><em>attributes</em></span> and <span class="emphasis"><em>directives</em></span>.
                               Attributes are used for matching and directives provide information about
                               the semantics of the Namespace. For example, in the case of the
                               <code class="code">osgi.wiring.host</code> Namespace (Fragments) the capability's
                               attributes are:
                        </p>
                        <div class="itemizedlist">
                           <ul class="itemizedlist" style="list-style-type: disc; ">
                              <li class="listitem">
                                 <p><code class="code">osgi.wiring.host</code> - (<code class="code">String</code>) The host's
                                            name.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p><code class="code">bundle-version</code> - (<code class="code">Version</code>) The host's
                                            version.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p><code class="code">*</code> - Any other attributes are allowed.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>The OSGi Framework Namespaces are defined in classes, see <a xmlns="" class="xref" href="framework.namespaces.html" title="8 Framework Namespaces Specification"><em xmlns="http://www.w3.org/1999/xhtml">Framework Namespaces Specification</em></a>.
                        </p>
                        <p>The purpose of a Namespace is to create an attribute/directive based
                               language that describes a dependency in a generic way unrelated to the
                               specific dependency type. A number of Namespaces have been defined by the
                               OSGi Working Group in this and other specifications. OSGi namespaces start
                               with the reserved <code class="code">osgi.</code> prefix. For example, the
                               <code class="code">osgi.ee</code> namespace defines a capability for specifying an
                               execution environment. A Namespace can also be defined by other
                               organizations and individuals. To minimize name clashes it is recommended
                               to use the reverse domain name rule used for packages and bundle symbolic
                               names. It is also recommended to register these Namespaces with the OSGi
                               Working Group, see <a xmlns="" class="xref" href="framework.module.html#framework.module.namespace-registry" title="OSGi Namespace Registry">[16] <em>OSGi Namespace Registry</em></a>
                               to prevent clashes.
                        </p>
                        <p>Given a Namespace, it is possible to declare a
                               <span class="emphasis"><em>capability</em></span> of that Namespace. A capability provides
                               the values for the attributes and directives defined in the Namespace. For
                               example, it is possible to translate the Export-Package header to a
                               capability in the <code class="code">osgi.wiring package</code> Namespace.
                        </p>
                        <p>Given a capability, it is possible to specify a
                               <span class="emphasis"><em>requirement</em></span>. A requirement has a filter that can
                               match the attributes of the capability, if so, the requirement is
                               <span class="emphasis"><em>satisfied</em></span>. Requirements are always associated with a
                               given Namespace, like the capability, and can therefore only be
                               <span class="emphasis"><em>satisfied</em></span> by Capabilities in the same Namespace. A
                               requirement is satisfied when its filter, as specified with the
                               <code class="code">filter</code> directive, matches a capability's attributes. The
                               filter language specification can be found in <a xmlns="" class="xref" href="framework.module.html#framework.module.filtersyntax" title="3.2.7 Filter Syntax">Filter Syntax</a>. A requirement can be
                               <span class="emphasis"><em>mandatory</em></span> or <span class="emphasis"><em>optional</em></span>, as set
                               with its <code class="code">resolution</code> directive. A requirement can have
                               <code class="code">single</code> or <code class="code">multiple</code> cardinality, indicating it
                               requires at least one or more Capabilities.
                        </p>
                        <p>A Resource that declares requirements can only provide its intended
                               functionality when its mandatory requirements are satisfied by one or more
                               Capabilities, which in general means they come from other Resources. A
                               Resource that has all its mandatory requirements satisfied is said to be
                               <span class="emphasis"><em>resolved</em></span> and must provide the functionality described
                               by its Capabilities. A capability can only satisfy a requirement if its
                               Resource is resolved.
                        </p>
                        <p>The process of matching up requirements to capabilities is called
                               <span class="emphasis"><em>resolving</em></span>. In this process, the resolver must create
                               <span class="emphasis"><em>Wires</em></span> that link requirements to Capabilities. Both
                               the Wire and the requirement/ Capability have a reference to a Resource.
                               In certain cases the requirement/ capability can be declared in one
                               Resource but wired from another Resource. Therefore, a requirement/
                               capability can have a <span class="emphasis"><em>declared</em></span> Resource, which is the
                               Resource that declares it. However, when a Resource is
                               <span class="emphasis"><em>wired</em></span> the Wire has a <span class="emphasis"><em>provider</em></span> or
                               <span class="emphasis"><em>requirer</em></span> Resource which can differ from the
                               corresponding declared Resource. When the declared Resource differs from
                               the provider/requirer it is called <span class="emphasis"><em>hosting</em></span>. This
                               separation is caused by Fragments; with Fragments some requirements and
                               Capabilities are hosted and others remain part of the Fragment.
                        </p>
                        <p>Only requirements that are <span class="emphasis"><em>effective</em></span> must be
                               wired. Each requirement is intended for a certain state of the system. For
                               example, the OSGi Framework only resolves requirements when the
                               requirement has the <code class="code">effective</code> directive set to
                               <code class="code">resolve</code>.
                        </p>
                        <p>Once a set of Resources are resolved the Environment, for example
                               the OSGi Framework for bundles, creates a <span class="emphasis"><em>Wiring</em></span> per
                               Resource to hold the resolved state. This state includes the Wires as well
                               as all Capabilities and requirements, regardless if they are wired or
                               not.
                        </p>
                        <p>The Wires between a requirement and a capability must be created
                               according to the semantics implied by their Namespace. The Wires coming
                               out of a resolve operation can be used during run time as specified in
                               their Namespace. For example, the <code class="code">osgi.wiring.*</code> Namespaces
                               are used to control the Class Loading, see <a xmlns="" class="xref" href="framework.wiring.html" title="7 Bundle Wiring API Specification"><em xmlns="http://www.w3.org/1999/xhtml">Bundle Wiring API Specification</em></a>. However, they can also serve other purposes
                               as outlined by their Namespace. For example, a Wire could specify a
                               Dependency Injection source and target.
                        </p>
                        <p>Interfaces for the generic model are defined in <a xmlns="" class="xref" href="framework.resource.html" title="6 Resource API Specification"><em xmlns="http://www.w3.org/1999/xhtml">Resource API Specification</em></a>. The <a xmlns="" class="xref" href="framework.wiring.html" title="7 Bundle Wiring API Specification"><em xmlns="http://www.w3.org/1999/xhtml">Bundle Wiring API Specification</em></a>
                               chapter describes the Wiring API that is based on this generic package.
                               The generic API is intended for other specifications that want to be
                               compatible with the generic OSGi Core framework's Capability /Requirement
                               model.
                        </p>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e2777"></a><span xmlns="" class="number">3.3.1</span> Bundles
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>All bundles depend on one or more external entities and this is
                                    expressed as requirements and Capabilities. Once a bundle is resolved,
                                    it assumes that those dependencies are <span class="emphasis"><em>satisfied</em></span>.
                                    The Require-Capability and Provide-Capability headers are manifest
                                    headers that <span class="emphasis"><em>declare</em></span> generic requirements and
                                    Capabilities in any Namespace. However, a number of manifest headers in
                                    the OSGi specifications are actually requirements on Capabilities
                                    specified by other OSGi manifest headers. For example, an Import-Package
                                    clause is a requirement on the capability specified by an Export-Package
                                    clause. The attributes on an Import-Package clause are treated as
                                    assertions on the attributes of the corresponding Export-Package clause.
                                    This specification therefore contains a number of Namespaces for these
                                    OSGi manifest headers: <code class="code">osgi.wiring.bundle</code>,
                                    <code class="code">osgi.wiring.package</code>, and <code class="code">osgi.wiring.host</code>.
                                    These namespaces influence the resolver and define the class loading
                                    process. For example, a Require-Bundle clause is a requirement that
                                    ensures that the exported packages of the required bundle are available
                                    to the requirer's class loader.
                           </p>
                           <p>The OSGi resolving process is described in <a xmlns="" class="xref" href="framework.module.html#framework.module.resolvingprocess" title="3.8 Resolving Process">Resolving Process</a>. The diagramming technique
                                    of the Requirement/Capability model is depicted in <a xmlns="" class="xref" href="framework.module.html#i3249403" title="Figure 3.3 Requirements and Capabilities and their Wiring">Figure <span class="number">3</span>.3</a>, the details of the wiring are further explained in
                                    <a xmlns="" class="xref" href="framework.wiring.html" title="7 Bundle Wiring API Specification"><em xmlns="http://www.w3.org/1999/xhtml">Bundle Wiring API Specification</em></a>.
                           </p>
                           <div class="figure"><a xmlns="" class="anchor" id="i3249403"></a><p class="title"><strong>Figure <span xmlns="" class="number">3</span>.3 Requirements and Capabilities and their Wiring</strong></p>
                              <div class="figure-contents">
                                 <div class="mediaobject" align="center"><img src="images/003-req-cap-wiring.png" align="middle" width="558" height="162" alt="Requirements and Capabilities and their Wiring" /></div>
                              </div>
                           </div><br class="figure-break" /></div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e2811"></a><span xmlns="" class="number">3.3.2</span> Example Use Case
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>A bundle has Windows 7 specific Java code and requires a display
                                    that has a resolution of at least 1000x1000 pixels. It also relies on a
                                    bundle providing an IP-number-to-location table.
                           </p>
                           <p>These dependencies on the environment and another bundle can be
                                    expressed with the requirement header in the bundle as follows:
                           </p><pre xmlns="" class="programlisting"><code>Require-Capability:
  com.microsoft;    filter:="(&amp;(api=win32)(version=7))",
  com.acme.display; filter:="(&amp;(width&gt;=1000)(height&gt;=1000))",
  com.acme.ip2loc</code></pre><p>Each clause lives in a namespace, for example
                                    <code class="code">com.microsoft</code>. A namespace defines the semantics of the
                                    attributes as well as optional rules.
                           </p>
                           <p>The deployer of the environment sets the following launching
                                    property when starting the framework:
                           </p><pre xmlns="" class="programlisting"><code>org.osgi.framework.system.capabilities.extra= «
  com.acme.display; width:Long=1920; height:Long=1080; interlace=p, «
  com.microsoft; edition=home; version:Version=7; api=win32</code></pre><p>The framework will be able to satisfy the display requirement but
                                    it cannot satisfy the <code class="code">ip2loc</code> table requirement. The
                                    deployer can then install the bundle with the <code class="code">ip2loc</code> table.
                                    This bundle specifies the following header:
                           </p><pre xmlns="" class="programlisting"><code>Provide-Capability: com.acme.ip2loc; version:Version=1.2</code></pre><p>After installing and resolving this bundle, the framework can
                                    resolve the original bundle because there is now a provider of the
                                    <code class="code">ip2loc</code> table.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e2844"></a><span xmlns="" class="number">3.3.3</span> Bundle Capabilities
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>A generic capability for a Bundle is defined with the
                                    Provide-Capability header. This header has the following syntax:
                           </p><pre xmlns="" class="programlisting"><code>Provide-Capability  ::= capability (',' capability )*
capability          ::= name-space 
                            ( ';' directive | typed-attr )*
name-space          ::= symbolic-name
typed-attr          ::=  extended ( ':' type )? '=' argument
type                ::= scalar | list
scalar              ::= 'String' | 'Version' | 'Long' 
                            |   'Double' 
list                ::= 'List' ( '&lt;' scalar '&gt;' )?</code></pre><p>The <a xmlns="" class="xref" href="framework.api.html#org.osgi.annotation.bundle.Capability" title="10.8.4 @Capability">Capability</a> annotation can be used on a class or package to
                                    specify a capability to be provided by the bundle. This annotation can
                                    be processed by bundle assembly tools to add the capability to the
                                    Provide-Capability header in the bundle's manifest.
                           </p>
                           <p>The header has the following directives architected:</p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">effective</code> - <code class="code">(resolve)</code> Specifies the
                                                 time a capability is available, either <code class="code">resolve</code>
                                                 (default) or another name. The OSGi framework resolver only
                                                 considers Capabilities without an <code class="code">effective</code> directive
                                                 or <code class="code">effective:=resolve</code>. Capabilities with other values
                                                 for the <code class="code">effective</code> directive can be considered by an
                                                 external agent.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">uses</code> - The uses directive lists package names
                                                 that are used by this capability. This information is intended to be
                                                 used for uses constraints, see <a xmlns="" class="xref" href="framework.module.html#i3127019" title="3.7.6 Package Constraints">Package Constraints</a>.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">deprecated</code> - The deprecated directive indicates
                                                 the capability has been deprecated. The value is the human-readable
                                                 reason to developers for the deprecation. This reason should include
                                                 the version in which the capability was deprecated and any removal
                                                 plan.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>Namespaces can define additional directives and attributes.</p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i3306043"></a><span xmlns="" class="number">3.3.4</span> Bundle Capability Attributes
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Attributes can be <span class="emphasis"><em>typed</em></span>. Typing is important
                                    because it defines how attributes compare. Comparing two versions as
                                    strings does not provide the proper comparison semantics for versions.
                                    In similar vein, lexicographical ordering is different than numeric
                                    ordering.
                           </p>
                           <p>Types are specified between the attribute name and the equal sign
                                    (<code class="code">'=' \u003D</code>), the separator is a colon (<code class="code">':'
                                       \u003A</code>). For example:, for a <code class="code">Long:</code></p><pre xmlns="" class="programlisting"><code>attr:Long=24</code></pre><p>If no type is specified, the <code class="code">String</code> type is
                                    assumed.
                           </p>
                           <p>The parsing rules of the corresponding type's <code class="code">String</code>
                                    constructor are then used to create a new instance that is placed in the
                                    capability's map. Numeric types must trim white space around the value,
                                    for other types spaces around the argument are not ignored, however,
                                    white space is skipped by the manifest parsing rules. That is:
                           </p><pre xmlns="" class="programlisting"><code>attr:Long=        23       ,            //ok
attr:Version="    23      ",            // error
attr:Long="       23      ",            // ok, because nummeric</code></pre><p>Multi-valued attributes can be constructed with the
                                    <code class="code">List</code> type. The <code class="code">List</code> type can specify a
                                    <code class="code">scalar</code> type for the list elements. If no element type is
                                    specified, <code class="code">String</code> is assumed. Parsing of the corresponding
                                    <code class="code">argument</code> list must be done according to the following
                                    rules:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p>Element values in the list are separated by commas (<code class="code">','
                                                    \u002C</code>).
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p>White space around an element value must be trimmed for
                                                 non-<code class="code">String</code> element types.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p>Commas or reverse solidi (<code class="code">'\' \u005C</code>) that are
                                                 part of an element value must be escaped by prefixing them with a
                                                 reverse solidus. In practice, this requires escaping with two
                                                 reverse solidi because a reverse solidus must already be escaped in
                                                 strings.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>The whole <code class="code">argument</code> must be surrounded by quotes
                                    because the comma is a significant token in the manifest grammar.
                           </p>
                           <p>The version attribute requires the Version type to be specified to
                                    be compared as a Version rather than as a String:
                           </p><pre xmlns="" class="programlisting"><code>version:Version=1.23</code></pre><p>For example:</p><pre xmlns="" class="programlisting"><code>Provide-Capability: «
   com.acme.dictionary; from:String=nl; to=de; version:Version=3.4, «
   com.acme.dictionary; from:String=de; to=nl; version:Version=4.1, «
   com.acme.ip2location;country:List="nl,be,fr,uk";version:Version=1.3, «
   com.acme.seps;       tokens:List&lt;String&gt;="\\,,;,\\\""</code></pre></div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e2973"></a><span xmlns="" class="number">3.3.5</span> System Bundle Capabilities
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Capabilities can also be provided by the system bundle by
                                    specifying the following launch properties:
                           </p><pre xmlns="" class="programlisting"><code>org.osgi.framework.system.capabilities
org.osgi.framework.system.capabilities.extra</code></pre><p>The format for these system properties is identical to the
                                    Provide-Capability header. A framework must parse these properties and
                                    use them in the resolving process as if provided by the system
                                    bundle.
                           </p>
                           <p>There are two properties so that the framework can specify its
                                    default Capabilities in
                                    <code class="code">org.osgi.framework.system.capabilities</code> while the deployer
                                    can specify specific deployment Capabilities in the
                                    <code class="code">org.osgi.framework.system.capabilities.extra</code> system
                                    property. Frameworks can often deduce many Capabilities from their
                                    environment.
                           </p>
                           <p>The following is an example capability header for the system
                                    bundle as defined by the deployer:
                           </p><pre xmlns="" class="programlisting"><code>map.put("org.osgi.framework.system.capabilities.extra",
    "com.acme.screen; width:Long=640; height:Long=480; card=GeForce");</code></pre></div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e2994"></a><span xmlns="" class="number">3.3.6</span> Bundle Requirements
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>The Bundle's Require-Capability header has the following
                                    grammar:
                           </p><pre xmlns="" class="programlisting"><code>Require-Capability ::= requirement ( ',' requirement )* 
requirement        ::= name-space ( ';' directive | typed-attr )*</code></pre><p>Requirements have attributes that can be set with the
                                    Require-Capability header. The purpose of these attributes are to
                                    provide further information about the requirement; they are not
                                    assertions as they are in the Import-Package, Require-Bundle, and
                                    Fragment-Host headers. The attributes of these headers are mapped to the
                                    <code class="code">filter</code> directive in their corresponding namespaces.
                           </p>
                           <p>The <a xmlns="" class="xref" href="framework.api.html#org.osgi.annotation.bundle.Requirement" title="10.8.11 @Requirement">Requirement</a> annotation can be used on a class or package to
                                    specify a capability to be required by the bundle. This annotation can
                                    be processed by bundle assembly tools to add the requirement to the
                                    Require-Capability header in the bundle's manifest.
                           </p>
                           <p>The following directives are architected for the
                                    Require-Capability header:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">effective</code> - <code class="code">(resolve)</code> Specifies the
                                                 time a requirement is considered, either <code class="code">resolve</code>
                                                 (default) or another name. The OSGi framework resolver only
                                                 considers requirements without an <code class="code">effective</code> directive
                                                 or <code class="code">effective:=resolve</code>. Other requirements can be
                                                 considered by an external agent. Additional names for the
                                                 <code class="code">effective</code> directive should be registered with the OSGi
                                                 Working Group.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">resolution</code> - (<code class="code">mandatory|optional</code>) A
                                                 mandatory requirement forbids the bundle to resolve when the
                                                 requirement is not satisfied; an optional requirement allows a
                                                 bundle to resolve even if the requirement is not satisfied. No
                                                 wirings are created when this requirement cannot be resolved, this
                                                 can result in Class Not Found Exceptions when the bundle attempts to
                                                 use a package that was not resolved because it was
                                                 <code class="code">optional</code>. The default is <code class="code">mandatory</code>.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">filter</code> - (<code class="code">Filter</code>) A filter
                                                 expression that is asserted on the Capabilities belonging to the
                                                 given namespace. The matching of the filter against the capability
                                                 is done on one capability at a time. A filter like
                                                 <code class="code">(&amp;(a=1)(b=2))</code> matches only a capability that
                                                 specifies both attributes at the required value, not two
                                                 capabilities that each specify one of the attributes correctly. A
                                                 filter is optional, if no filter directive is specified the
                                                 requirement always matches. The attribute names in the filter
                                                 expression are used to locate capability attributes in a case
                                                 sensitive manner.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">cardinality</code> - (<code class="code">single|multiple</code>)
                                                 Indicates if the requirement can be wired a single time or multiple
                                                 times. The default is single.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>Additional directives are ignored during resolving. Attributes on
                                    the <code class="code">requirement</code> clause are also ignored.
                           </p>
                        </div>
                     </div>
                     <div class="section">
                        <div xmlns="" class="titlepage">
                           <div>
                              <div>
                                 <h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a xmlns="" class="anchor" id="framework.module-execution.environment"></a><span xmlns="" class="number">3.4</span> Execution Environment
                                 </h2>
                              </div>
                           </div>
                        </div>
                        <p>The Java environment provides all packages in the
                               <code class="code">java.*</code> namespace. Prior to Java SE 9, this namespace was not
                               well defined and could be different for different runtime environments.
                               For example, Java SE 5 is not equal to Java SE 7 and an Android
                               environment has substantial differences to a Java SE environment. However,
                               Java SE 6 is backward compatible for Java SE 5, Java SE 1.4, Java SE 1.3
                               and Java SE 1.2. That is, applications written for Java SE 1.3 must run
                               unchanged on a Java SE 5 environment.
                        </p>
                        <p>These differences and backward compatibilities can not be captured
                               using versions because they are <span class="emphasis"><em>variations</em></span>. For
                               example, <a xmlns="" class="xref" href="framework.module.html#i3246261" title="Google Android">[21] <em>Google Android</em></a> is a variation of a Java SE 5
                               environment, as is <a xmlns="" class="xref" href="framework.module.html#i3246276" title="Google App Engine">[22] <em>Google App Engine</em></a> and <a xmlns="" class="xref" href="framework.module.html#i3246284" title="Google Web Toolkit">[23] <em>Google Web Toolkit</em></a>. All these variations have a different set of
                               packages, types, and methods in the <code class="code">java.*</code> namespace.
                        </p>
                        <p>Starting in Java SE 9, the platform has been modularized and its
                               packages organized into a set of modules. Depending upon how the platform
                               is configured for execution, some modules and their contained packages may
                               not be present at runtime. However, Java SE 9 provides a standard way to
                               interrogate the Java platform for the packages currently available at
                               runtime. Therefore, the Framework must set the
                               <code class="code">org.osgi.framework.system.packages</code> launching property, see
                               <a xmlns="" class="xref" href="framework.lifecycle.html#framework.lifecycle.launchingproperties" title="4.2.2 Launching Properties">Launching Properties</a>, to the list of
                               Java platform packages currently available at runtime.
                        </p>
                        <p>For Java platform versions prior to Java SE 9, the Framework must
                               also set the <code class="code">org.osgi.framework.system.packages</code> launching
                               property to the list of Java platform packages generally known to be
                               available at runtime. Since there is no standard way to interrogate the
                               Java platform for the packages currently available at runtime, a Framework
                               implementation may use a predefined list of packages for the Java platform
                               version.
                        </p>
                        <p>In additional to specifying the version of the execution environment
                               via an <code class="code">osgi.ee</code> requirement, see <a xmlns="" class="xref" href="framework.namespaces.html#framework.namespaces.osgi.ee" title="8.2 osgi.ee Namespace">osgi.ee Namespace</a>, a Bundle may also import
                               <code class="code">java.*</code> packages using the Import-Package header. Imports of
                               <code class="code">java.*</code> packages by a bundle will be used during the
                               resolution process, see <a xmlns="" class="xref" href="framework.module.html#framework.module.resolvingprocess" title="3.8 Resolving Process">Resolving Process</a>, to ensure the bundle has
                               visibility to the requested packages by wiring the bundle's import of a
                               <code class="code">java.*</code> package to the export of the <code class="code">java.*</code>
                               package by the Framework's system bundle. However, a bundle always loads
                               classes in <code class="code">java.*</code> packages via parent delegation. See <a xmlns="" class="xref" href="framework.module.html#framework.module.parentdelegation" title="3.9.3 Parent Delegation">Parent Delegation</a>. Therefore, a bundle is not
                               required to import a <code class="code">java.*</code> package to have visibility to the
                               classes in the package, if the package is present in the current runtime.
                               It only needs to import a <code class="code">java.*</code> package to have the
                               resolution process ensure the package is available from the execution
                               environment. This can avoid a <code class="code">NoClassDefFoundError</code> during
                               execution of the bundle due to a missing <code class="code">java.*</code> package
                               required by the bundle.
                        </p>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module.bree"></a><span xmlns="" class="number">3.4.1</span> Bundle-RequiredExecutionEnvironment
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>The Bundle-RequiredExecutionEnvironment manifest header provides
                                    the same function as the <a xmlns="" class="xref" href="framework.namespaces.html#framework.namespaces.osgi.ee" title="8.2 osgi.ee Namespace">osgi.ee Namespace</a>.
                                    It allows a bundle to depend on the execution environment. This header
                                    is deprecated but must be fully supported by a compliant framework.
                                    Bundles should not mix these headers but use either an
                                    <code class="code">osgi.ee</code> requirement or this header. If both are used, both
                                    constraints must be met to resolve.
                           </p>
                           <p>The syntax of this header is a list of comma-separated names of
                                    execution environments.
                           </p><pre xmlns="" class="programlisting"><code>Bundle-RequiredExecutionEnvironment ::= ee-name ( ',' ee-name )*

ee-name  ::= bree | &lt;ee name&gt;
bree     ::= token ( '-' version )? ( '/' token ( '-' version )? )?</code></pre><p>For example:</p><pre xmlns="" class="programlisting"><code>Bundle-RequiredExecutionEnvironment: CDC-1.0/Foundation-1.0, «
  OSGi/Minimum-1.1</code></pre><p>If a bundle includes this header in the manifest then the bundle
                                    must only use methods with signatures that are contained within a proper
                                    subset of all mentioned execution environments. Bundles should list all
                                    (known) execution environments on which it can run the bundle.
                           </p>
                           <p>A bundle can only resolve if the framework is running on a VM
                                    which implements one of the listed required execution environments.
                                    Frameworks should recognize that the current VM can implement multiple
                                    execution environments. For example, Java 6 is backward compatible with
                                    Java 5 and a bundle requiring the Java 6 execution environment must
                                    resolve on a Java 6 VM.
                           </p>
                           <p>The Bundle-RequiredExecutionEnvironment header can not prevent a
                                    bundle from installing.
                           </p>
                           <p>The <code class="code">org.osgi.framework.executionenvironment</code> launching
                                    property defines the current execution environment with a comma
                                    separated list of execution environment names. If not set, the framework
                                    must provide an appropriate value. This property is also deprecated, its
                                    function is replaced with
                                    <code class="code">org.osgi.framework.system.capabilities[.extra]</code>.
                           </p>
                           <p>An example:</p><pre xmlns="" class="programlisting"><code>org.osgi.framework.executionenvironment = 
     JavaSE-1.5, J2SE-1.4, JavaSE-1.4, JavaSE-1.3, OSGi/Minimum-1.1</code></pre><p>Frameworks must convert a Bundle-RequiredExecutionEnvironment
                                    header to a requirement in the <code class="code">osgi.ee</code> namespace when used
                                    in the Wiring API, see <a xmlns="" class="xref" href="framework.wiring.html" title="7 Bundle Wiring API Specification"><em xmlns="http://www.w3.org/1999/xhtml">Bundle Wiring API Specification</em></a>. Since the
                                    header uses opaque names for the execution environments there is no
                                    guaranteed algorithm to map the <code class="code">ee-name</code> to a
                                    Require-Capability header. However, the suggested names so far for
                                    popular execution environments do have a structure that can be used to
                                    create such a header, this pattern was reflected in the
                                    <code class="code">bree</code> term. The structure of the <code class="code">bree</code> term for
                                    the existing recommendations is:
                           </p><pre xmlns="" class="programlisting"><code>n1 ( '-' v )? ( '/' n2 ( '-' v )? )?</code></pre><p>For example:</p><pre xmlns="" class="programlisting"><code>CDC-1.0/Foundation-1.0
OSGi/Minimum-1.2
J2SE-1.4
JavaSE-1.4</code></pre><p>Each <code class="code">bree</code> term that matches this pattern can thus be
                                    converted into an equivalent <code class="code">osgi.ee</code> Require-Capability
                                    filter. First variable <code class="code">n1</code> must be replaced with
                                    <code class="code">JavaSE</code> when it is <code class="code">J2SE</code> since the
                                    Require-Capability header uses a single name for the Java Standard
                                    Edition. The <code class="code">filter</code> directive can then be constructed from
                                    <code class="code">n1</code>, <code class="code">v</code>, and <code class="code">n2</code>. If n2 is not
                                    defined or v is not defined then the parenthesized parts in which they
                                    participate are not used in the expansion.
                           </p><pre xmlns="" class="programlisting"><code>bree-filter ::= '(&amp;(osgi.ee=' n1 ( '/' n2 )? ')' ( '(version=' v ')' )? ')'</code></pre><p>If the <code class="code">bree</code> term cannot be parsed into the given
                                    constituents then the filter must look like:
                           </p><pre xmlns="" class="programlisting"><code>filter    ::= '(osgi.ee=' &lt;ee name&gt; ')'</code></pre><p>Some examples:</p><pre xmlns="" class="programlisting"><code>CDC-1.0/Foundation-1.0      (&amp;(osgi.ee=CDC/Foundation)(version=1.0))
OSGi/Minimum-1.2            (&amp;(osgi.ee=OSGi/Minimum)(version=1.2))
J2SE-1.4                    (&amp;(osgi.ee=JavaSE)(version=1.4))
JavaSE-1.6                  (&amp;(osgi.ee=JavaSE)(version=1.6))
AA/BB-1.7                   (&amp;(osgi.ee=AA/BB)(version=1.7))
V1-1.5/V2-1.6               (osgi.ee=V1-1.5/V2-1.6)
MyEE-badVersion             (osgi.ee=MyEE-badVersion)</code></pre><p>Each element of the Bundle-RequiredExecutionEnvironment is ORed
                                    together in the final <code class="code">osgi.ee</code> requirement's
                                    <code class="code">filter</code> directive. For example:
                           </p><pre xmlns="" class="programlisting"><code>Bundle-RequiredExecutionEnvironment: 
    CDC-1.0/Foundation-1.0,
    OSGi/Minimum-1.2,
    J2SE-1.4,
    JavaSE-1.6,
    AA/BB-1.7,
    V1-1.5/V2-1.6,
    MyEE-badVersion</code></pre><p>This must be converted into the following
                                    Require-Capability:
                           </p><pre xmlns="" class="programlisting"><code>Require-Capability:osgi.ee; filter:="(|
    (&amp;(osgi.ee=CDC/Foundation)(version=1.0))
    (&amp;(osgi.ee=OSGi/Minimum)(version=1.2))
    (&amp;(osgi.ee=JavaSE)(version=1.4))
    (&amp;(osgi.ee=JavaSE)(version=1.6))
    (&amp;(osgi.ee=AA/BB)(version=1.7))
    (osgi.ee=V1-1.5/V2-1.6)
    (osgi.ee=MyEE-badVersion)
 )"</code></pre><p>Every <code class="code">org.osgi.resource.Resource</code> representing a
                                    Bundle which has a Bundle-RequiredExecutionEnvironment header must have
                                    the converted <code class="code">osgi.ee</code> requirement in the list returned by
                                    <a xmlns="" class="xref" href="framework.api.html#org.osgi.resource.Resource.getRequirements-String-" title="10.3.5.3 public List&lt;Requirement&gt; getRequirements(String namespace)">getRequirements(String)</a> for the <code class="code">osgi.ee</code> namespace. In cases
                                    where the bundle already has a requirement for the <code class="code">osgi.ee</code>
                                    namespace no merging is done, the bundle will simply have an additional
                                    <code class="code">osgi.ee</code> requirement added.
                           </p>
                        </div>
                     </div>
                     <div class="section">
                        <div xmlns="" class="titlepage">
                           <div>
                              <div>
                                 <h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a xmlns="" class="anchor" id="i3174728"></a><span xmlns="" class="number">3.5</span> Class Loading Architecture
                                 </h2>
                              </div>
                           </div>
                        </div>
                        <p>Many bundles can share a single virtual machine (VM), see <a xmlns="" class="xref" href="framework.module.html#i3311293" title="Java Virtual Machine Specification">[1] <em>Java Virtual Machine Specification</em></a>. Within this VM, bundles can hide packages and
                               classes from other bundles, as well as share packages with other
                               bundles.
                        </p>
                        <p>The key mechanism to hide and share packages is the Java
                               <span class="emphasis"><em>class loader</em></span> that loads classes from a sub-set of the
                               bundle-space using well-defined rules. Each bundle has a single class
                               loader. That class loader forms a class loading delegation network with
                               other bundles as shown in <a xmlns="" class="xref" href="framework.module.html#i3119581" title="Figure 3.4 Delegation model">Figure <span class="number">3</span>.4</a>.
                        </p>
                        <div class="figure"><a xmlns="" class="anchor" id="i3119581"></a><p class="title"><strong>Figure <span xmlns="" class="number">3</span>.4 Delegation model</strong></p>
                           <div class="figure-contents">
                              <div class="mediaobject" align="center"><img src="images/003-classloader-delegation-model.png" align="middle" width="446" height="231" alt="Delegation model" /></div>
                           </div>
                        </div><br class="figure-break" /><p>The class loader can load classes and resources from:</p>
                        <div class="itemizedlist">
                           <ul class="itemizedlist" style="list-style-type: disc; ">
                              <li class="listitem">
                                 <p><span class="emphasis"><em>Boot class path</em></span> - The boot class path
                                            contains the <code class="code">java.*</code> packages and its implementation
                                            packages.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p><span class="emphasis"><em>Framework class path</em></span> - The Framework
                                            usually has a separate class loader for the Framework implementation
                                            classes as well as key service interface classes.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p><span class="emphasis"><em>Bundle Space</em></span> - The bundle space consists of
                                            the JAR file that is associated with the bundle, plus any additional
                                            JAR that are closely tied to the bundle, like
                                            <span class="emphasis"><em>fragments</em></span>, see <a xmlns="" class="xref" href="framework.module.html#framework.module.fragmentbundles" title="3.14 Fragment Bundles">Fragment Bundles</a>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>A <span class="emphasis"><em>class space</em></span> is then all classes reachable
                               from a given bundle's class loader. Thus, a class space for a given bundle
                               can contain classes from:
                        </p>
                        <div class="itemizedlist">
                           <ul class="itemizedlist" style="list-style-type: disc; ">
                              <li class="listitem">
                                 <p>The parent class loader (normally <code class="code">java.*</code> packages
                                            from the boot class path)
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>Imported packages</p>
                              </li>
                              <li class="listitem">
                                 <p>Required bundles</p>
                              </li>
                              <li class="listitem">
                                 <p>The bundle's class path (<span class="emphasis"><em>private
                                                  packages</em></span>)
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>Attached fragments</p>
                              </li>
                           </ul>
                        </div>
                        <p>A class space must be consistent, such that it
                               <span class="emphasis"><em>never</em></span> contains two classes with the same fully
                               qualified name (to prevent Class Cast Exceptions). However, separate class
                               spaces in an OSGi Platform may contain classes with the same fully
                               qualified name. The modularization layer supports a model where multiple
                               versions of the same class are loaded in the same VM.
                        </p>
                        <p><a xmlns="" class="xref" href="framework.module.html#i3281668" title="Figure 3.5 Class Space">Figure <span class="number">3</span>.5</a> shows the class space for a Bundle A. The
                               right top of Bundle A is not in the class space because it illustrates
                               that sometimes packages inside a bundle are not accessible to the Bundle
                               itself when an export is substituted.
                        </p>
                        <div class="figure"><a xmlns="" class="anchor" id="i3281668"></a><p class="title"><strong>Figure <span xmlns="" class="number">3</span>.5 Class Space</strong></p>
                           <div class="figure-contents">
                              <div class="mediaobject" align="center"><img src="images/003-class-space.png" align="middle" width="446" height="255" alt="Class Space" /></div>
                           </div>
                        </div><br class="figure-break" /><p>The Framework therefore has a number of responsibilities related to
                               class loading. Before a bundle is used, it must resolve the constraints
                               that a set of bundles place on the sharing of packages. Then select the
                               best possibilities to create a <span class="emphasis"><em>wiring</em></span>. See <a xmlns="" class="xref" href="framework.module.html#framework.module.resolvingprocess" title="3.8 Resolving Process">Resolving Process</a> for further information. The
                               runtime aspects are described in <a xmlns="" class="xref" href="framework.module.html#i2570775" title="3.9 Runtime Class Loading">Runtime Class Loading</a>.
                        </p>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module-resolving"></a><span xmlns="" class="number">3.5.1</span> Resolving
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>The Framework must <span class="emphasis"><em>resolve</em></span> bundles. Resolving
                                    is the process where any external dependencies are satisfied and then
                                    importers are <span class="emphasis"><em>wired</em></span> to exporters. Resolving is a
                                    process of satisfying constraints; constraints that are provided by the
                                    <a xmlns="" class="xref" href="framework.module.html#framework.module.dependencies" title="3.3 Dependencies">Dependencies</a> section and constraints
                                    by the different manifest headers like Import/Export Package,
                                    Require-Bundle, and Fragment-Host. The resolving process must take place
                                    before any code from a bundle can be loaded or executed.
                           </p>
                           <p>A <span class="emphasis"><em>wire</em></span> is an actual connection between an
                                    <span class="emphasis"><em>exporter</em></span> and an <span class="emphasis"><em>importer</em></span>,
                                    which are both bundles. A wire is associated with a number of
                                    constraints that are defined by its importer's and exporter's manifest
                                    headers. A <span class="emphasis"><em>valid</em></span> wire is a wire that has satisfied
                                    all its constraints. <a xmlns="" class="xref" href="framework.module.html#i2545604" title="Figure 3.6 Example class structure of wiring">Figure <span class="number">3</span>.6</a> depicts the class
                                    structure of the wiring model. Not all constraints result in a
                                    wire.
                           </p>
                           <div class="figure"><a xmlns="" class="anchor" id="i2545604"></a><p class="title"><strong>Figure <span xmlns="" class="number">3</span>.6 Example class structure of wiring</strong></p>
                              <div class="figure-contents">
                                 <div class="mediaobject" align="center"><img src="images/003-class-wiring-example.png" align="middle" width="668" height="144" alt="Example class structure of wiring" /></div>
                              </div>
                           </div><br class="figure-break" /></div>
                     </div>
                     <div class="section">
                        <div xmlns="" class="titlepage">
                           <div>
                              <div>
                                 <h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a xmlns="" class="anchor" id="d0e3407"></a><span xmlns="" class="number">3.6</span> Resolving Metadata
                                 </h2>
                              </div>
                           </div>
                        </div>
                        <p>The following sections define the manifest headers that provide the
                               metadata for the resolver.
                        </p>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i3065034"></a><span xmlns="" class="number">3.6.1</span> Bundle-ManifestVersion
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>A bundle manifest must express the version of the OSGi manifest
                                    header syntax in the <code class="code">Bundle-ManifestVersion</code> header. Bundles
                                    exploiting this version of the Framework specification (or later) must
                                    specify this header. The syntax of this header is as follows:
                           </p><pre xmlns="" class="programlisting"><code>  Bundle-ManifestVersion ::= number     //See <a class="xref" href="framework.introduction.html#framework.general.syntax" title="1.3.2 General Syntax Definitions"><span class="number">1.3.2</span></a></code></pre><p>The Framework bundle manifest version must be '2'. Bundle
                                    manifests written to previous specifications' manifest syntax are taken
                                    to have a bundle manifest version of '1', although there is no way to
                                    express this in such manifests. Therefore, any other value than
                                    <code class="code">2</code> for this header is invalid unless the Framework
                                    explicitly supports such a later version.
                           </p>
                           <p>OSGi Framework implementations should support bundle manifests
                                    without a Bundle-ManifestVersion header and assume Framework 1.2
                                    compatibility at the appropriate places.
                           </p>
                           <p>Version 2 bundle manifests must specify the bundle symbolic name.
                                    They need not specify the bundle version because the version header has
                                    a default value.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module.bsn"></a><span xmlns="" class="number">3.6.2</span> Bundle-SymbolicName
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>The Bundle-SymbolicName manifest header is a mandatory header. The
                                    bundle symbolic name and bundle version identify a unique bundle. This
                                    does not always imply that this pair is unique in a framework, in
                                    certain cases the same bundle can be installed multiple times in the
                                    same framework, see <a xmlns="" class="xref" href="framework.lifecycle.html#framework.lifecycle.bundleidentifiers" title="4.4.1 Bundle Identifiers">Bundle Identifiers</a>.
                           </p>
                           <p>A bundle gets its unique Bundle-SymbolicName from the developer.
                                    The Bundle-Name manifest header provides a human-readable name for a
                                    bundle and is therefore not replaced by this header.
                           </p>
                           <p>The Bundle-SymbolicName manifest header must conform to the
                                    following syntax:
                           </p><pre xmlns="" class="programlisting"><code>Bundle-SymbolicName ::= symbolic-name 
                        ( ';' parameter ) *    // See <a class="xref" href="framework.introduction.html#framework.general.syntax" title="1.3.2 General Syntax Definitions"><span class="number">1.3.2</span></a></code></pre><p>The framework must recognize the following directives for the
                                    Bundle-SymbolicName header:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">singleton</code> - Indicates that the bundle can only
                                                 have a single version resolved in an environment. A value of
                                                 <code class="code">true</code> indicates that the bundle is a <span class="emphasis"><em>singleton
                                                       bundle</em></span>. The default value is <code class="code">false</code>. The
                                                 Framework must resolve at most one bundle when multiple versions of
                                                 a singleton bundle with the same symbolic name are installed.
                                                 Singleton bundles do not affect the resolution of non-singleton
                                                 bundles with the same symbolic name.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">fragment-attachment</code> - Defines how fragments are
                                                 allowed to be attached, see the fragments in <a xmlns="" class="xref" href="framework.module.html#framework.module.fragmentbundles" title="3.14 Fragment Bundles">Fragment Bundles</a>. The following values
                                                 are valid for this directive:
                                    </p>
                                    <div class="itemizedlist">
                                       <ul class="itemizedlist" style="list-style-type: circle; ">
                                          <li class="listitem">
                                             <p><code class="code">always</code> - (Default) Fragments can attach at
                                                              any time while the host is resolved or during the process of
                                                              resolving.
                                             </p>
                                          </li>
                                          <li class="listitem">
                                             <p><code class="code">never</code> - No fragments are allowed.
                                             </p>
                                          </li>
                                          <li class="listitem">
                                             <p><code class="code">resolve-time</code> - Fragments must only be
                                                              attached during resolving.
                                             </p>
                                          </li>
                                       </ul>
                                    </div>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">mandatory</code> - Provide a list of mandatory
                                                 attributes. If these attributes are not specifically used in the
                                                 requirement (Require-Bundle, Fragment-Host) then this bundle must
                                                 not match. See <a xmlns="" class="xref" href="framework.module.html#i2515263" title="3.7.8 Mandatory Attributes">Mandatory Attributes</a>.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">deprecated</code> - The deprecated directive indicates
                                                 the bundle has been deprecated. The value is the human-readable
                                                 reason to developers for the deprecation. This reason should include
                                                 the version in which the capability was deprecated and any removal
                                                 plan.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>The header allows the use of arbitrary attributes that can be
                                    required by the Require-Bundle and Fragment-Host headers. The following
                                    attribute is predefined:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">bundle-version</code> - The value of the Bundle-Version
                                                 header or 0 if no such header is present. Explicitly setting this
                                                 attribute is an error.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>For example:</p><pre xmlns="" class="programlisting"><code>Bundle-SymbolicName: com.acme.foo;singleton:=true</code></pre></div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e3510"></a><span xmlns="" class="number">3.6.3</span> Bundle-Version
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Bundle-Version is an optional header; the default value is
                                    <code class="code">0.0.0</code>.
                           </p><pre xmlns="" class="programlisting"><code>Bundle-Version ::= version  // See <a class="xref" href="framework.module.html#i2655136" title="3.2.5 Version"><span class="number">3.2.5</span></a></code></pre><p>If the <code class="code">minor</code> or <code class="code">micro</code> version components
                                    are not specified, they have a default value of <code class="code">0</code>. If the
                                    qualifier component is not specified, it has a default value of the
                                    empty string (<code class="code">""</code>).
                           </p>
                           <p>Versions are comparable. Their comparison is done numerically and
                                    sequentially on the <code class="code">major</code>, <code class="code">minor</code>, and
                                    <code class="code">micro</code> components and lastly using the String class
                                    <code class="code">compareTo</code> method for the <code class="code">qualifier</code>.
                           </p>
                           <p>A version is considered equal to another version if the major,
                                    minor, micro, and the qualifier components are equal (using
                                    <code class="code">String</code> method <code class="code">compareTo</code>).
                           </p>
                           <p>Example:</p><pre xmlns="" class="programlisting"><code>Bundle-Version: 22.3.58.build-345678</code></pre></div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module.importpackage"></a><span xmlns="" class="number">3.6.4</span> Import-Package
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>The Import-Package header defines the constraints on the imports
                                    of shared packages. The syntax of the Import-Package header is:
                           </p><pre xmlns="" class="programlisting"><code>Import-Package ::= import ( ',' import )*
import ::= package-names ( ';' parameter )*
package-names ::= package-name 
                    ( ';' package-name )* // See <a class="xref" href="framework.introduction.html#framework.general.syntax" title="1.3.2 General Syntax Definitions"><span class="number">1.3.2</span></a></code></pre><p>The header allows many packages to be imported. An
                                    <span class="emphasis"><em>import definition</em></span> is the description of a single
                                    package for a bundle. The syntax permits multiple package names,
                                    separated by semi-colons, to be described in a short form.
                           </p>
                           <p>Import package directives are:</p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">resolution</code> - Indicates that the packages must be
                                                 resolved if the value is mandatory, which is the default. If
                                                 mandatory packages cannot be resolved, then the bundle must fail to
                                                 resolve. A value of <code class="code">optional</code> indicates that the
                                                 packages are optional. See <a xmlns="" class="xref" href="framework.module.html#i2548181" title="3.7.5 Optional Packages">Optional Packages</a>.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>The developer can specify arbitrary matching attributes. See <a xmlns="" class="xref" href="framework.module.html#i2480178" title="3.7.7 Attribute Matching">Attribute Matching</a>. The following arbitrary matching attributes are
                                    predefined:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">version</code> - A <code class="code">version-range</code> to select
                                                 the exporter's package version. The syntax must follow <a xmlns="" class="xref" href="framework.module.html#i3189032" title="3.2.6 Version Ranges">Version Ranges</a>. For more information on version selection, see
                                                 <a xmlns="" class="xref" href="framework.module.html#framework.module-semantic.versioning" title="3.7.3 Semantic Versioning">Semantic Versioning</a>. If this
                                                 attribute is not specified, it is assumed to be <code class="code">[0.0.0,</code>
                                                 <span class="symbol">∞</span><code class="code">)</code>.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">specification-version</code> - This attribute is an
                                                 alias of the version attribute only to ease migration from earlier
                                                 versions. If the <code class="code">version</code> attribute is present, the
                                                 values must be equal.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">bundle-symbolic-name</code> - The bundle symbolic name
                                                 of the exporting bundle. In the case of a fragment bundle, this will
                                                 be the host bundle's symbolic name.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">bundle-version</code> - A <code class="code">version-range</code> to
                                                 select the bundle version of the exporting bundle. The default value
                                                 is <code class="code">[0.0.0,</code> <span class="symbol">∞</span><code class="code">)</code>. See <a xmlns="" class="xref" href="framework.module.html#framework.module-semantic.versioning" title="3.7.3 Semantic Versioning">Semantic Versioning</a>. In the case of a
                                                 fragment bundle, the version is from the host bundle.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>In order to be allowed to import a package, a bundle must have
                                    <code class="code">PackagePermission[&lt;package-name&gt;, IMPORT]</code>. See
                                    <code class="code">PackagePermission</code> for more information.
                           </p>
                           <p>An error aborts an installation or update when:</p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p>A directive or attribute appears multiple times, or</p>
                                 </li>
                                 <li class="listitem">
                                    <p>There are multiple import definitions for the same package,
                                                 or
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p>The version and specification-version attributes do not
                                                 match.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>Example of a correct definition:</p><pre xmlns="" class="programlisting"><code>Import-Package: com.acme.foo;com.acme.bar; «
    version="[1.23,1.24]"; «
    resolution:=mandatory</code></pre></div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module.exportpackage"></a><span xmlns="" class="number">3.6.5</span> Export-Package
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>The syntax of the Export-Package header is similar to the
                                    Import-Package header; only the directives and attributes are
                                    different.
                           </p><pre xmlns="" class="programlisting"><code>Export-Package  ::= export ( ',' export)*
export          ::= package-names ( ';' parameter )*
package-names   ::= package-name                // See <a class="xref" href="framework.introduction.html#framework.general.syntax" title="1.3.2 General Syntax Definitions"><span class="number">1.3.2</span></a>
                        ( ';' package-name )*</code></pre><p>The header allows many packages to be exported. An
                                    <span class="emphasis"><em>export definition</em></span> is the description of a single
                                    package export for a bundle. The syntax permits the declaration of
                                    multiple packages in one clause by separating the package names with a
                                    semi-colon. Multiple export definitions for the same package are allowed
                                    for example, when different attributes are needed for different
                                    importers. The <a xmlns="" class="xref" href="framework.api.html#org.osgi.annotation.bundle.Export" title="10.8.6 @Export">Export</a> annotation can be applied to a package to
                                    specify the package is to be exported. This annotation can be processed
                                    by bundle assembly tools to add the annotated package to the
                                    Export-Package header in the bundle's manifest.
                           </p>
                           <p>Export directives are:</p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">uses</code> - A comma-separated list of package names
                                                 that are used by the exported package. Note that the use of a comma
                                                 in the value requires it to be enclosed in double quotes. If this
                                                 exported package is chosen as an export, then the resolver must
                                                 ensure that importers of this package wire to the same versions of
                                                 the package in this list. See <a xmlns="" class="xref" href="framework.module.html#i3127019" title="3.7.6 Package Constraints">Package Constraints</a>.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">mandatory</code> - A comma-separated list of attribute
                                                 names. Note that the use of a comma in the value requires it to be
                                                 enclosed in double quotes. A bundle importing the package must
                                                 specify the mandatory attributes, with a value that matches, to
                                                 resolve to the exported package. See <a xmlns="" class="xref" href="framework.module.html#i2515263" title="3.7.8 Mandatory Attributes">Mandatory Attributes</a>.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">include</code> - A comma-separated list of class names
                                                 that must be visible to an importer. Note that the use of a comma in
                                                 the value requires it to be enclosed in double quotes. For class
                                                 filtering, see <a xmlns="" class="xref" href="framework.module.html#i3106983" title="3.7.9 Class Filtering">Class Filtering</a>.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">exclude</code> -A comma-separated list of class names
                                                 that must be invisible to an importer. Note that the use of a comma
                                                 in the value requires it to be enclosed in double quotes. For class
                                                 filtering, see <a xmlns="" class="xref" href="framework.module.html#i3106983" title="3.7.9 Class Filtering">Class Filtering</a>.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">deprecated</code> - The deprecated directive indicates
                                                 the package has been deprecated. The value is the human-readable
                                                 reason to developers for the deprecation. This reason should include
                                                 the version in which the capability was deprecated and any removal
                                                 plan.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>The following attributes are part of this specification:</p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">version</code> - The version of the named packages with
                                                 syntax as defined in <a xmlns="" class="xref" href="framework.module.html#i2655136" title="3.2.5 Version">Version</a>. It defines the
                                                 version of the associated packages. The default value is
                                                 <code class="code">0.0.0</code>.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">specification-version</code> - An alias for the version
                                                 attribute only to ease migration from earlier versions. If the
                                                 <code class="code">version</code> attribute is present, the values must be
                                                 equal.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>Additionally, arbitrary matching attributes may be specified. See
                                    <a xmlns="" class="xref" href="framework.module.html#i2480178" title="3.7.7 Attribute Matching">Attribute Matching</a>.
                           </p>
                           <p>The Framework will automatically associate each package export
                                    definition with the following attributes:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">bundle-symbolic-name</code> - The bundle symbolic name
                                                 of the exporting bundle. In the case of a fragment bundle, this is
                                                 the host bundle's symbolic name.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">bundle-version</code> - The bundle version of the
                                                 exporting bundle. In the case of a fragment bundle, this is the host
                                                 bundle's version.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>An installation or update must be aborted when any of the
                                    following conditions is true:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p>a directive or attribute appears multiple times</p>
                                 </li>
                                 <li class="listitem">
                                    <p>the <code class="code">bundle-symbolic-name</code> or
                                                 <code class="code">bundle-version</code> attribute is specified in the
                                                 Export-Package header.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>An export definition does not imply an automatic import
                                    definition. A bundle that exports a package and does not import that
                                    package will get that package via its bundle class path. Such an
                                    exported only package can be used by other bundles, but the exporting
                                    bundle does not accept a substitution for this package from another
                                    bundle.
                           </p>
                           <p>In order to export a package, a bundle must have
                                    <code class="code">PackagePermission[&lt;package&gt;, EXPORTONLY]</code>.
                           </p>
                           <p>Example:</p><pre xmlns="" class="programlisting"><code>Export-Package: com.acme.foo;com.acme.bar;version=1.23</code></pre></div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i3238802"></a><span xmlns="" class="number">3.6.6</span> Importing Exported Packages
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Bundles that collaborate require the same class loader 
                                    for the types used in their interaction. 
                                    When multiple bundles export the same package containing collaboration types, 
                                    they will end up in separate class-spaces, which prevents those collaboration types being shared between those bundles
                              or their consumers. 
                                    Bundles willing to import exported packages allow the framework to
                                    <span class="emphasis"><em>substitute</em></span> exports for imports and increase collaboration,
                                    by trying to avoid separate class-spaces. This is achieved by <span class="emphasis"><em>disabling</em></span> the export in one or more bundles, replacing it with an import instead. The resulting class-space is larger, increasing collaboration,
                              because there are fewer class loaders loading the exported package.
                                    
                           </p>
                           <p>
                                    The use of substitutable exports had historical advantages:
                                    Implementation bundles typically embedded and provided the 
                                    API packages of the OSGi specifications that they implemented
                                    to make themselves easier to deploy. 
                                    Modern deployment tools mean that deploying bundles with separate API is now far simpler. Therefore you should now consider
                              <span class="emphasis"><em>not</em></span> embedding API packages and instead consume them
                                    using a <code class="code">Import-Package</code> manifest headers with a proper version range (either provider or consumer). 
                                    At runtime the API can be provided by an API bundle, such as the specification API bundles provided by OSGi. 
                                    
                           </p>
                           <p>
                                    Thus, substitution, while being allowed as a method of bundle collaboration, should be avoided and only used in rare
                              cases.
                                    It may only be viable when the packages in question consist of pure API without any implementation details. 
                                    Given these limitations, the import of exported packages should be considered only in situations where:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p>The exported package does not use private packages. If an
                                                 exported package uses private packages then it might not be
                                                 substitutable and is therefore not clean API.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p>There is at least one private package that references the
                                                 exported package. If no such reference exist, there is no purpose in
                                                 importing it.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>In practice, importing exported packages can only be done with
                                    clean API-implementation separation. OSGi services are carefully
                                    designed to be as standalone as possible. Many libraries intertwine API
                                    and implementation in the same package making it impossible to
                                    substitute the API packages.
                                    Developers of general-purpose Java libraries that include OSGi metadata, 
                                    but were not originally designed with OSGi in mind, should generally avoid importing exported packages.
                                    
                           </p>
                           <p>Importing an exported package <span class="bold"><strong>must</strong></span> use a version range according
                                    to its compatibility requirements, being either a consumer or a provider
                                    of that API. See <a xmlns="" class="xref" href="framework.module.html#framework.module-semantic.versioning" title="3.7.3 Semantic Versioning">Semantic Versioning</a>
                                    for more information.
                           </p>
                           <p>Also see the section about <a xmlns="" class="xref" href="framework.module.html#framework.module-import.export.same.package" title="3.8.1 Importing and Exporting the Same Package">Importing and Exporting the Same Package</a> 
                                    for more information about how the resolver handles this and what problems could arise with substitution.
                           </p>
                           <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                              <h3 class="title">Note</h3>
                              <p>
                                 		  Bundles should only import such an exported package if they are willing to get that package 
                                 		  from another (unknown) bundle and omit their own export from the framework. By definition, this means that a bundle with
                                 a subsitutable export may never load that package, rendering its class files and resources invisible to that bundle's class
                                 loader.
                                       
                              </p>
                              <p>When importing an exported package you 
                                       should <span class="bold"><strong>not</strong></span> make your <code class="code">Import-Package</code> statement <code class="code">resolution:="optional"</code>. 
                                       As your bundle is exporting the package there is no possibility of it not being available at runtime, 
                                       meaning that making the import optional serves no purpose.
                                       
                              </p>
                              <p>
                                       Multiple bundles providing the same API packages 
                                       can lead to conflicts in when used outside OSGi environments (e.g. JPMS) and therefore might hinder further use of such
                                 bundles.
                                       Even though OSGi supports these scenarios, it might lead to resolution conflicts can when multiple versions of the same
                                 bundle are present (see <a xmlns="" class="xref" href="framework.module.html#framework.module-import.export.same.package" title="3.8.1 Importing and Exporting the Same Package">Importing and Exporting the Same Package</a>) and consumers are having tight version range constraints or large dependency chains.
                                       
                              </p>
                              <p>
                                       If you need to embed exported API packages in an implementation bundle 
                                       then be sure to only embed the API packages you directly implement.  
                                       You should not embed and export APIs that you use but do not implement.  
                                       For example, if you use the <span class="emphasis"><em>OSGi Configuration Admin Service</em></span> you should avoid 
                                       embedding the <code class="code">org.osgi.service.cm</code> package 
                                       unless your bundle is actually providing an implementation of the Configuration Admin Service.
                                       
                              </p>
                           </div>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e3853"></a><span xmlns="" class="number">3.6.7</span> Interpretation of Legacy Bundles
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Bundles that are not marked with a Bundle-ManifestVersion that
                                    equals 2 or more must treat the headers according the definitions in the
                                    Release 3. More specifically, the Framework must map the Release 3
                                    headers to the appropriate Release 4 headers:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><span class="emphasis"><em>Import-Package</em></span> - An import definition
                                                 must change the <code class="code">specification-version</code> attribute to the
                                                 <code class="code">version</code> attribute. An import definition without a
                                                 specification version needs no replacement since the default version
                                                 value of <code class="code">0.0.0</code> gives the same semantics as Release
                                                 3.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><span class="emphasis"><em>Export-Package</em></span> - An export definition
                                                 must change the <code class="code">specification-version</code> attribute to the
                                                 <code class="code">version</code> attribute. The export definition must be
                                                 appended with the <code class="code">uses</code> directive. The uses directive
                                                 must contain all imported and exported packages for the given
                                                 bundle. Additionally, if there is no import definition for this
                                                 package, then an import definition for this package with the package
                                                 version must be added.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><span class="emphasis"><em>DynamicImport-Package</em></span> - A dynamic import
                                                 definition is unmodified.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>A bundle manifest which mixes legacy syntax with bundle manifest
                                    version 2 syntax is in error and must cause the containing bundle to
                                    fail to install.
                           </p>
                           <p>The <code class="code">specification-version</code> attribute is a deprecated
                                    synonym for the version attribute in bundle manifest version 2
                                    headers.
                           </p>
                        </div>
                     </div>
                     <div class="section">
                        <div xmlns="" class="titlepage">
                           <div>
                              <div>
                                 <h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a xmlns="" class="anchor" id="framework.module.constraint.solving"></a><span xmlns="" class="number">3.7</span> Constraint Solving
                                 </h2>
                              </div>
                           </div>
                        </div>
                        <p>The OSGi Framework package resolver provides a number of mechanisms
                               to match imports to exports. The following sections describe these
                               mechanisms in detail.
                        </p>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e3904"></a><span xmlns="" class="number">3.7.1</span> Diagrams and Syntax
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Wires create a graph of nodes. Both the wires as well as nodes
                                    (bundles) carry a significant amount of information. In the next
                                    sections, the following conventions are used to explain the many
                                    details.
                           </p>
                           <p>Bundles are named <code class="code">A</code>, <code class="code">B</code>,<code class="code">
                                       C</code>,... That is, uppercase characters starting from the character
                                    <code class="code">A</code>. Packages are named <code class="code">p</code>, <code class="code">q</code>,
                                    <code class="code">r</code>, <code class="code">s</code>, <code class="code">t</code>,... In other words, lower
                                    case characters starting from <code class="code">p</code>. If a version is important,
                                    it is indicated with a dash followed by the version: <code class="code">q-1.0</code>.
                                    The syntax <code class="code">A.p</code> means the package definition (either import
                                    or export) of package <code class="code">p</code> by bundle <code class="code">A</code>.
                           </p>
                           <p>Import definitions are graphically shown by a white box. Export
                                    definitions are displayed with a black box. Packages that are not
                                    exported or imported are called private packages. They are indicated
                                    with diagonal lines.
                           </p>
                           <p>Bundles are a set of connected boxes. Constraints are written on
                                    the wires, which are represented by lines.
                           </p>
                           <div class="figure"><a xmlns="" class="anchor" id="i3069144"></a><p class="title"><strong>Figure <span xmlns="" class="number">3</span>.7 Legend of wiring instance diagrams, and example</strong></p>
                              <div class="figure-contents">
                                 <div class="mediaobject" align="center"><img src="images/003-wiring-legend.png" align="middle" width="668" height="154" alt="Legend of wiring instance diagrams, and example" /></div>
                              </div>
                           </div><br class="figure-break" /><p>For example:</p><pre xmlns="" class="programlisting"><code>A: Import-Package: p; version="[1,2)"
   Export-Package: q; version=2.2.2; uses:=p
   Require-Bundle: C
B: Export-Package: p; version=1.5.1
C: Export-Package: r</code></pre><p><a xmlns="" class="xref" href="framework.module.html#i3069187" title="Figure 3.8 Example bundle diagram">Figure <span class="number">3</span>.8</a> shows the same setup
                                    graphically.
                           </p>
                           <div class="figure"><a xmlns="" class="anchor" id="i3069187"></a><p class="title"><strong>Figure <span xmlns="" class="number">3</span>.8 Example bundle diagram</strong></p>
                              <div class="figure-contents">
                                 <div class="mediaobject" align="center"><img src="images/003-bundle-example.png" align="middle" width="668" height="125" alt="Example bundle diagram" /></div>
                              </div>
                           </div><br class="figure-break" /></div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e3976"></a><span xmlns="" class="number">3.7.2</span> Version Constraints
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Version constraints are a mechanism whereby an import definition
                                    can declare a precise version or a version range for matching an export
                                    definition.
                           </p>
                           <p>An import definition must specify a version range as the value for
                                    its version attribute, and the exporter must specify a version as the
                                    value for its version attribute. Matching is done with the rules for
                                    version range matches as described in <a xmlns="" class="xref" href="framework.module.html#i3189032" title="3.2.6 Version Ranges">Version Ranges</a>.
                           </p>
                           <p>For example, the following import and export definition resolve
                                    correctly because the version range in the import definition matches the
                                    version in the export definition:
                           </p><pre xmlns="" class="programlisting"><code>A: Import-Package: p; version="[1,2)"
B: Export-Package: p; version=1.5.1</code></pre><p><a xmlns="" class="xref" href="framework.module.html#i3237947" title="Figure 3.9 Version Constrained">Figure <span class="number">3</span>.9</a> graphically shows how a constraint can
                                    exclude an exporter.
                           </p>
                           <div class="figure"><a xmlns="" class="anchor" id="i3237947"></a><p class="title"><strong>Figure <span xmlns="" class="number">3</span>.9 Version Constrained</strong></p>
                              <div class="figure-contents">
                                 <div class="mediaobject" align="center"><img src="images/003-version-constrained.png" align="middle" width="668" height="103" alt="Version Constrained" /></div>
                              </div>
                           </div><br class="figure-break" /></div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module-semantic.versioning"></a><span xmlns="" class="number">3.7.3</span> Semantic Versioning
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Version ranges encode the assumptions about <span class="emphasis"><em>binary
                                          compatibility</em></span>. Though the OSGi frameworks do not enforce a
                                    specific encoding for a compatibility policy, it is strongly recommended
                                    to use the following semantics.
                           </p>
                           <p>Traditionally, compatibility has always been between two parties.
                                    One is the consumer of the code and the other is the provider of the
                                    code. API based design introduces a third party in the compatibility
                                    policy:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p>The API itself</p>
                                 </li>
                                 <li class="listitem">
                                    <p>The <span class="emphasis"><em>provider</em></span> of the API
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p>The <span class="emphasis"><em>consumer</em></span> of the API
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>A provider of an API is closely bound to that API. Virtually any
                                    change to that API makes a provider implementation incompatible with the
                                    new version of the API. However, API changes have more leeway from the
                                    perspective of a consumer of that API. Many API changes can be made
                                    backward compatible for consumers but hardly any API change can be made
                                    backward compatible for a provider of that API.
                           </p>
                           <p>A provider of an API should therefore import that API with a
                                    smaller range than a consumer of that API. This policy can be encoded in
                                    a version range. The rules are summarized as follows:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">major</code> - Changes for an incompatible update for
                                                 both a consumer and a provider of an API.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">minor</code> - Changes for a backward compatible update
                                                 for a consumer but not for a provider.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">micro</code> - A change that does not affect the API,
                                                 for example, a typo in a comment or a bug fix in an
                                                 implementation.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>Both consumers and providers should use the version they are
                                    compiled against as their base version. It is recommended to ignore the
                                    micro part of the version because systems tend to become very rigid if
                                    they require the latest bug fix to be deployed all the time. For
                                    example, when compiled against version <code class="code">4.2.1.V201007221030</code>,
                                    the base version should be <code class="code">4.2</code>.
                           </p>
                           <p>A consumer of an API should therefore import a range that starts
                                    with the base version and ends with the next major change, for example:
                                    <code class="code">[4.2,5)</code>. A provider of an API should import a range that
                                    starts with the base version up to the next minor change, for example:
                                    <code class="code">[4.2,4.3)</code>.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module-semantic.versioning.type.roles"></a><span xmlns="" class="number">3.7.4</span> Type Roles for Semantic Versioning
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>As mentioned in <a xmlns="" class="xref" href="framework.module.html#framework.module-semantic.versioning" title="3.7.3 Semantic Versioning">Semantic Versioning</a>, there are two roles
                                    for clients of an API package: API consumers and API providers. API
                                    consumers use the API and API providers implement the API. For the types
                                    in an API, it is important that the API clearly document which of those
                                    types are only to be implemented or extended by API providers and which
                                    of those types can be implemented or extended by API consumers. For
                                    example, listener interfaces are generally implemented by API consumers
                                    and instances of them passed to API providers.
                           </p>
                           <p>API providers are sensitive to changes in types implemented or
                                    extended by both API consumers and API providers. An API provider must
                                    implement any new changes in API provider types and must understand and
                                    likely invoke any new changes in API consumer types. An API consumer can
                                    generally ignore compatible changes in API provider types unless it
                                    wants to invoke the new function. But an API consumer is sensitive to
                                    changes in API consumer types and will probably need modification to
                                    implement the new function. For example, in the <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework" title="10.1 org.osgi.framework">org.osgi.framework</a> package, the <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.BundleContext" title="10.1.7 public interface BundleContext extends BundleReference">BundleContext</a> type
                                    is implemented by the Framework which is the API provider. Adding a new
                                    method to <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.BundleContext" title="10.1.7 public interface BundleContext extends BundleReference">BundleContext</a> will require all Framework implementations to be
                                    updated to implement the new method. Bundles, which are the API
                                    consumers, do not have to change unless they wish to call the new
                                    method. However, the <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.BundleActivator" title="10.1.6 public interface BundleActivator">BundleActivator</a> type is implemented by bundles and adding a new
                                    method to <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.BundleActivator" title="10.1.6 public interface BundleActivator">BundleActivator</a> will require all bundles implementing this
                                    interface to be modified to implement the new method and will also
                                    require all Framework implementations to be modified to utilize the new
                                    method. Thus the <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.BundleContext" title="10.1.7 public interface BundleContext extends BundleReference">BundleContext</a> type has an API provider role and the <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.BundleActivator" title="10.1.6 public interface BundleActivator">BundleActivator</a>
                                    type has an API consumer role in the <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework" title="10.1 org.osgi.framework">org.osgi.framework</a> API package.
                           </p>
                           <p>Since there are generally many API consumer and few API providers,
                                    API evolution must be very careful when considering changes to API
                                    consumer types while being more relaxed about changes to API provider
                                    types. This is because you will need to change the few API providers to
                                    support an updated API but you do not want to require the many existing
                                    API consumers to change when an API is updated. API consumers should
                                    only need to change when the API consumer wants to take advantage of new
                                    API.
                           </p>
                           <p>The <a xmlns="" class="xref" href="framework.api.html#org.osgi.annotation.versioning.ProviderType" title="10.7.3 @ProviderType">ProviderType</a> and <a xmlns="" class="xref" href="framework.api.html#org.osgi.annotation.versioning.ConsumerType" title="10.7.2 @ConsumerType">ConsumerType</a> annotations can be used in source files to
                                    document the roles of types in a package. API types marked <a xmlns="" class="xref" href="framework.api.html#org.osgi.annotation.versioning.ProviderType" title="10.7.3 @ProviderType">ProviderType</a> must not be implemented or extended by API
                                    consumers. These annotations can be processed by bundle assembly tools
                                    that support Semantic Versioning when generating the version range
                                    information for a bundle's Import-Package manifest header.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i2548181"></a><span xmlns="" class="number">3.7.5</span> Optional Packages
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>A bundle can indicate that it does not require a package to
                                    resolve correctly, but it may use the package if it is available. For
                                    example, logging is important, but the absence of a log service should
                                    not prevent a bundle from running.
                           </p>
                           <p>Optional imports can be specified in the following ways:</p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><span class="emphasis"><em>Dynamic Imports</em></span> - The
                                                 DynamicImport-Package header is intended to look for an exported
                                                 package when that package is needed. The key use case for dynamic
                                                 import is the <code class="code">Class forName</code> method when a bundle does
                                                 not know in advance the class name it may be requested to
                                                 load.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><span class="emphasis"><em>Resolution Directive</em></span> - The resolution
                                                 directive on an import definition specifying the value
                                                 <code class="code">optional</code>. A bundle may successfully resolve if a
                                                 suitable optional package is not present.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>The key difference between these two mechanisms is when the wires
                                    are made. An attempt is made to establish a wire for a dynamic import
                                    every time there is an attempt to load a class in that package, whereas
                                    the wire for a resolution <code class="code">optional</code> package may only be
                                    established when the bundle is resolved.
                           </p>
                           <p>The <code class="code">resolution</code> directive of the import definition can
                                    take the value <code class="code">mandatory</code> or <code class="code">optional</code>.
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">mandatory</code> - (Default) Indicates that the package
                                                 must be wired for the bundle to resolve.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">optional</code> - Indicates that the importing bundle
                                                 may resolve without the package being wired. If the package is not
                                                 wired, the class loading will treat this package as if it is not
                                                 imported.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>The following example will resolve even though bundle
                                    <code class="code">B</code> does not provide the correct version (the package will
                                    <span class="emphasis"><em>not</em></span> be available to the code when bundle
                                    <code class="code">A</code> is resolved).
                           </p><pre xmlns="" class="programlisting"><code>A: Import-Package: p; «
        resolution:=optional; «
        version=1.6
B: Export-Package: p; «
        q; «
        version=1.5.0</code></pre><div class="figure"><a xmlns="" class="anchor" id="d0e4159"></a><p class="title"><strong>Figure <span xmlns="" class="number">3</span>.10 Optional import</strong></p>
                              <div class="figure-contents">
                                 <div class="mediaobject" align="center"><img src="images/003-optional-import.png" align="middle" width="668" height="68" alt="Optional import" /></div>
                              </div>
                           </div><br class="figure-break" /><p>The implementation of a bundle that uses optional packages must be
                                    prepared to handle the fact that the packages may not be available: that
                                    is, an exception can be thrown when there is a reference to a class from
                                    a missing package. This can be prevented by including a fallback package
                                    on the bundle's class path. When an optional package cannot be resolved,
                                    any attempts by the bundle to load classes from it will follow normal
                                    bundle class loading search order as if the import never existed. It
                                    will load it from the bundle's class path or in the end through dynamic
                                    class loading when set for that bundle and package.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i3127019"></a><span xmlns="" class="number">3.7.6</span> Package Constraints
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Classes can depend on classes in other packages. For example, when
                                    they extend classes from another package, or these other classes appear
                                    in method signatures. It can therefore be said that a package
                                    <span class="emphasis"><em>uses</em></span> other packages. These inter-package
                                    dependencies are modeled with the <code class="code">uses</code> directive on the
                                    Export-Package header.
                           </p>
                           <p>For example, <code class="code">org.osgi.service.http</code> depends on the
                                    package <code class="code">javax.servlet</code> because it is used in the API. The
                                    export definition of the <code class="code">org.osgi.service.http</code> must
                                    therefore contain the <code class="code">uses</code> directive with the
                                    <code class="code">javax.servlet</code> package as its value.
                           </p>
                           <p>Class space consistency can only be ensured if a bundle has only
                                    one exporter for each package. For example, the Http Service
                                    implementation requires servlets to extend the
                                    <code class="code">javax.servlet.http.HttpServlet</code> base class. If the Http
                                    Service bundle would import version 2.4 and the client bundle would
                                    import version 2.1 then a class cast exception is bound to happen. This
                                    is depicted in <a xmlns="" class="xref" href="framework.module.html#i2648668" title="Figure 3.11 Uses directive in B, forces A to use javax.servlet from D">Figure <span class="number">3</span>.11</a>.
                           </p>
                           <div class="figure"><a xmlns="" class="anchor" id="i2648668"></a><p class="title"><strong>Figure <span xmlns="" class="number">3</span>.11 Uses directive in B, forces A to use javax.servlet from
                                            D</strong></p>
                              <div class="figure-contents">
                                 <div class="mediaobject" align="center"><img src="images/003-uses-directive-servlet.png" align="middle" width="668" height="148" alt="Uses directive in B, forces A to use javax.servlet from D" /></div>
                              </div>
                           </div><br class="figure-break" /><p>If a bundle imports a package from an exporter then the export
                                    definition of that package can imply constraints on a number of other
                                    packages through the <code class="code">uses</code> directive. The <code class="code">uses</code>
                                    directive lists the packages that the exporter depends upon and
                                    therefore constrains the resolver for imports. These constraints ensure
                                    that a set of bundles share the same class loader for the same
                                    package.
                           </p>
                           <p>When an importer imports a package with uses constraints, the
                                    resolver must wire the import to the exporter named in the uses
                                    constraint. This exporter may in turn imply additional constraints, and
                                    so on. The act of wiring a single import of a package to an exporter can
                                    therefore imply a large set of constraints. The term <span class="emphasis"><em>implied
                                          package constraints</em></span> refers to the complete set of constraints
                                    constructed from recursively traversing the wires. Implied package
                                    constraints are not automatic imports; rather, implied package
                                    constraints only constrain how an import definition must be
                                    wired.
                           </p>
                           <p>For example, in <a xmlns="" class="xref" href="framework.module.html#i3024345" title="Figure 3.12 Implied Packages">Figure <span class="number">3</span>.12</a>, bundle <code class="code">A</code>
                                    imports package <code class="code">p</code>. Assume this import definition is wired
                                    to bundle <code class="code">B</code>. Due to the <code class="code">uses</code> directive (the
                                    ellipse symbols indicates the <code class="code">uses</code> directive) this implies
                                    a constraint on package <code class="code">q</code>.
                           </p>
                           <p>Further, assuming that the import for package <code class="code">q</code> is
                                    wired to bundle <code class="code">C</code>, then this implies a constraint on the
                                    import of package <code class="code">r</code> and <code class="code">s</code>. Continuing,
                                    assuming <code class="code">C.s</code> and <code class="code">C.r</code> are wired to bundle
                                    <code class="code">D</code> and E respectively. These bundles both add package
                                    <code class="code">t</code> to the set of implied packages for bundle A.
                           </p>
                           <div class="figure"><a xmlns="" class="anchor" id="i3024345"></a><p class="title"><strong>Figure <span xmlns="" class="number">3</span>.12 Implied Packages</strong></p>
                              <div class="figure-contents">
                                 <div class="mediaobject" align="center"><img src="images/003-implied-packages.png" align="middle" width="668" height="224" alt="Implied Packages" /></div>
                              </div>
                           </div><br class="figure-break" /><p>To maintain class space consistency, the Framework must ensure
                                    that none of its bundle imports conflicts with any of that bundle's
                                    implied packages.
                           </p>
                           <p>For the example, this means that the Framework must ensure that
                                    the import definition of A.<code class="code">t</code> is wired to package
                                    <code class="code">D.t</code>. Wiring this import definition to package
                                    <code class="code">F.t</code> violates the class space consistency. This violation
                                    occurs because bundle A could be confronted with objects with the same
                                    class name but from the class loaders of bundle <code class="code">D</code> and
                                    <code class="code">F</code>. This would potentially create
                                    <code class="code">ClassCastExceptions</code>. Alternatively, if all bundles are
                                    wired to <code class="code">F.t</code>, then the problem also goes away.
                           </p>
                           <p>Another scenario with this case is depicted in <a xmlns="" class="xref" href="framework.module.html#i2648668" title="Figure 3.11 Uses directive in B, forces A to use javax.servlet from D">Figure <span class="number">3</span>.11</a>. Bundle <code class="code">A</code> imports the Http Service
                                    classes from bundle <code class="code">B</code>. Bundle <code class="code">B</code> has grouped
                                    the <code class="code">org.osgi.service.http</code> and the
                                    <code class="code">javax.servlet</code> and bundle <code class="code">A</code> is therefore
                                    constrained to wire <code class="code">javax.servlet</code> to the same exporter as
                                    bundle <code class="code">B</code>.
                           </p>
                           <p>As an example of a situation where the <code class="code">uses</code> directive
                                    makes resolving impossible consider the following setup that is
                                    correctly resolved:
                           </p><pre xmlns="" class="programlisting"><code>A: Import-Package: q; version="[1.0,1.0]"
   Export-Package: p; uses:="q,r",r
B: Export-Package: q; version=1.0
C: Export-Package: q; version=2.0</code></pre><p>These specific constraints can be resolved because the import
                                    <code class="code">A.q</code> can be wired to the export <code class="code">B.q</code> but not
                                    <code class="code">C.q</code> due to the version constraint.
                           </p>
                           <p>Adding a bundle <code class="code">D</code> will now not be possible:
                           </p><pre xmlns="" class="programlisting"><code>D: Import-Package: p, q; version=2.0</code></pre><p>Package <code class="code">D.p</code> must be wired to package <code class="code">A.p</code>
                                    because bundle <code class="code">A</code> is the only exporter. However, this
                                    implies the use of package <code class="code">q</code> due the <code class="code">uses</code>
                                    directive in the package <code class="code">A.q</code> import. Package
                                    <code class="code">A.q</code> is wired to <code class="code">B.q-1.0</code>. However, import
                                    package <code class="code">D.q</code> requires version 2.0 and can therefore not be
                                    resolved without violating the class space constraint.
                           </p>
                           <p>This scenario is depicted in <a xmlns="" class="xref" href="framework.module.html#i3127819" title="Figure 3.13 Uses directive and resolving">Figure <span class="number">3</span>.13</a>.
                           </p>
                           <div class="figure"><a xmlns="" class="anchor" id="i3127819"></a><p class="title"><strong>Figure <span xmlns="" class="number">3</span>.13 Uses directive and resolving</strong></p>
                              <div class="figure-contents">
                                 <div class="mediaobject" align="center"><img src="images/003-uses-directive-resolving.png" align="middle" width="668" height="92" alt="Uses directive and resolving" /></div>
                              </div>
                           </div><br class="figure-break" /></div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i2480178"></a><span xmlns="" class="number">3.7.7</span> Attribute Matching
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Attribute matching is a generic mechanism to allow the importer
                                    and exporter to influence the matching process in a declarative way. In
                                    order for an import definition to be resolved to an export definition,
                                    the values of the attributes specified by the import definition must
                                    match the values of the attributes of the export definition. By default,
                                    a match is not prevented if the export definition contains attributes
                                    that do not occur in the import definition. The <code class="code">mandatory</code>
                                    directive in the export definition can reverse this by listing all
                                    attributes that the Framework must match in the import definition. Any
                                    attributes specified in the DynamicImport-Package is ignored during the
                                    resolve phase but can influence runtime class loading.
                           </p>
                           <p>For example, the following statements will match.</p><pre xmlns="" class="programlisting"><code>A: Import-Package: com.acme.foo;company=ACME
B: Export-Package: com.acme.foo; «
          company="ACME"; «
          security=false</code></pre><p>Attribute values are compared string wise except for the version
                                    and bundle-version attributes which use version range comparisons.
                                    Leading and trailing white space in attribute values must be
                                    ignored.
                           </p>
                           <p>Attribute matching also works for the Require-Bundle and
                                    Fragment-Host headers; the attributes to be matched are specified on the
                                    Bundle-SymbolicName header.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i2515263"></a><span xmlns="" class="number">3.7.8</span> Mandatory Attributes
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>There are two types of attributes: <span class="emphasis"><em>mandatory</em></span>
                                    and <span class="emphasis"><em>optional</em></span>. Mandatory attributes must be
                                    specified in the import definition to match. Optional attributes are
                                    ignored when they are not referenced by the importer. Attributes are
                                    optional by default.
                           </p>
                           <p>The exporter can specify mandatory attributes with the
                                    <code class="code">mandatory</code> directive in the export definition. This
                                    directive contains a comma-separated list of attribute names that must
                                    be specified by the importer to match.
                           </p>
                           <p>For example, the following import definition must not match the
                                    export definition because <code class="code">security</code> is a mandatory
                                    attribute:
                           </p><pre xmlns="" class="programlisting"><code>A: Import-Package: com.acme.foo;company=ACME

B: Export-Package: com.acme.foo; «
          company="ACME"; «
          security=false; «
          mandatory:=security</code></pre></div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i3106983"></a><span xmlns="" class="number">3.7.9</span> Class Filtering
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>An exporter can limit the visibility of the classes in a package
                                    with the <code class="code">include</code> and <code class="code">exclude</code> directives on the
                                    export definition. The value of each of these directives is a
                                    comma-separated list of class names. Note that the use of a comma in the
                                    value requires it to be enclosed in double quotes.
                           </p>
                           <p>Class names must not include their package name and do not end
                                    with <code class="code">.class</code>. That is, the class
                                    <code class="code">com.acme.foo.Daffy</code> is named <code class="code">Daffy</code> in either
                                    list. The class name can include multiple wildcard asterisks (<code class="code">'*'
                                       \u002A</code>).
                           </p>
                           <p>The default for the <code class="code">include</code> directive is an asterisk
                                    (<code class="code">'*' \u002A</code>) (wildcard matching all names), and for the
                                    <code class="code">exclude</code> directive, so that no classes are excluded, an
                                    empty list that matches no names. If <code class="code">include</code> or
                                    <code class="code">exclude</code> directive are specified, the corresponding default
                                    is overridden.
                           </p>
                           <p>A class is only visible if it is:</p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p>Matched with an entry in the <code class="code">included</code> list,
                                                 <span class="emphasis"><em>and</em></span></p>
                                 </li>
                                 <li class="listitem">
                                    <p>Not matched with an entry in the <code class="code">excluded</code>
                                                 list.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>In all other cases, loading or finding fails, and a Class Not
                                    Found Exception is thrown for a class load. The ordering of
                                    <code class="code">include</code> and <code class="code">exclude</code> is not significant.
                           </p>
                           <p>The following example shows an export statement, and a list of
                                    files with their visibility status.
                           </p><pre xmlns="" class="programlisting"><code>Export-Package: com.acme.foo; include:="Qux*,BarImpl"; «
        exclude:=QuxImpl

com/acme/foo               
   QuxFoo            visible
   QuxBar            visible
   QuxImpl           excluded
   BarImpl           visible</code></pre><p>Care must be taken when using filters. For example, a new version
                                    of a module that is intended to be backward compatible with an earlier
                                    version should not filter out classes that were not filtered out by the
                                    earlier version. In addition, when modularizing existing code, filtering
                                    out classes from an exported package may break users of the
                                    package.
                           </p>
                           <p>For example, packages defined by standard bodies often require an
                                    implementation class in the standardized package to have package access
                                    to the specification classes.
                           </p><pre xmlns="" class="programlisting"><code>package org.acme.open;
public class Specified {
    static Specified implementation;
    public void foo() { implementation.foo(); }
}

package org.acme.open;
public class Implementation {
    public void initialize(Specified implementation) {
        Specified.implementation = implementation;
    }
}</code></pre><p>The <code class="code">Implementation</code> class must not be available to
                                    external bundles because it allows the implementation to be set. By
                                    excluding the <code class="code">Implementation</code> class, only the exporting
                                    bundle can see this class. The export definition for this header could
                                    look like:
                           </p><pre xmlns="" class="programlisting"><code>Export-Package: org.acme.open; exclude:=Implementation</code></pre></div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i3259465"></a><span xmlns="" class="number">3.7.10</span> Provider Selection
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Provider selection allows the importer to select which bundles can
                                    be considered as exporters. Provider selection is used when there is no
                                    specification contract between the importer and the exporter. The
                                    importer tightly couples itself to a specific exporter, typically the
                                    bundle that was used for testing. To make the wiring less brittle, the
                                    importer can optionally specify a range of bundle versions that will
                                    match.
                           </p>
                           <p>An importer can select an exporter with the import attributes
                                    <code class="code">bundle-symbolic-name</code> and <code class="code">bundle-version</code>. The
                                    Framework automatically provides these attributes for each export
                                    definition. These attributes must not be specified in an export
                                    definition.
                           </p>
                           <p>The export definition <code class="code">bundle-symbolic-name</code> attribute
                                    will contain the bundle symbolic name as specified in the
                                    <code class="code">Bundle-SymbolicName</code> header without any parameters. The
                                    export definition bundle-<code class="code">version</code> attribute is set to the
                                    value of the <code class="code">Bundle-Version</code> header or its default of 0.0.0
                                    when absent.
                           </p>
                           <p>The <code class="code">bundle-symbolic-name</code> is matched as an attribute.
                                    The <code class="code">bundle-version</code> attribute is matched using the version
                                    range rules as defined in <a xmlns="" class="xref" href="framework.module.html#i3189032" title="3.2.6 Version Ranges">Version Ranges</a>. The import
                                    definition must be a version range and the export definition is a
                                    version.
                           </p>
                           <p>For example, the following definitions will match:</p><pre xmlns="" class="programlisting"><code>A: Bundle-SymbolicName: A
   Import-Package: com.acme.foo; «
        bundle-symbolic-name=B; «
        bundle-version="[1.41,2.0.0)"

B: Bundle-SymbolicName: B
   Bundle-Version: 1.41
   Export-Package: com.acme.foo</code></pre><p>The following statements will not match because bundle B does not
                                    specify a version and thus defaults to 0.0.0:
                           </p><pre xmlns="" class="programlisting"><code>A: Bundle-SymbolicName: A
   Import-Package: com.acme.foo; «
          bundle-symbolic-name=B; «
          bundle-version="[1.41,2.0.0)"

B: Bundle-SymbolicName: B
   Export-Package: com.acme.foo;version=1.42</code></pre><p>Selecting an exporter by symbolic name can result in brittleness
                                    because of hard coupling of the package to the bundle. For example, if
                                    the exporter eventually needs to be refactored into multiple separate
                                    bundles, all importers must be changed. Other arbitrary matching
                                    attributes do not have this disadvantage as they can be specified
                                    independently of the exporting bundle.
                           </p>
                           <p>The brittleness problem of the bundle symbolic name in bundle
                                    refactoring can be partly overcome by writing a façade bundle using the
                                    same bundle symbolic name as the original bundle.
                           </p>
                        </div>
                     </div>
                     <div class="section">
                        <div xmlns="" class="titlepage">
                           <div>
                              <div>
                                 <h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a xmlns="" class="anchor" id="framework.module.resolvingprocess"></a><span xmlns="" class="number">3.8</span> Resolving Process
                                 </h2>
                              </div>
                           </div>
                        </div>
                        <p>Resolving is the process that creates a wiring between bundles.
                               Constraints on the wires are statically defined by:
                        </p>
                        <div class="itemizedlist">
                           <ul class="itemizedlist" style="list-style-type: disc; ">
                              <li class="listitem">
                                 <p>Any mandatory requirement must be matched to at least one
                                            capability in the same namespace provided by any of the resolved
                                            bundles, including itself and the system bundle.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>The required execution environments as defined by the
                                            Bundle-RequiredExecutionEnvironment header.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>Native code</p>
                              </li>
                              <li class="listitem">
                                 <p>Import and export packages (the DynamicImport-Package header is
                                            ignored in this phase)
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>Required bundles, which import all exported packages from a
                                            bundle as defined in <a xmlns="" class="xref" href="framework.module.html#framework.module.requiringbundles" title="3.13 Requiring Bundles">Requiring Bundles</a>.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>Fragments, which provide their contents and definitions to the
                                            host as defined in <a xmlns="" class="xref" href="framework.module.html#framework.module.fragmentbundles" title="3.14 Fragment Bundles">Fragment Bundles</a></p>
                              </li>
                           </ul>
                        </div>
                        <p>A bundle can only be resolved when a number of constraints are
                               satisfied:
                        </p>
                        <div class="itemizedlist">
                           <ul class="itemizedlist" style="list-style-type: disc; ">
                              <li class="listitem">
                                 <p><span class="emphasis"><em>Execution Environment</em></span> - The underlying VM
                                            implements at least one of the execution environments listed in the
                                            Bundle-RequiredExecutionEnvironment header. See <a xmlns="" class="xref" href="framework.namespaces.html#framework.namespaces.osgi.ee" title="8.2 osgi.ee Namespace">osgi.ee Namespace</a>.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p><span class="emphasis"><em>Native code</em></span> - The native code dependencies
                                            specified in the Bundle-NativeCode header must be resolved. See <a xmlns="" class="xref" href="framework.module.html#framework.module-loading.native.code.libraries" title="3.10 Loading Native Code Libraries">Loading Native Code Libraries</a>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>The resolving process is then a constraint-solving algorithm that
                               can be described in terms of requirements on wiring relations. The
                               resolving process is an iterative process that searches through the
                               solution space.
                        </p>
                        <p>A bundle can be resolved if the following conditions are met:</p>
                        <div class="itemizedlist">
                           <ul class="itemizedlist" style="list-style-type: disc; ">
                              <li class="listitem">
                                 <p>All its mandatory requirements are satisfied</p>
                              </li>
                              <li class="listitem">
                                 <p>All its mandatory imports are wired</p>
                              </li>
                              <li class="listitem">
                                 <p>All its mandatory required bundles are available and their
                                            exports wired
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>A wire is only created when the following conditions are met:</p>
                        <div class="itemizedlist">
                           <ul class="itemizedlist" style="list-style-type: disc; ">
                              <li class="listitem">
                                 <p>The importer's version range matches the exporter's version. See
                                            <a xmlns="" class="xref" href="framework.module.html#framework.module-semantic.versioning" title="3.7.3 Semantic Versioning">Semantic Versioning</a>.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>The importer specifies all mandatory attributes from the
                                            exporter. See <a xmlns="" class="xref" href="framework.module.html#i2515263" title="3.7.8 Mandatory Attributes">Mandatory Attributes</a>.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>All the importer's attributes match the attributes of the
                                            corresponding exporter. See <a xmlns="" class="xref" href="framework.module.html#i2480178" title="3.7.7 Attribute Matching">Attribute Matching</a></p>
                              </li>
                              <li class="listitem">
                                 <p>Implied packages referring to the same package as the wire are
                                            wired to the same exporter. See <a xmlns="" class="xref" href="framework.module.html#i3127019" title="3.7.6 Package Constraints">Package Constraints</a>.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>The wire is connected to a valid exporter.</p>
                              </li>
                           </ul>
                        </div>
                        <p>The following list defines the preferences, if multiple choices are
                               possible, in order of decreasing priority:
                        </p>
                        <div class="itemizedlist">
                           <ul class="itemizedlist" style="list-style-type: disc; ">
                              <li class="listitem">
                                 <p>A resolved exporter must be preferred over an unresolved
                                            exporter.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>An exporter with a higher version is preferred over an exporter
                                            with a lower version.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>An exporter with a lower bundle ID is preferred over a bundle
                                            with a higher ID.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module-import.export.same.package"></a><span xmlns="" class="number">3.8.1</span> Importing and Exporting the Same Package
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>If a bundle has both import and export definitions for the
                                    <span class="emphasis"><em>same</em></span> package, then the Framework needs to decide
                                    which to choose.
                           </p>
                           <p>It must first try to resolve the overlapping import definition.
                                    The following outcomes are possible:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><span class="emphasis"><em>External</em></span> - If this resolves to an export
                                                 statement in another bundle, then the overlapping export definition
                                                 in this bundle is discarded.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><span class="emphasis"><em>Internal</em></span> - If it is resolved to an export
                                                 statement in this bundle, then the overlapping import definition in
                                                 this bundle is discarded.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><span class="emphasis"><em>Unresolved</em></span> - There is no matching export
                                                 definition. In this case the framework is free to discard either the
                                                 overlapping export definition or overlapping import definition in
                                                 this bundle. If the export definition is discarded and the import
                                                 definition is not optional then the bundle will fail to
                                                 resolve.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>The above only applies to the <code class="code">Import-Package</code> and <code class="code">Export-Package</code>
                                    definitions of a bundle. For namespaces other than
                                    <code class="code">osgi.wiring.package</code>, a requirement definition of a bundle
                                    may be wired to a capability definition of that same bundle.
                           </p>
                           <p>
                              	  	<span class="bold"><strong>Notes on <span class="emphasis"><em>External</em></span></strong></span>: 
                                    If the resolver choses to resolve to an export statement in another bundle,
                              		  the framework must <span class="emphasis"><em>discard</em></span> the export package
                              		  of the current bundle. This can lead to cases where consumers 
                              		  for a version of the current bundle become <span class="emphasis"><em>unresolvable</em></span>. 
                                    See <a xmlns="" class="xref" href="framework.module.html#i3238802" title="3.6.6 Importing Exported Packages">Importing Exported Packages</a> for more information about package substitution.
                                    
                           </p>
                        </div>
                     </div>
                     <div class="section">
                        <div xmlns="" class="titlepage">
                           <div>
                              <div>
                                 <h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a xmlns="" class="anchor" id="i2570775"></a><span xmlns="" class="number">3.9</span> Runtime Class Loading
                                 </h2>
                              </div>
                           </div>
                        </div>
                        <p>Each bundle installed in the Framework must not have an associated
                               class loader until after it is resolved. After a bundle is resolved, the
                               Framework must create one class loader for each bundle that is not a
                               fragment. The framework may delay creation of the class loader until it is
                               actually needed.
                        </p>
                        <p>One class loader per bundle allows all resources within a bundle to
                               have package level access to all other resources in the bundle within the
                               same package. This class loader provides each bundle with its own
                               namespace, to avoid name conflicts, and allows resource sharing with other
                               bundles.
                        </p>
                        <p>This class loader must use the wiring as calculated in the resolving
                               process to find the appropriate exporters. If a class is not found in the
                               imports, additional headers in the manifest can control the searching of
                               classes and resources in additional places.
                        </p>
                        <p>The following sections define the factors that influence the runtime
                               class loading and then define the exact search order the Framework must
                               follow when a class or resource is loaded.
                        </p>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module.bundleclasspath"></a><span xmlns="" class="number">3.9.1</span> Bundle Class Path
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>JAR, ZIP, directories, etc. are called
                                    <span class="emphasis"><em>containers</em></span>. Containers contain
                                    <span class="emphasis"><em>entries</em></span> organized in hierarchical paths. During
                                    runtime, an entry from a bundle can actually come from different
                                    containers because of attached fragments. The order in which an entry
                                    can be found is significant because it can shadow other entries. For a
                                    bundle, the search order for a named entry is:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p>First the container of the (host) bundle</p>
                                 </li>
                                 <li class="listitem">
                                    <p>Then the (optional) fragment containers in ascending id
                                                 order
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>This search order is called the <span class="emphasis"><em>entry path</em></span>. A
                                    <span class="emphasis"><em>resource</em></span> (or class) is not loaded via the entry
                                    path, but it is loaded through the <span class="emphasis"><em>bundle class
                                          path</em></span>. The bundle class path provides an additional
                                    indirection on top of the entry path. It defines an ordered list of
                                    <span class="emphasis"><em>container paths</em></span>. Each container path can be found
                                    on the entry path.
                           </p>
                           <p>Each container, independent of any other containers, can be a
                                    multi-release container. See <a xmlns="" class="xref" href="framework.module.html#framework.module-multireleasecontainer" title="3.9.1.1 Multi-release Container">Multi-release Container</a>.
                           </p>
                           <p>The full stop (<code class="code">'.' \u002E</code>) container path is a
                                    synonym for the solidus (<code class="code">'/' \u002F</code>) or the root of a
                                    container. The full stop is the default value for a bundle or fragment
                                    if no Bundle-ClassPath header is specified.
                           </p>
                           <p>The Bundle-ClassPath manifest header must conform to the following
                                    syntax:
                           </p><pre xmlns="" class="programlisting"><code>Bundle-ClassPath ::= entry ( ',' entry )*
entry            ::= target ( ';' target )* ( ';' parameter ) *
target           ::= path | '.'     // See <a class="xref" href="framework.introduction.html#framework.general.syntax" title="1.3.2 General Syntax Definitions"><span class="number">1.3.2</span></a></code></pre><p>The Framework must ignore any unrecognized parameters.</p>
                           <p>The content of the <span class="emphasis"><em>effective</em></span> bundle class
                                    path is constructed from the bundle's Bundle-ClassPath header,
                                    concatenated with the Bundle-ClassPath headers of any fragments, in
                                    ascending bundle id order. The effective Bundle-ClassPath is calculated
                                    during resolve time, however, a dynamically attached fragment can append
                                    elements at the end if the Framework supports dynamically attached
                                    fragments.
                           </p>
                           <p>An element from the bundle's Bundle-ClassPath header refers to the
                                    first match when searched through the entry path, while a fragment's
                                    Bundle-ClassPath can refer only to an entry in its own container.
                           </p>
                           <p>An example can illustrate this:</p><pre xmlns="" class="programlisting"><code>A: Bundle-ClassPath: .,resource.jar
B: Fragment-Host: A</code></pre><p>The previous example uses an effective bundle class path
                                    of:
                           </p><pre xmlns="" class="programlisting"><code>/, resource.jar, B:/</code></pre><p>The first element / is the root of a container. The bundle always
                                    has a root and can therefore always be found in the (host) bundle. The
                                    second element is first looked up in the host bundle's container, and if
                                    not found, the entry is looked up in the container of <code class="code">B</code>.
                                    The Framework must use the first entry that matches. The last element in
                                    the effective bundle class path is the / from fragment <code class="code">B</code>;
                                    the / is the default because there is no Bundle-ClassPath specified.
                                    However, a fragment can only refer to an internal entry. This full stop
                                    therefore refers to the root of the container of fragment
                                    <code class="code">B</code>. Assuming, fragment <code class="code">B</code> contains an entry for
                                    <code class="code">resource.jar</code> and bundle <code class="code">A</code> does not, then the
                                    search order must be:
                           </p><pre xmlns="" class="programlisting"><code>A:/
B:resource.jar
B:/</code></pre><p>The Framework must ignore a container path in the bundle
                                    class-path if the container cannot be located when it is needed, which
                                    can happen at any time after the bundle is resolved. However, the
                                    Framework should publish a Framework Event of type <code class="code">INFO</code>
                                    once with an appropriate message for each entry that cannot be located
                                    at all.
                           </p>
                           <p>An entry on the Bundle-ClassPath can refer to a directory in the
                                    container. However, it is not always possible to establish the
                                    directory's existence. For example, directories can be omitted in
                                    JAR/ZIP files. In such a case, a Framework must probe the directory to
                                    see if any resources can be found in this directory. That is, even if
                                    the directory construct is absent in the container, if resources can be
                                    found assuming this directory, than it must still be chosen for the
                                    Bundle-ClassPath.
                           </p>
                           <p>A host bundle can allow a fragment to insert code ahead of its own
                                    code by naming a container in its Bundle-ClassPath that will be provided
                                    by a fragment. Fragments can never unilaterally insert code ahead of
                                    their host's bundle class path. The following example illustrates the
                                    possibilities of the bundle class path in more detail:
                           </p><pre xmlns="" class="programlisting"><code>A: Bundle-SymbolicName: A
   Bundle-ClassPath: /,required.jar,optional,default.jar
   <span xmlns="http://www.w3.org/1999/xhtml" class="emphasis"><em>content ...</em></span>
   required.jar
   default.jar
B: Bundle-SymbolicName: B
   Bundle-ClassPath: fragment.jar
   Fragment-Host: A
   <span xmlns="http://www.w3.org/1999/xhtml" class="emphasis"><em>content ...</em></span>
   optional/
            <span xmlns="http://www.w3.org/1999/xhtml" class="emphasis"><em>content ...</em></span>
   fragment.jar</code></pre><p>The names of the bundle class path elements indicate their
                                    intention. The <code class="code">required.jar</code> is a container that provides
                                    mandatory functionality, it is packaged in bundle A. The
                                    <code class="code">optional</code> container is a directory containing optional
                                    classes, and the <code class="code">default.jar</code> is a JAR entry with backup
                                    code. In this example, the effective bundle class path is:
                           </p><pre xmlns="" class="programlisting"><code>A:/
A:required.jar
B:optional
A:default.jar
B:fragment.jar</code></pre><p>This will expand to the following (logical) search order for a
                                    resource <code class="code">X.class</code>:
                           </p><pre xmlns="" class="programlisting"><code>    A:/X.class
    A:required.jar!X.class
    B:optional/X.class
    A:default.jar!X.class
    B:fragment.jar!X.class</code></pre><p>The exclamation mark (!) indicates a load from a JAR
                                    resource.
                           </p>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module-multireleasecontainer"></a><span xmlns="" class="number">3.9.1.1</span> Multi-release Container
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>A container can be a <span class="emphasis"><em>multi-release
                                               container</em></span> . A multi-release container supports versioned
                                         directories as specified in <a xmlns="" class="xref" href="framework.module.html#framework.module-ref.multireleasejar" title="Multi-release JAR File">[27] <em>Multi-release JAR File</em></a>. When a container is
                                         a multi-release container, that is, the container has a
                                         <code class="code">META-INF/MANIFEST.MF</code> manifest which specifies
                              </p><pre xmlns="" class="programlisting"><code>Multi-Release: true</code></pre><p>then the Framework must search the container's versioned
                                         directories when attempting to locate an entry in the
                                         container.
                              </p>
                              <p>Support for multi-release containers must only be active on Java
                                         9 and later. On Java 8 and earlier, the container must be treated as a
                                         non-multi-release container.
                              </p>
                           </div>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module.dynamicimportpackage"></a><span xmlns="" class="number">3.9.2</span> Dynamic Import Package
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Dynamic imports are matched to export definitions (to form package
                                    wirings) during class loading, and therefore do not affect module
                                    resolution. Dynamic imports apply only to packages for which no wire has
                                    been established and no definition could be found in any other way.
                                    Dynamic import is used as a last resort.
                           </p><pre xmlns="" class="programlisting"><code>DynamicImport-Package ::= dynamic-description 
           ( ',' dynamic-description )*
dynamic-description ::= wildcard-names ( ';' parameter )*
wildcard-names      ::= wildcard-name ( ';' wildcard-name )*
wildcard-name       ::= package-name 
            | ( package-name '.*' )   // See <a class="xref" href="framework.introduction.html#framework.general.syntax" title="1.3.2 General Syntax Definitions"><span class="number">1.3.2</span></a>
            | '*' </code></pre><p>No directives are architected by the Framework for
                                    DynamicImport-Package. Arbitrary matching attributes may be specified.
                                    The following matching attributes are architected by the
                                    Framework:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">version</code> -- A version range to select the version
                                                 of an export definition. The default value is 0.0.0 .
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">bundle-symbolic-name</code> - The bundle symbolic name
                                                 of the exporting bundle.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">bundle-version</code> - a version range to select the
                                                 bundle version of the exporting bundle. The default value is
                                                 <code class="code">0.0.0</code>.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>Packages may be named explicitly or by using wild-carded
                                    expressions such as <code class="code">org.foo.*</code> and <code class="code">*</code>. The
                                    wildcard can stand for any suffix, including multiple sub-packages. If a
                                    wildcard is used, then the package identified by the prefix must
                                    <span class="emphasis"><em>not</em></span> be included. That is, <code class="code">org.foo.*</code>
                                    will include all sub-packages of <code class="code">org.foo</code> but it must not
                                    include package <code class="code">org.foo</code> itself.
                           </p>
                           <p>Dynamic imports must be searched in the order in which they are
                                    specified. The order is particularly important when package names with
                                    wildcards are used. The order will then determine the order in which
                                    matching occurs. This means that the more specific package
                                    specifications should appear before the broader specifications. For
                                    example, the following DynamicImport-Package header indicates a
                                    preference for packages supplied by ACME:
                           </p><pre xmlns="" class="programlisting"><code>DynamicImport-Package: *;vendor=acme, *</code></pre><p>If multiple packages need to be dynamically imported with
                                    identical parameters, the syntax permits a list of packages, separated
                                    by semicolons, to be specified before the parameters.
                           </p>
                           <p>During class loading, the package of the class being loaded is
                                    compared against the specified list of (possibly wild-carded) package
                                    names. Each matching package name is used in turn to attempt to wire to
                                    an export using the same rules as Import-Package. If a wiring attempt is
                                    successful (taking any <code class="code">uses</code> constraints into account), the
                                    search is forwarded to the exporter's class loader where class loading
                                    continues. The wiring must not subsequently be modified, even if the
                                    class cannot be loaded. This implies that once a package is dynamically
                                    resolved, subsequent attempts to load classes or resources from that
                                    package are treated as normal imports.
                           </p>
                           <p>In order for a DynamicImport-Package to be resolved to an export
                                    statement, all attributes of the dynamic import definition must match
                                    the attributes of the export statement. All mandatory arbitrary
                                    attributes (as specified by the exporter, see <a xmlns="" class="xref" href="framework.module.html#i2515263" title="3.7.8 Mandatory Attributes">Mandatory Attributes</a>
                                    ) must be specified in the dynamic import definition and match.
                           </p>
                           <p>Once a wire is established, any <code class="code">uses</code> constraints from
                                    the exporter must be obeyed for further dynamic imports.
                           </p>
                           <p>Dynamic imports are very similar to optional packages, see <a xmlns="" class="xref" href="framework.module.html#i2548181" title="3.7.5 Optional Packages">Optional Packages</a>, but differ in the fact that they are handled after
                                    the bundle is resolved.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module.parentdelegation"></a><span xmlns="" class="number">3.9.3</span> Parent Delegation
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>The Framework must always delegate any package that starts with
                                    <code class="code">java.</code> to the parent class loader.
                           </p>
                           <p>Certain Java virtual machines, also Oracle's VMs, appear to make
                                    the erroneous assumption that the delegation to the parent class loader
                                    always occurs. This implicit assumption of strictly hierarchical class
                                    loader delegation can result in <code class="code">NoClassDefFoundErrors</code>. This
                                    happens if the virtual machine implementation expects to find its own
                                    implementation classes from any arbitrary class loader, requiring that
                                    packages loaded from the boot class loader not be restricted to only the
                                    <code class="code">java.*</code> packages.
                           </p>
                           <p>Other packages that must be loaded from the boot class loader can
                                    therefore be specified with the System property:
                           </p><pre xmlns="" class="programlisting"><code>org.osgi.framework.bootdelegation</code></pre><p>This property must contain a list with the following
                                    format:
                           </p><pre xmlns="" class="programlisting"><code>org.osgi.framework.bootdelegation ::= boot-description 
            ( ',' boot-description )*
boot-description    ::= package-name        // See <a class="xref" href="framework.introduction.html#framework.general.syntax" title="1.3.2 General Syntax Definitions"><span class="number">1.3.2</span></a>
            | ( package-name '.*' )           
            | '*' </code></pre><p>The <code class="code">.*</code> wildcard means deep matching, that is,
                                    <code class="code">com.acme.*</code>, matches any sub-package of package
                                    <code class="code">com.acme</code>, however, it does not match <code class="code">com.acme</code>.
                                    Packages that match this list must be loaded from the parent class
                                    loader. The <code class="code">java.*</code> prefix is always implied; it does not
                                    have to be specified.
                           </p>
                           <p>The single wildcard means that the Framework must always delegate
                                    to the parent class loader first, which is the same as the Release 3
                                    behavior.
                           </p>
                           <p>For example, when running on an OpenJDK, it may be necessary to
                                    specify a value like:
                           </p><pre xmlns="" class="programlisting"><code>org.osgi.framework.bootdelegation=sun.*,com.sun.*</code></pre><p>With such a property value, the Framework must delegate all
                                    <code class="code">java.*</code>, <code class="code">sun.*</code>, and <code class="code">com.sun.*</code>
                                    packages to the parent class loader.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module.overallsearchorder"></a><span xmlns="" class="number">3.9.4</span> Overall Search Order
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Frameworks must adhere to the following rules for class or
                                    resource loading. When a bundle's class loader is requested to load a
                                    class or find a resource, the search must be performed in the following
                                    order:
                           </p>
                           <div class="orderedlist">
                              <ol class="orderedlist" type="1">
                                 <li class="listitem">
                                    <p>If the class or resource is in a <code class="code">java.*</code> package,
                                                 the request is delegated to the parent class loader; otherwise, the
                                                 search continues with the next step. If the request is delegated to
                                                 the parent class loader and the class or resource is not found, then
                                                 the search terminates and the request fails.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p>If the class or resource is from a package included in the
                                                 boot delegation list
                                                 (<code class="code">org.osgi.framework.bootdelegation</code>), then the request
                                                 is delegated to the parent class loader. If the class or resource is
                                                 found there, the search ends.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><a xmlns="" class="anchor" id="i3128823"></a>If the class or resource is in a package that is imported
                                                 using Import-Package or was imported dynamically in a previous load,
                                                 then the request is delegated to the exporting bundle's class
                                                 loader; otherwise the search continues with the next step. If the
                                                 request is delegated to an exporting class loader and the class or
                                                 resource is not found, then the search terminates and the request
                                                 fails.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><a xmlns="" class="anchor" id="i3187927"></a>If the class or resource is in a package that is imported from
                                                 one or more other bundles using Require-Bundle, the request is
                                                 delegated to the class loaders of the other bundles, in the order in
                                                 which they are specified in this bundle's manifest. This entails a
                                                 depth-first strategy; all required bundles are searched before the
                                                 bundle class path is used. If the class or resource is not found,
                                                 then the search continues with the next step.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p>Search the bundle's embedded class path, see <a xmlns="" class="xref" href="framework.module.html#framework.module.bundleclasspath" title="3.9.1 Bundle Class Path">Bundle Class Path</a>. If the class or
                                                 resource is not found, then continue with the next step.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p>If the class or resource is in a package that is exported by
                                                 the bundle or the package is imported by the bundle (using
                                                 Import-Package or Require-Bundle), then the search ends and the
                                                 class or resource is not found.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p>Otherwise, if the class or resource is in a package that is
                                                 imported using DynamicImport-Package, then a dynamic import of the
                                                 package is now attempted. An exporter must conform to any implied
                                                 package constraints. If an appropriate exporter is found, a wire is
                                                 established so that future loads of the package are handled in step
                                                 <a xmlns="" class="xref" href="framework.module.html#i3128823">3</a>. If a dynamic wire is not established,
                                                 then the request fails.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p>If the dynamic import of the package is established, the
                                                 request is delegated to the exporting bundle's class loader. If the
                                                 request is delegated to an exporting class loader and the class or
                                                 resource is not found, then the search terminates and the request
                                                 fails.
                                    </p>
                                 </li>
                              </ol>
                           </div>
                           <p>When delegating to another bundle class loader, the delegated
                                    request enters this algorithm at step <a xmlns="" class="xref" href="framework.module.html#i3187927">4</a>.
                           </p>
                           <p>The following non-normative flow chart illustrates the search
                                    order described above:
                           </p>
                           <div class="figure"><a xmlns="" class="anchor" id="d0e5054"></a><p class="title"><strong>Figure <span xmlns="" class="number">3</span>.14 Flow chart for class loading (non-normative)</strong></p>
                              <div class="figure-contents">
                                 <div class="mediaobject" align="center"><img src="images/003-class-loading-flowchart.png" align="middle" width="668" height="676" alt="Flow chart for class loading (non-normative)" /></div>
                              </div>
                           </div><br class="figure-break" /></div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module.parentclassloader"></a><span xmlns="" class="number">3.9.5</span> Parent Class Loader
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>The set of implicitly visible packages are all <code class="code">java.*</code>
                                    packages, since these packages are required by the Java runtime, and
                                    using multiple versions at the same time is not easy. For example, all
                                    objects must extend the same Object class.
                           </p>
                           <p>A bundle must not declare exports for <code class="code">java.*</code>
                                    packages; doing so is an error and any such bundle must fail to install
                                    or update. A bundle may declare imports for <code class="code">java.*</code>
                                    packages; but this is for resolution purposes only. All other packages
                                    visible through the parent class loader must be hidden from executing
                                    bundles.
                           </p>
                           <p>However, the Framework must explicitly export relevant packages
                                    from the parent class loader. The system property
                           </p><pre xmlns="" class="programlisting"><code><code xmlns="http://www.w3.org/1999/xhtml" class="code">org.osgi.framework.system.packages</code> </code></pre><p>contains the export packages descriptions for the system bundle.
                                    This property employs the standard Export-Package manifest header
                                    syntax:
                           </p><pre xmlns="" class="programlisting"><code>org.osgi.framework.system.packages ::= package-description
                                       ( ',' package-description )*</code></pre><p>Some classes on the boot class path assume that they can use any
                                    class loader to load other classes on the boot class path, which is not
                                    true for a bundle class loader. Framework implementations should attempt
                                    to load these classes from the boot class path.
                           </p>
                           <p>The system bundle (bundle ID zero) is used to export packages from
                                    the parent class loader. Export definitions from the system bundle are
                                    treated like normal exports, meaning that they can have version numbers,
                                    and are used to resolve import definitions as part of the normal bundle
                                    resolving process. Other bundles may provide alternative implementations
                                    of the same packages.
                           </p>
                           <p>The set of export definitions for the parent class loader can
                                    either be set by this property or calculated by the Framework. The
                                    export definitions must have the <code class="code">bundle-symbolic-name</code> and
                                    <code class="code">bundle-version</code> attributes with the implementation-specific
                                    bundle symbolic name and bundle version value of the system
                                    bundle.
                           </p>
                           <p>Exposing packages from the parent class loader in this fashion
                                    must also take into account any <code class="code">uses</code> directives of the
                                    underlying packages. For example, the definition of
                                    <code class="code">javax.crypto.spec</code> must declare its usage of
                                    <code class="code">javax.crypto.interfaces</code> and
                                    <code class="code">javax.crypto</code>.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i3178562"></a><span xmlns="" class="number">3.9.6</span> Resource Loading
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>A resource in a bundle can be accessed through the class loader of
                                    that bundle but it can also be accessed with the <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.Bundle.getResource-String-" title="10.1.5.24 public URL getResource(String name)">getResource(String)</a>, <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.Bundle.getEntry-String-" title="10.1.5.17 public URL getEntry(String path)">getEntry(String)</a>, <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.Bundle.findEntries-String-String-boolean-" title="10.1.5.13 public Enumeration&lt;URL&gt; findEntries(String path, String filePattern, boolean recurse)">findEntries(String,String,boolean)</a> and other methods or the methods on the <a xmlns="" class="xref" href="framework.wiring.html" title="7 Bundle Wiring API Specification"><em xmlns="http://www.w3.org/1999/xhtml">Bundle Wiring API Specification</em></a>. All these methods return a
                                    <code class="code">URL</code> object or an <code class="code">Enumeration</code> object of
                                    <code class="code">URL</code> objects. The URLs are called <span class="emphasis"><em>bundle entry
                                          URLs</em></span>. The schemes for the URLs returned by these methods can
                                    differ and are implementation dependent.
                           </p>
                           <p>Bundle entry URLs are normally created by the Framework, however,
                                    in certain cases bundles need to manipulate the URL to find related
                                    resources. The Framework is therefore required to ensure that:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p>Bundle entry URLs must be hierarchical (See <a xmlns="" class="xref" href="framework.module.html#i3086040" title="RFC 2396 Uniform Resource Identifiers URI: Generic Syntax">[13] <em>RFC 2396 Uniform Resource Identifiers URI: Generic Syntax</em></a> )
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p>Usable as a context for constructing another URL.</p>
                                 </li>
                                 <li class="listitem">
                                    <p>The <code class="code">java.net.URLStreamHandler</code> class used for a
                                                 bundle entry URL must be available to the <code class="code">java.net.URL</code>
                                                 class to setup a URL that uses the protocol scheme defined by the
                                                 Framework.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p>The <code class="code">getPath</code> method for a bundle entry URL must
                                                 return an absolute path (a path that starts with '/') to a resource
                                                 or entry in a bundle. For example, the URL returned from
                                                 <code class="code">getEntry("myimages/test.gif")</code> must have a path of
                                                 <code class="code">/myimages/test.gif</code>.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>For example, a class can take a URL to an <code class="code">index.html</code>
                                    bundle resource and map URLs in this resource to other files in the same
                                    JAR directory.
                           </p><pre xmlns="" class="programlisting"><code>public class BundleResource extends ServletContextHelper {
    URL  root;  // to index.html in bundle
    URL getResource( String resource ) {
        return new URL( root, resource );
    }
    ...
}</code></pre></div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i2581530"></a><span xmlns="" class="number">3.9.7</span> Bundle Cycles
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Multiple required bundles can export the same package. Bundles
                                    which export the same package involved in a require bundle cycle can
                                    lead to lookup cycles when searching for classes and resources from the
                                    package. Consider the following definitions:
                           </p><pre xmlns="" class="programlisting"><code>A: Require-Bundle: B, C
C: Require-Bundle: D</code></pre><p>These definitions are depicted in <a xmlns="" class="xref" href="framework.module.html#i2650348" title="Figure 3.15 Depth First search with Require Bundle">Figure <span class="number">3</span>.15</a>.
                           </p>
                           <div class="figure"><a xmlns="" class="anchor" id="i2650348"></a><p class="title"><strong>Figure <span xmlns="" class="number">3</span>.15 Depth First search with Require Bundle</strong></p>
                              <div class="figure-contents">
                                 <div class="mediaobject" align="center"><img src="images/003-require-bundle-depth-first.png" align="middle" width="668" height="157" alt="Depth First search with Require Bundle" /></div>
                              </div>
                           </div><br class="figure-break" /><p>Each of the bundles exports the package <code class="code">p</code>. In this
                                    example, bundle <code class="code">A</code> requires bundle <code class="code">B</code>, and
                                    bundle <code class="code">C</code> requires bundle <code class="code">D</code>. When bundle
                                    <code class="code">A</code> loads a class or resource from package <code class="code">p</code>,
                                    then the required bundle search order is the following: <code class="code">B</code>,
                                    <code class="code">D</code>, <code class="code">C</code>, <code class="code">A</code>. This is a depth first
                                    search order because required bundles are searched before the bundle
                                    class path is searched (see step <a xmlns="" class="xref" href="framework.module.html#i3187927">4</a> ). The
                                    required bundles are searched in the order that they appear in the
                                    Require-Bundle header. The depth first search order can introduce
                                    endless search cycles if the dependency graph has a cycle in it.
                           </p>
                           <p>Using the previous setup, a cycle can be introduced if bundle
                                    <code class="code">D</code> requires bundle <code class="code">A</code> as depicted in <a xmlns="" class="xref" href="framework.module.html#i3024353" title="Figure 3.16 Cycles">Figure <span class="number">3</span>.16</a>.
                           </p><pre xmlns="" class="programlisting"><code>D: Require-Bundle: A</code></pre><div class="figure"><a xmlns="" class="anchor" id="i3024353"></a><p class="title"><strong>Figure <span xmlns="" class="number">3</span>.16 Cycles</strong></p>
                              <div class="figure-contents">
                                 <div class="mediaobject" align="center"><img src="images/003-bundle-cycles.png" align="middle" width="668" height="157" alt="Cycles" /></div>
                              </div>
                           </div><br class="figure-break" /><p>When the class loader for bundle <code class="code">A</code> loads a class or
                                    resource from package <code class="code">p</code> then the bundle search order would
                                    be the following: B, B, B,... if cycles were not taken into
                                    account.
                           </p>
                           <p>Since a cycle was introduced each time bundle D is reached the
                                    search will recurs back to A and start over. The framework must prevent
                                    such dependency cycles from causing endless recursive lookups.
                           </p>
                           <p>To avoid endless looping, the Framework must mark each bundle upon
                                    first visiting it and not explore the required bundles of a previously
                                    visited bundle. Using the visited pattern on the dependency graph above
                                    will result in the following bundle search order: <code class="code">B</code>,
                                    <code class="code">D</code>, <code class="code">C</code>, <code class="code">A</code>.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e5272"></a><span xmlns="" class="number">3.9.8</span> Code Executed Before Started
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Packages exported from a bundle are exposed to other bundles as
                                    soon as the bundle has been resolved. This condition could mean that
                                    another bundle could call methods in an exported package
                                    <span class="emphasis"><em>before</em></span> the bundle exporting the package is
                                    started.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module-finding-a-bundle"></a><span xmlns="" class="number">3.9.9</span> Finding a Bundle
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>There are scenarios where a bundle is required in code that has no
                                    access to a Bundle Context. For this reason, the framework provides the
                                    following <span class="emphasis"><em>Framework Util</em></span> methods:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">getBundle(Class)</code> - The <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.FrameworkUtil.getBundle-Class-" title="10.1.19.5 public static Bundle getBundle(Class&lt;?&gt; classFromBundle)">getBundle(Class)</a> method
                                                 allows code to find the bundle of a class. The method returns
                                                 <code class="code">null</code> when the class does not originate from a
                                                 bundle.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">getBundle(ClassLoader)</code> - The <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.FrameworkUtil.getBundle-ClassLoader-" title="10.1.19.4 public static Optional&lt;Bundle&gt; getBundle(ClassLoader bundleClassLoader)">getBundle(ClassLoader)</a>
                                                 method allows code to find the bundle of a class loader. The method
                                                 returns an empty Optional when the class loader is not associated
                                                 with a specific bundle.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>In an OSGi system, not all objects belong to types loaded from a
                                    bundle class loader. For example, the boot class path loader.
                           </p>
                        </div>
                     </div>
                     <div class="section">
                        <div xmlns="" class="titlepage">
                           <div>
                              <div>
                                 <h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a xmlns="" class="anchor" id="framework.module-loading.native.code.libraries"></a><span xmlns="" class="number">3.10</span> Loading Native Code Libraries
                                 </h2>
                              </div>
                           </div>
                        </div>
                        <p>Dependency on native code is expressed in the Bundle-NativeCode
                               header. The framework must verify this header and satisfy its dependencies
                               before it attempts to resolve the bundle. However, a bundle can be
                               installed without an exception if the header is properly formatted
                               according to its syntax. If the header contains invalid information, or
                               can not be satisfied, errors will be reported during resolving.
                        </p>
                        <p>A Java VM has a special way of handling native code. When a class
                               loaded by a bundle's class loader attempts to load a native library, by
                               calling <code class="code">System.loadLibrary</code>, the <code class="code">findLibrary</code>
                               method of the bundle's class loader must be called to return the file path
                               in which the Framework has made the requested native library available.
                               The parameter to the <code class="code">findLibrary</code> method is the name of the
                               library in operating system independent form, like <code class="code">http</code>. The
                               bundle class loader can use the <code class="code">mapLibraryName</code> method from
                               the VM to map this name to an operating system dependent name, like
                               <code class="code">libhttp.so</code>.
                        </p>
                        <p>The bundle's class loader must attempt to find the native library by
                               examining the selected native code clauses, if any, of the bundle
                               associated with the class loader and each attached fragment. Fragments are
                               examined in ascending bundle ID order. If the library is not referenced in
                               any of the selected native code clauses then <code class="code">null</code> must be
                               returned which allows the parent class loader to search for the native
                               library.
                        </p>
                        <p><a xmlns="" class="anchor" id="i2623559"></a>The bundle must have the required
                               <code class="code">RuntimePermission</code>[<code class="code">loadLibrary.</code> &lt;
                               <code class="code">library name</code>&gt;] in order to load native code in the OSGi
                               framework.
                        </p>
                        <p>The Bundle-NativeCode manifest header must conform to the following
                               syntax:
                        </p><pre xmlns="" class="programlisting"><code>Bundle-NativeCode   ::= nativecode 
        ( ',' nativecode )* ( ',' optional ) ?
nativecode          ::= path ( ';' path )*    // See <a class="xref" href="framework.introduction.html#framework.general.syntax" title="1.3.2 General Syntax Definitions"><span class="number">1.3.2</span></a>
                        ( ';' parameter )*
optional            ::= '*'</code></pre><p>When locating a path in a bundle the Framework must attempt to
                               locate the path relative to the root of the bundle that contains the
                               corresponding native code clause in its manifest header.
                        </p>
                        <p>The following attributes are architected:</p>
                        <div class="itemizedlist">
                           <ul class="itemizedlist" style="list-style-type: disc; ">
                              <li class="listitem">
                                 <p><code class="code">osname</code> - Name of the operating system. The value of
                                            this attribute must be the name of the operating system upon which the
                                            native libraries run. A number of canonical names are defined in <a xmlns="" class="xref" href="framework.lifecycle.html#framework.module.os-names" title="Table 4.3 Operating System Names">Table <span class="number">4</span>.3</a>.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p><code class="code">osversion</code> - The operating system version. The value
                                            of this attribute must be a version range as defined in <a xmlns="" class="xref" href="framework.module.html#i3189032" title="3.2.6 Version Ranges">Version Ranges</a>.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p><code class="code">processor</code> - The processor architecture. The value
                                            of this attribute must be the name of the processor architecture upon
                                            which the native libraries run. A number of canonical names are
                                            defined in <a xmlns="" class="xref" href="framework.lifecycle.html#framework.module.processor-names" title="Table 4.2 Processor Names">Table <span class="number">4</span>.2</a>.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p><code class="code">language</code> - The ISO code for a language. The value
                                            of this attribute must be the name of the language for which the
                                            native libraries have been localized.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p><code class="code">selection-filter</code> - A selection filter. The value of
                                            this attribute must be a filter expression that indicates if the
                                            native code clause should be selected or not.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>If a selection-filter attribute contains an invalid filter, then the
                               bundle must fail to install with a Bundle Exception of type <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.BundleException.NATIVECODE_ERROR" title="10.1.9.5 public static final int NATIVECODE_ERROR = 8">NATIVECODE_ERROR</a>. The following is a typical example of a native
                               code declaration in a bundle's manifest:
                        </p><pre xmlns="" class="programlisting"><code>Bundle-NativeCode: lib/http.dll ; lib/zlib.dll; «
        osname = Windows95 ; «
        osname = Windows98 ; «
        osname = WindowsNT ; «
        processor = x86 ; «
        selection-filter = «
            "(com.acme.windowing=win32)"; «
        language = en ; «
        language = se , «
    lib/solaris/libhttp.so ; «
        osname = Solaris ; «
        osname = SunOS ; «
        processor = sparc, «
    lib/linux/libhttp.so ; «
        osname = Linux ; «
        processor = mips; «
        selection-filter = «
            "(com.acme.windowing=gtk)"</code></pre><p>If multiple native code libraries need to be installed on one
                               platform, they must all be specified in the same clause for that
                               platform.
                        </p>
                        <p>If a Bundle-NativeCode clause contains duplicate parameter entries,
                               the corresponding values must be <code class="code">OR</code>'ed together. This feature
                               must be carefully used because the result is not always obvious. This is
                               highlighted by the following example:
                        </p><pre xmlns="" class="programlisting"><code>// The effect of this header has probably 
// not the intended effect!
Bundle-NativeCode: lib/http.DLL ; «
    osname = Windows95 ; «
    osversion = "3.1" ; «
    osname = WindowsXP ; «
    osversion = "5.1" ; «
    processor = x86</code></pre><p>The above example implies that the native library will load on
                               Windows XP 3.1 and later, which was probably not intended. The single
                               clause should be split in two clauses:
                        </p><pre xmlns="" class="programlisting"><code>Bundle-NativeCode: lib/http.DLL ; «
        osname = Windows95 ; «
        osversion = 3.1; «
        processor = x86, «
    lib/http.DLL ; «
        osname = WindowsXP ; «
        osversion = 5.1; «
        processor = x86</code></pre><p>Any paths specified in the matching clause must be present in the
                               bundle or any of its attached fragments for a bundle to resolve. The
                               framework must report a Bundle Exception with the
                               <code class="code">NATIVECODE_ERROR</code> as error code when the bundle can not be
                               resolved due to a native code problem.
                        </p>
                        <p>If the optional '*' is specified at the end of the Bundle-NativeCode
                               manifest header, the bundle will still resolve even if the
                               Bundle-NativeCode header has no matching clauses.
                        </p>
                        <p>The following is a typical example of a native code declaration in a
                               bundle's manifest with an optional clause:
                        </p><pre xmlns="" class="programlisting"><code>Bundle-NativeCode: lib/win32/winxp/optimized.dll; «
        lib/win32/native.dll ; «
        osname = WindowsXP ; «
        processor = x86 , «
    lib/win32/native.dll ; «
        osname = Windows95 ; «
        osname = Windows98 ; «
        osname = WindowsNT ; «
        osname = Windows2000; «
        processor = x86 , «
        *</code></pre><p>Frameworks must convert a Bundle-NativeCode header to a requirement
                               in the <code class="code">osgi.native</code> namespace when used in the Wiring API, see
                               <a xmlns="" class="xref" href="framework.wiring.html" title="7 Bundle Wiring API Specification"><em xmlns="http://www.w3.org/1999/xhtml">Bundle Wiring API Specification</em></a>. Each native code clause specified in a
                               Bundle-NativeCode header is converted into a filter component for the
                               <code class="code">osgi.native</code> requirement filter directive using the following
                               architected matching attributes:
                        </p>
                        <div class="itemizedlist">
                           <ul class="itemizedlist" style="list-style-type: disc; ">
                              <li class="listitem">
                                 <p><code class="code">osgi.native.osname</code> - Uses the approximate equals
                                            (~=) filter type to evaluate the value specified by the
                                            <code class="code">osname</code> Bundle-NativeCode attribute.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p><code class="code">osgi.native.osversion</code> - Create a
                                            <code class="code">VersionRange</code> using the value specified by the osversion
                                            Bundle-NativeCode attribute and then create a filter string out of the
                                            <code class="code">VersionRange</code>.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p><code class="code">osgi.native.processor</code> - Uses the approximate equals
                                            (~=) filter type to evaluate the value specified by the
                                            <code class="code">processor</code> Bundle-NativeCode attribute.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p><code class="code">osgi.native.language</code> - Uses the approximate equals
                                            (~=) filter type to evaluate the value specified by the
                                            <code class="code">language</code> Bundle-NativeCode attribute.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>In cases where the same Bundle-NativeCode attribute is specified
                               multiple times within the same clause then the filter components for each
                               value for that attribute are ORed together. For example, if osname
                               attribute is specified as both "Windows95" and "Windows7" then the
                               resulting filter will contain:
                        </p><pre xmlns="" class="programlisting"><code>(|
        (osgi.native.osname~=Windows95)
        (osgi.native.osname~=Windows7)
)</code></pre><p>If the <code class="code">selection-filter</code> Bundle-NativeCode attribute is
                               specified then the specified filter is included as a component of the
                               native code clauses AND filter type. Consider the following
                               Bundle-NativeCode header which contains a single clause:
                        </p><pre xmlns="" class="programlisting"><code>Bundle-NativeCode: «
      lib/http.dll; lib/zlib.dll; «
      osname=Windows95; «
      osname=Windows98; «
      osname=WindowsNT; «
      processor=x86; «
      selection-filter="(com.acme.windowing=win32)";  «
      language=en; «
      language=se</code></pre><p>This clause would get translated into the following AND filter
                               type:
                        </p><pre xmlns="" class="programlisting"><code>Require-Capability: «
      osgi.native; «
      filter:=" «
        (&amp; «
          (| «
            (osgi.native.osname~=Windows95) «
            (osgi.native.osname~=Windows98) «
            (osgi.native.osname~=WindowsNT) «
          ) «
          (osgi.native.processor~=x86) «
          (| «
            (osgi.native.language~=en) «
            (osgi.native.language~=se) «
          ) «
          (com.acme.windowing=win32) «
        )"</code></pre><p>The Bundle-NativeCode header may specify multiple clauses, each
                               having their own list of native code paths and set of matching attributes.
                               Instead of using a separate <code class="code">osgi.native</code> requirement for each
                               Bundle-NativeCode clause, the complete Bundle-NativeCode header is
                               specified as a single <code class="code">osgi.native</code> requirement. This is done
                               by using an OR filter type using all of the individual Bundle-NativeCode
                               clause filter components (as specified above) as components of a single
                               filter directive. Consider the following Bundle-NativeCode header which
                               contains three clauses:
                        </p><pre xmlns="" class="programlisting"><code>Bundle-NativeCode: «
      lib/http.dll; lib/zlib.dll; «
        osname=Windows95; «
        osname=Windows98; «
        osname=WindowsNT; «
        processor=x86; «
        selection-filter = "(com.acme.windowing=win32)"; «
        language=en; «
        language=se, «
      lib/solaris/libhttp.so; «
        osname=Solaris; «
        osname=SunOS; «
        processor=sparc, «
      lib/linux/libhttp.so; «
        osname=Linux; «
        processor=mips; «
        selection-filter="(com.acme.windowing=gtk)"</code></pre><p>This Bundle-NativeCode header would get translated into the
                               following <code class="code">osgi.native</code> filter directive:
                        </p><pre xmlns="" class="programlisting"><code>(|
  (&amp;
    (|
      (osgi.native.osname~=Windows95)
      (osgi.native.osname~=Windows98)
      (osgi.native.osname~=WindowsNT)
    )
    (osgi.native.processor~=x86)
    (|
      (osgi.native.language~=en)
      (osgi.native.language~=se)
    )
    (com.acme.windowing=win32)
  )
  (&amp;
    (|
      (osgi.native.osname~=Solaris)
      (osgi.native.osname~=SunOs)
    )
    (osgi.native.processor~=sparc)
  )
  (&amp;
    (osgi.native.osname~=Linux)
    (osgi.native.processor~=mips)
    (com.acme.windowing=gtk)
  )
)</code></pre><p>If the optional '*' is specified at the end of the Bundle-NativeCode
                               manifest header, then the native code for the bundle is considered to be
                               optional. When the Framework converts a Bundle-NativeCode header into an
                               <code class="code">osgi.native</code> requirement which is designated as optional then
                               the requirement resolution directive must be set to
                               <code class="code">optional</code></p>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module.nativecodealgorithm"></a><span xmlns="" class="number">3.10.1</span> Native Code Algorithm
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>In the description of this algorithm, [x] represents the value of
                                    the launching property x (see <a xmlns="" class="xref" href="framework.lifecycle.html#framework.lifecycle.launchingproperties" title="4.2.2 Launching Properties">Launching Properties</a>) and ~= represents
                                    the match operation. The match operation is a case insensitive
                                    comparison. Certain properties can be aliased. In those cases, the
                                    manifest header should contain the generic name for that property but
                                    the Framework should attempt to include aliases when it matches.
                           </p>
                           <p>The Framework must select the native code clause using the
                                    following algorithm:
                           </p>
                           <div class="orderedlist">
                              <ol class="orderedlist" type="1">
                                 <li class="listitem">
                                    <p><a xmlns="" class="anchor" id="framework.module-nativecodealg1"></a>Only select the native code clauses for which the following
                                                 expressions all evaluate to true.
                                    </p>
                                    <div class="itemizedlist">
                                       <ul class="itemizedlist" style="list-style-type: disc; ">
                                          <li class="listitem">
                                             <p><code class="code">osname ~= [org.osgi.framework.os.name]</code> or
                                                              <code class="code">osname</code> is not specified
                                             </p>
                                          </li>
                                          <li class="listitem">
                                             <p><code class="code">processor ~= [org.osgi.framework.processor]</code>
                                                              or <code class="code">processor</code> is not specified
                                             </p>
                                          </li>
                                          <li class="listitem">
                                             <p><code class="code">osversion</code> range includes
                                                              <code class="code">[org.osgi.framework.os.version]</code> or
                                                              <code class="code">osversion</code> is not specified
                                             </p>
                                          </li>
                                          <li class="listitem">
                                             <p><code class="code">language ~= [org.osgi.framework.language]</code> or
                                                              <code class="code">language</code> is not specified
                                             </p>
                                          </li>
                                          <li class="listitem">
                                             <p><code class="code">selection-filter</code> evaluates to
                                                              <code class="code">true</code> when using the values of the launching
                                                              properties or <code class="code">selection-filter</code> is not
                                                              specified
                                             </p>
                                          </li>
                                       </ul>
                                    </div>
                                 </li>
                                 <li class="listitem">
                                    <p>If no native clauses were selected in step <a xmlns="" class="xref" href="framework.module.html#framework.module-nativecodealg1">1</a>, this algorithm is
                                                 terminated. A Bundle Exception is thrown if the optional clause is
                                                 not present.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><a xmlns="" class="anchor" id="framework.module-nativecodealg3"></a>The selected clauses are now sorted in the following priority
                                                 order:
                                    </p>
                                    <div class="itemizedlist">
                                       <ul class="itemizedlist" style="list-style-type: disc; ">
                                          <li class="listitem">
                                             <p><code class="code">osversion</code>: floor of the
                                                              <code class="code">osversion</code> range in descending order,
                                                              <code class="code">osversion</code> not specified
                                             </p>
                                          </li>
                                          <li class="listitem">
                                             <p><code class="code">language</code>: language specified, language not
                                                              specified
                                             </p>
                                          </li>
                                          <li class="listitem">
                                             <p>Position in the Bundle-NativeCode manifest header: lexical
                                                              left to right.
                                             </p>
                                          </li>
                                       </ul>
                                    </div>
                                 </li>
                                 <li class="listitem">
                                    <p>The first clause of the sorted clauses from step <a xmlns="" class="xref" href="framework.module.html#framework.module-nativecodealg3">3</a> must be used as the
                                                 selected native code clause.
                                    </p>
                                 </li>
                              </ol>
                           </div>
                           <p>If a native code library in a selected native code clause cannot
                                    be found within the bundle then the bundle is still allowed to resolve.
                                    A missing native code library will result in an error being thrown at
                                    runtime when the bundle attempts to load the native code (for example,
                                    by invoking the method <code class="code">System.loadLibrary</code>).
                           </p>
                           <p>If the selected clause contains multiple libraries with the same
                                    base file name then only the lexically left most library with that base
                                    file name will be used. For example, if the selected clause contains the
                                    libraries <code class="code">lib1/http.dll; lib2/http.dll; lib3/foo.dll;
                                       a/b/c/http.dll</code> then only <code class="code">http.dll</code> in
                                    <code class="code">lib1</code> and <code class="code">foo.dll</code> will be used.
                           </p>
                           <p>Designing a bundle native code header can become quickly
                                    complicated when different operating systems, libraries, and languages
                                    are used. The best practice for designing the header is to place all
                                    parameters in a table. Every targeted environment is then a row in that
                                    table. See <a xmlns="" class="xref" href="framework.module.html#framework.module.nativecode.table" title="Table 3.2 Native code table">Table <span class="number">3</span>.2</a> for an
                                    example.
                           </p>
                           <div class="table"><a xmlns="" class="anchor" id="framework.module.nativecode.table"></a><p class="title"><strong>Table <span xmlns="" class="number">3</span>.2 Native code table</strong></p>
                              <div class="table-contents">
                                 <table summary="Native code table" style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; ">
                                    <colgroup>
                                       <col />
                                       <col />
                                       <col />
                                       <col />
                                       <col />
                                       <col />
                                    </colgroup>
                                    <thead>
                                       <tr>
                                          <th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="bottom">Libraries</th>
                                          <th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">osname</th>
                                          <th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">osversion</th>
                                          <th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">processor</th>
                                          <th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">language</th>
                                          <th style="border-bottom: 0.5pt solid ; ">filter</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr>
                                          <td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                             <p>nativecodewin32.dll, delta.dll</p>
                                          </td>
                                          <td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                             <p><code class="code">win32</code></p>
                                          </td>
                                          <td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                             <p></p>
                                          </td>
                                          <td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                             <p><code class="code">x86</code></p>
                                          </td>
                                          <td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                             <p><code class="code">en</code></p>
                                          </td>
                                          <td style="border-bottom: 0.5pt solid ; ">
                                             <p></p>
                                          </td>
                                       </tr>
                                       <tr>
                                          <td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                             <p>nativecodegtk.so</p>
                                          </td>
                                          <td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                             <p><code class="code">linux</code></p>
                                          </td>
                                          <td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                             <p></p>
                                          </td>
                                          <td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                             <p><code class="code">x86</code></p>
                                          </td>
                                          <td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                             <p><code class="code">en</code></p>
                                          </td>
                                          <td style="border-bottom: 0.5pt solid ; ">
                                             <p><code class="code">(com.acme.windowing=gtk)</code></p>
                                          </td>
                                       </tr>
                                       <tr>
                                          <td style="border-right: 0.5pt solid ; ">
                                             <p>nativecodeqt.so</p>
                                          </td>
                                          <td style="border-right: 0.5pt solid ; ">
                                             <p><code class="code">linux</code></p>
                                          </td>
                                          <td style="border-right: 0.5pt solid ; ">
                                             <p></p>
                                          </td>
                                          <td style="border-right: 0.5pt solid ; ">
                                             <p><code class="code">x86</code></p>
                                          </td>
                                          <td style="border-right: 0.5pt solid ; ">
                                             <p><code class="code">en</code></p>
                                          </td>
                                          <td style="">
                                             <p><code class="code">(com.acme.windowing=qt)</code></p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                           </div><br class="table-break" /><p>This table makes it easier to detect missing combinations. This
                                    table is then mapped to the Bundle-NativeCode header in the following
                                    code example.
                           </p><pre xmlns="" class="programlisting"><code>Bundle-NativeCode:  nativecodewin32.dll; «
        delta.dll; «
        osname=win32; «
        processor=x86; «
        language=en, «
    nativecodegtk.so; «
        osname=linux; «
        processor=x86; «
        language=en; «
        selection-filter= «
            "(com.acme.windowing=gtk)", «
    nativecodeqt.so; «
        osname=linux; «
        processor=x86; «
        language=en; «
        selection-filter = «
            "(com.acme.windowing=qt)"</code></pre></div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e5721"></a><span xmlns="" class="number">3.10.2</span> Considerations Using Native Libraries
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>There are some restrictions on loading native libraries due to the
                                    nature of class loaders. In order to preserve namespace separation in
                                    class loaders, only one class loader can load a native library as
                                    specified by an absolute path. Loading of a native library file by
                                    multiple class loaders (from multiple bundles, for example) will result
                                    in a linkage error.
                           </p>
                           <p>Care should be taken to use multiple libraries with the same file
                                    name but in a different directory in the JAR. For example,
                                    <code class="code">foo/http.dll</code> and <code class="code">bar/http.dll</code>. The Framework
                                    must only use the first library and ignore later defined libraries with
                                    the same name. In the example, only <code class="code">foo/http.dll</code> will be
                                    visible.
                           </p>
                           <p>A native library is unloaded only when the class loader that
                                    loaded it has been garbage collected.
                           </p>
                           <p>When a bundle is uninstalled or updated, any native libraries
                                    loaded by the bundle remain in memory until the bundle's class loader is
                                    garbage collected. The garbage collection will not happen until all
                                    references to objects in the bundle have been garbage collected, and all
                                    bundles importing packages from the updated or uninstalled bundle are
                                    refreshed. This implies that native libraries loaded from the system
                                    class loader always remain in memory because the system class loader is
                                    never garbage collected.
                           </p>
                           <p>It is not uncommon that native code libraries have dependencies on
                                    other native code libraries. This specification does not support these
                                    dependencies, it is assumed that native libraries delivered in bundles
                                    should not rely on other native libraries.
                           </p>
                        </div>
                     </div>
                     <div class="section">
                        <div xmlns="" class="titlepage">
                           <div>
                              <div>
                                 <h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a xmlns="" class="anchor" id="framework.module.localization"></a><span xmlns="" class="number">3.11</span> Localization
                                 </h2>
                              </div>
                           </div>
                        </div>
                        <p>A bundle contains a significant amount of information that is
                               human-readable. Some of this information may require different
                               translations depending on the user's language, country, and any special
                               variant preferences, a.k.a. the <span class="emphasis"><em>locale</em></span>. This section
                               describes how a bundle can provide common translations for the manifest
                               and other configuration resources depending on a locale.
                        </p>
                        <p>Bundle localization entries share a common base name. To find a
                               potential localization entry, an underscore (<code class="code">'_' \u005F</code>) is
                               added plus a number of suffixes, separated by another underscore, and
                               finally appended with the suffix <code class="code">.properties</code> . The suffixes
                               are defined in <code class="code">java.util.Locale</code>. The order for the suffixes
                               this must be:
                        </p>
                        <div class="itemizedlist">
                           <ul class="itemizedlist" style="list-style-type: disc; ">
                              <li class="listitem">
                                 <p>language</p>
                              </li>
                              <li class="listitem">
                                 <p>country</p>
                              </li>
                              <li class="listitem">
                                 <p>variant</p>
                              </li>
                           </ul>
                        </div>
                        <p>For example, the following files provide manifest translations for
                               English, Dutch (Belgium and the Netherlands) and Swedish.
                        </p><pre xmlns="" class="programlisting"><code>OSGI-INF/l10n/bundle_en.properties
OSGI-INF/l10n/bundle_nl_BE.properties
OSGI-INF/l10n/bundle_nl_NL.properties
OSGI-INF/l10n/bundle_sv.properties</code></pre><p>The Framework searches for localization entries by appending
                               suffixes to the localization base name according to a specified locale and
                               finally appending the <code class="code">.properties</code> suffix. If a translation is
                               not found, the locale must be made more generic by first removing the
                               variant, then the country and finally the language until an entry is found
                               that contains a valid translation. For example, looking up a translation
                               for the locale <code class="code">en_GB_welsh</code> will search in the following
                               order:
                        </p><pre xmlns="" class="programlisting"><code>OSGI-INF/l10n/bundle_en_GB_welsh.properties
OSGI-INF/l10n/bundle_en_GB.properties
OSGI-INF/l10n/bundle_en.properties
OSGI-INF/l10n/bundle.properties</code></pre><p>This allows localization files for more specific locales to override
                               localizations from less specific localization files.
                        </p>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i3212953"></a><span xmlns="" class="number">3.11.1</span> Finding Localization Entries
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Localization entries can be contained in the bundle or delivered
                                    in fragments. The framework must search for localization entries using
                                    the following search rules based on the bundle type:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">fragment bundle</code> - If the bundle is a
                                                 <span class="emphasis"><em>resolved</em></span> fragment, then the search for
                                                 localization data must delegate to the attached host bundle with the
                                                 highest version. If the fragment is not resolved, then the framework
                                                 must search the fragment's JAR for the localization entry.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">other bundle</code> - The framework must first search in
                                                 the bundle's JAR for the localization entry. If the entry is not
                                                 found and the bundle has fragments, then the attached fragment JARs
                                                 must be searched for the localization entry.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>The bundle's class loader is not used to search for localization
                                    entries. Only the contents of the bundle and its attached fragments are
                                    searched. The bundle will still be searched for localization entries
                                    even if the full stop (<code class="code">'.' \u002E</code>) is not in the bundle
                                    class path.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i3189742"></a><span xmlns="" class="number">3.11.2</span> Manifest Localization
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Localized values are stored in property resources within the
                                    bundle. The default base name of the bundle localization property files
                                    is <code class="code">OSGI-INF/l10n/bundle</code>. The Bundle-Localization manifest
                                    header can be used to override the default base name for the
                                    localization files. This location is relative to the root of the bundle
                                    and bundle fragments.
                           </p>
                           <p>A localization entry contains key/value entries for localized
                                    information. All headers in a bundle's manifest can be localized.
                                    However, the Framework must always use the non-localized versions of
                                    headers that have Framework semantics.
                           </p>
                           <p>A localization key can be specified as the value of a bundle's
                                    manifest header using the following syntax:
                           </p><pre xmlns="" class="programlisting"><code>header-value ::= '%'text
text ::= &lt; any value which is both a valid manifest headervalue
   and a valid property key name &gt;</code></pre><p>For example, consider the following bundle manifest
                                    entries:
                           </p><pre xmlns="" class="programlisting"><code>Bundle-Name: %acme bundle
Bundle-Vendor: %acme corporation
Bundle-Description: %acme description
Bundle-Activator: com.acme.bundle.Activator
Acme-Defined-Header: %acme special header</code></pre><p>User-defined headers can also be localized. Spaces in the
                                    localization keys are explicitly allowed.
                           </p>
                           <p>The previous example manifest entries could be localized by the
                                    following entries in the manifest localization entry
                                    OSGI-INF/l10n/bundle.properties.
                           </p><pre xmlns="" class="programlisting"><code># bundle.properties
acme\ bundle=The ACME Bundle
acme\ corporation=The ACME Corporation
acme\ description=The ACME Bundle provides all of the ACME\ services
acme\ special\ header=user-defined Acme Data</code></pre><p>The above manifest entries could also have French localizations in
                                    the manifest localization entry
                                    <code class="code">OSGI-INF/l10n/bundle_fr_FR.properties</code>.
                           </p>
                        </div>
                     </div>
                     <div class="section">
                        <div xmlns="" class="titlepage">
                           <div>
                              <div>
                                 <h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a xmlns="" class="anchor" id="framework.module.bundle.validity"></a><span xmlns="" class="number">3.12</span> Bundle Validity
                                 </h2>
                              </div>
                           </div>
                        </div>
                        <p>If the Bundle-ManifestVersion is not specified, then the bundle
                               manifest version defaults to 1, and certain Release 4 syntax, such as a
                               new manifest header, is ignored rather than causing an error. Release 3
                               bundles must be treated according to the Release 3 specification.
                        </p>
                        <p>The following (non-exhaustive) list of errors causes a bundle to
                               fail to install:
                        </p>
                        <div class="itemizedlist">
                           <ul class="itemizedlist" style="list-style-type: disc; ">
                              <li class="listitem">
                                 <p>Missing Bundle-SymbolicName.</p>
                              </li>
                              <li class="listitem">
                                 <p>Duplicate attribute or duplicate directive (except in the
                                            Bundle-Native code clause).
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>Multiple imports of a given package.</p>
                              </li>
                              <li class="listitem">
                                 <p>Export of <code class="code">java.*</code> packages.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>Export-Package, Bundle-SymbolicName, or Fragment-Host with a
                                            mandatory attribute that is not defined.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>Installing or updating a bundle to a bundle that has the same
                                            symbolic name and version as another installed bundle (unless this is
                                            allowed, see <a xmlns="" class="xref" href="framework.lifecycle.html#framework.lifecycle.bundleidentifiers" title="4.4.1 Bundle Identifiers">Bundle Identifiers</a>).
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>Any syntactic error (for example, improperly formatted version
                                            or bundle symbolic name, unrecognized directive value, etc.).
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>Specification-version and version specified together (for the
                                            same package(s)) but with different values on manifest headers that
                                            treat them as synonyms. For example:
                                 </p><pre xmlns="" class="programlisting"><code>    Import-Package p;specification-version=1;version=2</code></pre><p>would fail to install, but:</p><pre xmlns="" class="programlisting"><code>    Import-Package p;specification-version=1,q;version=2</code></pre><p>would not be an error.</p>
                              </li>
                              <li class="listitem">
                                 <p>The manifest lists a <code class="code">OSGI-INF/permissions.perm</code> file
                                            but no such file is present.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>Bundle-ManifestVersion value not equal to 2, unless the
                                            Framework specifically recognizes the semantics of a later
                                            release.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>Requiring the same bundle symbolic name more than once.</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <div class="section">
                        <div xmlns="" class="titlepage">
                           <div>
                              <div>
                                 <h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a xmlns="" class="anchor" id="framework.module.requiringbundles"></a><span xmlns="" class="number">3.13</span> Requiring Bundles
                                 </h2>
                              </div>
                           </div>
                        </div>
                        <p>The Framework supports a mechanism where bundles can be directly
                               wired to other bundles. The following sections define the relevant headers
                               and then discuss the possible scenarios. At the end, some of the
                               (sometimes unexpected) consequences of using Require-Bundle are
                               discussed.
                        </p>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module.requirebundle"></a><span xmlns="" class="number">3.13.1</span> Require-Bundle
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>The Require-Bundle manifest header contains a list of required
                                    bundle symbolic names, with optional attribute assertions. These bundles
                                    are searched after the imports are searched but before the bundle's
                                    class path is searched. Fragment or extension bundles cannot be
                                    required.
                           </p>
                           <p>The framework must take <span class="emphasis"><em>all</em></span> exported packages
                                    from a required bundle, including any packages exported by attached
                                    fragments, and wire these packages to the requiring bundle.
                           </p>
                           <p>The Require-Bundle manifest header must conform to the following
                                    syntax:
                           </p><pre xmlns="" class="programlisting"><code>Require-Bundle      ::= bundle-description 
    ( ',' bundle-description )*
bundle-description  ::= symbolic-name       // See <a class="xref" href="framework.introduction.html#framework.general.syntax" title="1.3.2 General Syntax Definitions"><span class="number">1.3.2</span></a>
    (';' parameter )*</code></pre><p>The following directives can be used in the Require-Bundle
                                    header:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">visibility</code> - If the value is <code class="code">private</code>
                                                 (default), then all visible packages from the required bundles are
                                                 not re-exported. If the value is <code class="code">reexport</code> then bundles
                                                 that require this bundle will transitively have access to these
                                                 required bundle's exported packages. That is, if bundle
                                                 <code class="code">A</code> requires bundle <code class="code">B</code>, and bundle
                                                 <code class="code">B</code> requires bundle <code class="code">C</code> with
                                                 <code class="code">visibility:=reexport</code> then bundle <code class="code">A</code> will
                                                 have access to all bundle <code class="code">C</code>'s exported packages as if
                                                 bundle <code class="code">A</code> had required bundle <code class="code">C</code>.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">resolution</code> - If the value is
                                                 <code class="code">mandatory</code> (default) then the required bundle must exist
                                                 for this bundle to resolve. If the value is <code class="code">optional</code>,
                                                 the bundle will resolve even if the required bundle does not
                                                 exist.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>The following matching attribute is architected by the
                                    Framework:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">bundle-version</code> - The value of this attribute is a
                                                 version range to select the bundle version of the required bundle.
                                                 See <a xmlns="" class="xref" href="framework.module.html#i3189032" title="3.2.6 Version Ranges">Version Ranges</a>. The default value is
                                                 <code class="code">[0.0.0,</code><span class="symbol">∞</span><code class="code">)</code>.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>The Bundle-SymbolicName header can specify further arbitrary
                                    attributes that must be matched before a bundle is eligible.
                           </p>
                           <p>A specific symbolic name can only be required once, listing the
                                    same symbolic name multiple times must be regarded as an install
                                    error.
                           </p>
                           <p>Requiring bundles must get wired to all exported packages of all
                                    their required bundles including exported packages from their attached
                                    fragments. This means that any mandatory attributes on these exports
                                    must be ignored. However, if a required bundle's exported package is
                                    substituted for an imported package, then the requiring bundles must get
                                    wired to the same exported package that the required bundle is wired to
                                    ensure class space consistency.
                           </p>
                           <p>For example, assume that bundle <code class="code">A</code> exports and imports
                                    package <code class="code">p</code> and bundle <code class="code">B</code> requires bundle
                                    <code class="code">A</code>:
                           </p><pre xmlns="" class="programlisting"><code>Bundle A
Export-Package: p;x=1;mandatory:=x
Import-Package: p

Bundle B
Require-Bundle: A</code></pre><p>In this constellation, bundle <code class="code">B</code> will get package
                                    <code class="code">p</code> from the same source as bundle A. Bundle <code class="code">A</code>
                                    can get the package from itself if it is chosen as an exporter for p,
                                    but it can also get the package from another bundle because it also
                                    imports it. In all cases, bundle <code class="code">B</code> must use exactly the
                                    same exporter for package <code class="code">p</code> as bundle
                                    <code class="code">A</code>.
                           </p>
                           <p>A given package may be available from more than one of the
                                    required bundles. Such packages are named <span class="emphasis"><em>split
                                          packages</em></span> because they derive their contents from different
                                    bundles. If these different bundles provide the same classes
                                    unpredictable shadowing of classes can arise, see <a xmlns="" class="xref" href="framework.module.html#i3198951" title="3.13.3 Issues With Requiring Bundles">Issues With Requiring Bundles</a>. However, split packages without shadowing are
                                    explicitly permitted.
                           </p>
                           <p>For example, take the following setup:</p><pre xmlns="" class="programlisting"><code>A:  Require-Bundle: B
    Export-Package: p
B:  Export-Package: p;partial=true;mandatory:=partial</code></pre><p>If bundle <code class="code">C</code> imports package <code class="code">p</code>, it will
                                    be wired to package <code class="code">A.p</code>, however the contents will come
                                    from <code class="code">B.p</code> &gt; <code class="code">A.p</code>. The mandatory attribute on
                                    bundle <code class="code">B</code>'s export definition ensures that bundle
                                    <code class="code">B</code> is not accidentally selected as exporter for package
                                    <code class="code">p</code>. Split packages have a number of drawbacks that are
                                    discussed in <a xmlns="" class="xref" href="framework.module.html#i3198951" title="3.13.3 Issues With Requiring Bundles">Issues With Requiring Bundles</a>.
                           </p>
                           <p>Resources and classes from a split package must be searched in the
                                    order in which the required bundles are specified in the
                                    <code class="code">Require-Bundle</code> header.
                           </p>
                           <p>As an example, assume that a bundle requires a number of required
                                    bundles and a number of language resources (also bundles) that are
                                    optional.
                           </p><pre xmlns="" class="programlisting"><code>Require-Bundle: com.acme.facade;visibility:=reexport, «
 com.acme.bar.one;visibility:=reexport, «
 com.acme.bar.two;visibility:=reexport, «
 com.acme.bar._nl;visibility:=reexport;resolution:=optional, «
 com.acme.bar._en;visibility:=reexport;resolution:=optional</code></pre><p>A bundle may both import packages (via Import-Package) and require
                                    one or more bundles (via Require-Bundle), but if a package is imported
                                    via Import-Package, it is not also visible via Require-Bundle:
                                    Import-Package takes priority over Require-Bundle, and packages which
                                    are exported by a required bundle and imported via Import-Package must
                                    <span class="emphasis"><em>not</em></span> be treated as split packages.
                           </p>
                           <p>In order to be allowed to require a named bundle, the requiring
                                    bundle must have <code class="code">BundlePermission[&lt;bundle symbolic name&gt;,
                                       REQUIRE]</code>, where the bundle symbolic name is the name of the
                                    bundle that is required. The required bundle must be able to provide the
                                    bundle and must therefore have <code class="code">BundlePermission[&lt;bundle
                                       symbolic name&gt;, PROVIDE]</code>, where the name designates the
                                    requiring bundle. In the case a fragment bundle requires another bundle,
                                    the Bundle Permission must be checked against the fragment bundle's
                                    Protection Domain.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e6091"></a><span xmlns="" class="number">3.13.2</span> Split Package Compatibility
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>A package is a split package whenever there are multiple
                                    <span class="emphasis"><em>sources</em></span> for the package; only bundles using the
                                    Require-Bundle header can have split packages.
                           </p>
                           <p>A source is a bundle that provides the given package. Both the
                                    required bundles as well as the requiring bundle can act as a source.
                                    The required bundles and the requiring bundle can only contribute their
                                    exported packages.
                           </p>
                           <p>Exported split packages from two bundles are compatible if the
                                    package sources for one are a subset of the other.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i3198951"></a><span xmlns="" class="number">3.13.3</span> Issues With Requiring Bundles
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>The preferred way of wiring bundles is to use the
                                    <code class="code">Import-Package</code> and <code class="code">Export-Package</code> headers
                                    because they couple the importer and exporter to a much lesser extent.
                                    Bundles can be refactored to have a different package composition
                                    without causing other bundles to fail.
                           </p>
                           <p>The Require-Bundle header provides a way for a bundle to bind to
                                    all the exports of another bundle, regardless of what those exports are.
                                    Though this can seem convenient at first, it has a number of
                                    drawbacks:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><span class="emphasis"><em>Split Packages</em></span> - Classes from the same
                                                 package can come from different bundles with Require bundle, such a
                                                 package is called a split package. Split packages have the following
                                                 drawbacks:
                                    </p>
                                    <div class="itemizedlist">
                                       <ul class="itemizedlist" style="list-style-type: circle; ">
                                          <li class="listitem">
                                             <p><span class="emphasis"><em>Completeness</em></span> - Split packages are
                                                              open ended, it is difficult to guarantee that all the intended
                                                              pieces of a split package have actually been included.
                                             </p>
                                          </li>
                                          <li class="listitem">
                                             <p><span class="emphasis"><em>Ordering</em></span> - If the same classes are
                                                              present in more than one required bundle, then the ordering of
                                                              Require-Bundle is significant. A wrong ordering can cause hard
                                                              to trace errors, similar to the traditional class path model of
                                                              Java.
                                             </p>
                                          </li>
                                          <li class="listitem">
                                             <p><span class="emphasis"><em>Performance</em></span> - A class must be
                                                              searched in all providers when packages are split. This
                                                              potentially increases the number of times that a
                                                              <code class="code">ClassNotFoundException</code> must be thrown which can
                                                              potentially introduce a significant overhead.
                                             </p>
                                          </li>
                                          <li class="listitem">
                                             <p><span class="emphasis"><em>Confusing</em></span> - It is easy to find a
                                                              setup where there is lots of potential for confusion. For
                                                              example, the following setup is non-intuitive.
                                             </p><pre xmlns="" class="programlisting"><code>   A: Export-Package: p;uses:=q
      Import-Package: q
   B: Export-Package: q
   C: Export-Package: q
   D: Require-Bundle: B, C
      Import-Package: p</code></pre></li>
                                       </ul>
                                    </div>
                                    <div class="figure"><a xmlns="" class="anchor" id="d0e6148"></a><p class="title"><strong>Figure <span xmlns="" class="number">3</span>.17 Split packages and package constraints</strong></p>
                                       <div class="figure-contents">
                                          <div class="mediaobject" align="center"><img src="images/003-split-packages.png" align="middle" width="668" height="140" alt="Split packages and package constraints" /></div>
                                       </div>
                                    </div><br class="figure-break" /><p>In this example, bundle <code class="code">D</code> merges the split
                                                 package <code class="code">q</code> from bundles <code class="code">B</code> and bundle
                                                 <code class="code">C</code>, however, importing package <code class="code">p</code> from
                                                 bundle <code class="code">A</code> puts a uses constraint on package
                                                 <code class="code">p</code> for package <code class="code">q</code>. This implies that bundle
                                                 <code class="code">D</code> can see the valid package <code class="code">q</code> from bundle
                                                 <code class="code">B</code> but also the invalid package <code class="code">q</code> from
                                                 bundle <code class="code">C</code>. This wiring is allowed because in almost all
                                                 cases there will be no problem. However, the consistency can be
                                                 violated in the rare case when package <code class="code">C.q</code> contains
                                                 classes that are also in package <code class="code">B.q</code>.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><span class="emphasis"><em>Mutable Exports</em></span> - The feature of
                                                 <code class="code">visibility:=reexport</code> that the export signature of the
                                                 requiring bundle can unexpectedly change depending on the export
                                                 signature of the required bundle.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><span class="emphasis"><em>Shadowing</em></span> - The classes in the requiring
                                                 bundle that are shadowed by those in a required bundle depend on the
                                                 export signature of the required bundle and the classes the required
                                                 bundle contains. (By contrast, Import-Package, except with
                                                 <code class="code">resolution:=optional</code>, shadows whole packages regardless
                                                 of the exporter.)
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div>
                     <div class="section">
                        <div xmlns="" class="titlepage">
                           <div>
                              <div>
                                 <h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a xmlns="" class="anchor" id="framework.module.fragmentbundles"></a><span xmlns="" class="number">3.14</span> Fragment Bundles
                                 </h2>
                              </div>
                           </div>
                        </div>
                        <p>Fragments are bundles that can be <span class="emphasis"><em>attached</em></span> to
                               one or more <span class="emphasis"><em>host bundles</em></span> by the Framework. Attaching
                               is done as part of resolving: the Framework appends the relevant
                               definitions of the fragment bundles to the host's definitions before the
                               host is resolved. Fragments are therefore treated as part of the host,
                               including any permitted headers; they must not have their own class loader
                               though fragments must have their own Protection Domain.
                        </p>
                        <p>Fragments can be attached to multiple hosts with the same symbolic
                               name but different versions. If multiple fragments with the same symbolic
                               name match the same host, then the Framework must only select one
                               fragment, this must be the fragment with the highest version.
                        </p>
                        <p>A key use case for fragments is providing translation files for
                               different locales. This allows the translation files to be treated and
                               shipped independently from the main application bundle.
                        </p>
                        <p>When an attached fragment is updated, the content of the previous
                               fragment must remain attached to its host bundles. The new content of the
                               updated fragment must not be allowed to attach to the host bundles until
                               the Framework is restarted or the host bundle is refreshed. During this
                               time, an attached fragment will have two versions: the old version,
                               attached to the old version of the host, and a new fragment bundle that
                               can get attached to a new version or to a different host bundle. The exact
                               configuration can be discovered with the <a xmlns="" class="xref" href="framework.wiring.html" title="7 Bundle Wiring API Specification"><em xmlns="http://www.w3.org/1999/xhtml">Bundle Wiring API Specification</em></a>.
                        </p>
                        <p>When attaching a fragment bundle to a host bundle the Framework must
                               perform the following steps:
                        </p>
                        <div class="orderedlist">
                           <ol class="orderedlist" type="1">
                              <li class="listitem">
                                 <p>Append the import definitions for the Fragment bundle that do
                                            not <span class="emphasis"><em>conflict</em></span> with an import definition of the
                                            host to the import definitions of the host bundle. A Fragment can
                                            provide an import statement for a private package of the host. The
                                            private package in the host is hidden in that case.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>Append the Require-Bundle entries of the fragment bundle that do
                                            not conflict with a Require-Bundle entry of the host to the
                                            Require-Bundle entries of the host bundle.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>Append the export definitions of a Fragment bundle to the export
                                            definitions of the host bundle unless the exact definition (directives
                                            and attributes must match) is already present in the host. Fragment
                                            bundles can therefore add additional exports for the same package
                                            name.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>Append the Provide-Capability clauses of the fragment to the
                                            Provide-Capability clauses of the host
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>Append the Require-Capability clauses of the fragment to the
                                            Require-Capability clauses of the host
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <p>A host and a fragment conflict when they cannot resolve to provide a
                               consistent class space. If a conflict is found, the Fragment bundle is not
                               attached to the host bundle.
                        </p>
                        <p>A Fragment bundle must enter the resolved state only if it has been
                               successfully attached to at least one host bundle.
                        </p>
                        <p>During runtime, the fragment's JAR is searched after the host's
                               bundle class path as described in <a xmlns="" class="xref" href="framework.module.html#i3076126" title="3.14.2 Fragments During Runtime">Fragments During Runtime</a>.
                        </p>
                        <p>A Fragment bundle can not be required by another bundle with the
                               Require-Bundle header.
                        </p>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module.fragmenthost"></a><span xmlns="" class="number">3.14.1</span> Fragment-Host
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>The Fragment-Host manifest header links the fragment to its
                                    potential hosts. It must conform to the following syntax:
                           </p><pre xmlns="" class="programlisting"><code>Fragment-Host       ::= bundle-description
bundle-description  ::= symbolic-name 
                            ( ';' parameter )* // See <a class="xref" href="framework.introduction.html#framework.general.syntax" title="1.3.2 General Syntax Definitions"><span class="number">1.3.2</span></a></code></pre><p>The following directives are architected by the Framework for
                                    Fragment-Host:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">extension</code> - Indicates this extension is a system
                                                 or boot class path extension. It is only applicable when the
                                                 Fragment-Host is the System Bundle. This is discussed in <a xmlns="" class="xref" href="framework.module.html#framework.module.extensionbundles" title="3.15 Extension Bundles">Extension Bundles</a>. The following values
                                                 are supported:
                                    </p>
                                    <div class="itemizedlist">
                                       <ul class="itemizedlist" style="list-style-type: circle; ">
                                          <li class="listitem">
                                             <p><code class="code">framework</code> - The fragment bundle is a
                                                              Framework extension bundle.
                                             </p>
                                          </li>
                                       </ul>
                                    </div>
                                    <p>The fragment must be the bundle symbolic name of the
                                                 implementation specific system bundle or the alias
                                                 <code class="code">system.bundle</code>. The Framework should fail to install an
                                                 extension bundle when the bundle symbolic name is not referring to
                                                 the system bundle.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>The following attributes are architected by the Framework for
                                    Fragment-Host:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">bundle-version</code> - The version range to select the
                                                 host bundle. If a range is used, then the fragment can attach to
                                                 multiple hosts. See <a xmlns="" class="xref" href="framework.module.html#framework.module-semantic.versioning" title="3.7.3 Semantic Versioning">Semantic Versioning</a>. The default value
                                                 is <code class="code">[0.0.0,</code><span class="symbol">∞</span><code class="code">)</code>.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>The Fragment-Host header can assert arbitrary attributes that must
                                    be matched before a host is eligible.
                           </p>
                           <p>When a fragment bundle is attached to a host bundle, it logically
                                    becomes part of it. All classes and resources within the fragment bundle
                                    must be loaded using the class loader (or <code class="code">Bunde</code> object) of
                                    its host bundle. The fragment bundles of a host bundle must be attached
                                    to a host bundle in the order that the fragment bundles are installed,
                                    which is in ascending bundle ID order. If an error occurs during the
                                    attachment of a fragment bundle then the fragment bundle must not be
                                    attached to the host. A fragment bundle must enter the resolved state
                                    only if it has been successfully attached to one or more host
                                    bundles.
                           </p>
                           <p>In order for a host bundle to allow fragments to attach, the host
                                    bundle must have <code class="code">BundlePermission[&lt;bundle symbolic
                                       name&gt;,HOST]</code>. In order to be allowed to attach to a host
                                    bundle, a fragment bundle must have <code class="code">BundlePermission[&lt;bundle
                                       symbolic name&gt;,FRAGMENT]</code>.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i3076126"></a><span xmlns="" class="number">3.14.2</span> Fragments During Runtime
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>All class or resource loading of a fragment is handled through the
                                    host's class loader or <code class="code">Bundle</code> object, a fragment must never
                                    have its own class loader, it therefore fails the class and resource
                                    loading methods of the <code class="code">Bundle</code> object. Fragment bundles are
                                    treated as if they are an intrinsic part of their hosts.
                           </p>
                           <p>Though a fragment bundle does not have its own class loader, it
                                    still must have a separate Protection Domain when it is not an extension
                                    fragment. Each fragment can have its own permissions linked to the
                                    fragment bundle's location and signer.
                           </p>
                           <p>A host bundle's class path is searched before a fragment's class
                                    path. This implies that packages can be split over the host and any of
                                    its fragments. Searching the fragments must be done in ascending bundle
                                    ID order. This is the order that the fragment bundles were
                                    installed.
                           </p>
                           <div class="figure"><a xmlns="" class="anchor" id="i3076132"></a><p class="title"><strong>Figure <span xmlns="" class="number">3</span>.18 Resource/class searching with fragments</strong></p>
                              <div class="figure-contents">
                                 <div class="mediaobject" align="center"><img src="images/003-fragment-resource-searching.png" align="middle" width="668" height="221" alt="Resource/class searching with fragments" /></div>
                              </div>
                           </div><br class="figure-break" /><p><a xmlns="" class="xref" href="framework.module.html#i3076132" title="Figure 3.18 Resource/class searching with fragments">Figure <span class="number">3</span>.18</a> shows a setup with two fragments.
                                    Bundle <code class="code">B</code> is installed before bundle <code class="code">C</code> and both
                                    bundle <code class="code">B</code> and bundle <code class="code">C</code> attach to bundle
                                    <code class="code">A</code>. The following table shows where different packages
                                    originate in this setup. Note that the order of the append (&gt;) is
                                    significant.
                           </p>
                           <div class="table"><a xmlns="" class="anchor" id="d0e6367"></a><p class="title"><strong>Table <span xmlns="" class="number">3</span>.3 Effect of fragments on searching</strong></p>
                              <div class="table-contents">
                                 <table summary="Effect of fragments on searching" style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; ">
                                    <colgroup>
                                       <col />
                                       <col />
                                       <col />
                                    </colgroup>
                                    <thead>
                                       <tr>
                                          <th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">Package Requested</th>
                                          <th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">From</th>
                                          <th style="border-bottom: 0.5pt solid ; ">Remark</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr>
                                          <td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><code class="code">p</code></td>
                                          <td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><code class="code">A.p &gt; B.p</code></td>
                                          <td style="border-bottom: 0.5pt solid ; ">
                                             <p>Bundle <code class="code">A</code> exports package
                                                              <code class="code">p</code>, therefore, it will search its class path for
                                                              <code class="code">p</code>. This class path consists of the JAR and then its
                                                              Fragment bundles.
                                             </p>
                                          </td>
                                       </tr>
                                       <tr>
                                          <td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><code class="code">q</code></td>
                                          <td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><code class="code">D.q</code></td>
                                          <td style="border-bottom: 0.5pt solid ; ">
                                             <p>The import does not handle split packages and
                                                              package <code class="code">q</code> is imported from bundle <code class="code">D</code>.
                                                              Therefore, <code class="code">C.q</code> is not found.
                                             </p>
                                          </td>
                                       </tr>
                                       <tr>
                                          <td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><code class="code">r</code></td>
                                          <td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><code class="code">A.r &gt; B.r</code></td>
                                          <td style="border-bottom: 0.5pt solid ; ">
                                             <p>Package <code class="code">r</code> is not imported and
                                                              therefore comes from the class path.
                                             </p>
                                          </td>
                                       </tr>
                                       <tr>
                                          <td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><code class="code">s</code></td>
                                          <td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><code class="code">C.s</code></td>
                                          <td style="border-bottom: 0.5pt solid ; ">
                                             <p></p>
                                          </td>
                                       </tr>
                                       <tr>
                                          <td style="border-right: 0.5pt solid ; "><code class="code">t</code></td>
                                          <td style="border-right: 0.5pt solid ; "><code class="code">B.t &gt; C.t</code></td>
                                          <td style="">
                                             <p></p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                           </div><br class="table-break" /><p>In the example above, if package <code class="code">p</code> had been imported
                                    from bundle <code class="code">D</code>, the table would have looked quite different.
                                    Package p would have come from bundle <code class="code">D</code>, and bundle
                                    <code class="code">A</code>'s own contents as well as the contents of bundle
                                    <code class="code">B</code> would have been ignored.
                           </p>
                           <p>If package <code class="code">q</code> had bundle <code class="code">D</code>, then the
                                    class path would have to be searched, and <code class="code">A.q</code> would have
                                    consisted of <code class="code">A.q &gt; C.q</code>.
                           </p>
                           <p>Fragments must remain attached to a host as long as the host
                                    remains resolved. When a host bundle becomes unresolved, then all its
                                    attached Fragment bundles must be detached from the host bundle. When a
                                    fragment bundle becomes unresolved the Framework must:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p>Detach it from the host</p>
                                 </li>
                                 <li class="listitem">
                                    <p>Re-resolve the host bundles</p>
                                 </li>
                                 <li class="listitem">
                                    <p>Reattach the remaining attached fragment bundles.</p>
                                 </li>
                              </ul>
                           </div>
                           <p>A Fragment bundle can become unresolved by calling the <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.wiring.FrameworkWiring.refreshBundles-Collection-FrameworkListener...-" title="10.4.8.4 public void refreshBundles(Collection&lt;Bundle&gt; bundles, FrameworkListener... listeners)">refreshBundles(Collection,FrameworkListener...)</a> method.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e6499"></a><span xmlns="" class="number">3.14.3</span> Illegal Manifest Header for Fragment Bundles
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>The following list contains the headers that must not be used in a
                                    fragment bundle:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">Bundle-Activator</code></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div>
                     <div class="section">
                        <div xmlns="" class="titlepage">
                           <div>
                              <div>
                                 <h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a xmlns="" class="anchor" id="framework.module.extensionbundles"></a><span xmlns="" class="number">3.15</span> Extension Bundles
                                 </h2>
                              </div>
                           </div>
                        </div>
                        <p>Extension bundles can deliver optional parts of the Framework
                               implementation. The contents of extension bundles cannot be provided by
                               the normal bundles because they need to be loaded by the framework
                               implementation.
                        </p>
                        <p>Framework extensions are necessary to provide implementation aspects
                               of the Framework. For example, a Framework vendor could supply the
                               optional services like Permission Admin service and Start Level API with
                               Framework extension bundles.
                        </p>
                        <p>An extension bundle should use the bundle symbolic name of the
                               implementation system bundle, or it can use the alias of the system
                               bundle, which is <code class="code">system.bundle</code>.
                        </p>
                        <p>The following example uses the Fragment-Host manifest header to
                               specify an extension bundle for any Framework implementation.
                        </p><pre xmlns="" class="programlisting"><code>Fragment-Host: system.bundle</code></pre><p>The following example uses the Fragment-Host manifest header to
                               specify an extension bundle for a specific Framework
                               implementation.
                        </p><pre xmlns="" class="programlisting"><code>Fragment-Host: com.acme.impl.framework</code></pre><p>The following describe the life cycle of an extension bundle:</p>
                        <div class="orderedlist">
                           <ol class="orderedlist" type="1">
                              <li class="listitem">
                                 <p>When an extension bundle is installed it enters the
                                            <code class="code">INSTALLED</code> state.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>The extension bundle is allowed to enter the
                                            <code class="code">RESOLVED</code> state at the frameworks discretion. For example,
                                            a framework may choose to immediately resolve the extension after it
                                            has entered the <code class="code">INSTALLED</code> state. If all requirements of
                                            an extension bundle are satisfied then resolving the extension bundle
                                            must not require a framework restart.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>If a <code class="code">RESOLVED</code> extension bundle is refreshed then
                                            the framework must shutdown and the framework must be re-launched. In
                                            this case a Framework Event is fired of type <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.FrameworkEvent.STOPPED_SYSTEM_REFRESHED" title="10.1.17.8 public static final int STOPPED_SYSTEM_REFRESHED = 1024">STOPPED_SYSTEM_REFRESHED</a>.
                                 </p>
                              </li>
                              <li class="listitem">
                                 <p>When a <code class="code">RESOLVED</code> extension bundle is updated or
                                            <code class="code">UNINSTALLED</code>, it is not allowed to re-enter the
                                            <code class="code">RESOLVED</code> state. If the extension bundle is refreshed then
                                            the Framework must shutdown and the framework must be re-launched. In
                                            this case a Framework Event is fired of type <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.FrameworkEvent.STOPPED_SYSTEM_REFRESHED" title="10.1.17.8 public static final int STOPPED_SYSTEM_REFRESHED = 1024">STOPPED_SYSTEM_REFRESHED</a>.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <p>It is valid to update an extension bundle to a bundle of another
                               type. If the old extension bundle is resolved then it must be attached as
                               a fragment to the system bundle. When this bundle is updated the old
                               content of the bundle must remain attached to the system bundle until the
                               system bundle is refreshed or the extension bundle is refreshed (using the
                               Wiring API). This must initiate and Framework shutdown and restart. When
                               the framework comes back up the new content of the bundle may be
                               resolved.
                        </p>
                        <p>All Bundle events should be dispatched for extension bundles as for
                               ordinary bundles.
                        </p>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e6573"></a><span xmlns="" class="number">3.15.1</span> Illegal Manifest Headers for Extension Bundles
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>An extension bundle must throw a Bundle Exception if it is
                                    installed or updated and it specifies any of the following
                                    headers.
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">Require-Bundle</code></p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">Bundle-NativeCode</code></p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">DynamicImport-Package</code></p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">Bundle-Activator</code></p>
                                 </li>
                              </ul>
                           </div>
                           <p>Extension bundles are permitted to specify an Export-Package
                                    header. Any exported packages specified by an extension bundle must be
                                    hosted (exported) by the System Bundle when the extension bundle is
                                    resolved.
                           </p>
                           <p>Extension bundles are permitted to specify Import-Package and
                                    Require-Capability headers to declare dependencies on packages and
                                    capabilities.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e6599"></a><span xmlns="" class="number">3.15.2</span> Resolving Extensions
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Extension bundles may specify requirements on packages
                                    (Import-Package) and capabilities (Require-Capability). An extension
                                    bundle is allowed to become resolved when all of its mandatory
                                    requirements are wired to valid packages or capabilities.
                           </p>
                           <p>Extension bundle requirements may only be wired to packages and
                                    capabilities provided by the system bundle or another extension bundle
                                    that is also attached to the system bundle. All other capabilities are
                                    considered invalid for resolving an extension bundle. This ensures that
                                    the system bundle wiring never hosts a requirement from an extension
                                    bundle which is wired to a capability hosted by another bundle other
                                    than the system bundle.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module.extensionClassPath"></a><span xmlns="" class="number">3.15.3</span> Class Path Treatment
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>A extension bundle's JAR is appended to the class path of the
                                    Framework. Extension bundles that are resolved together must have their
                                    JAR appended in the order in which the extension bundles are installed:
                                    that is, ascending bundle ID order.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="framework.module.extensionActivator"></a><span xmlns="" class="number">3.15.4</span> Extension Bundle Activator
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>A extension may hook into the Framework initialization and
                                    shutdown process by specifying an Extension Bundle Activator. The <a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.BundleActivator" title="10.1.6 public interface BundleActivator">BundleActivator</a>
                                    interface defines methods that the Framework invokes when the Framework
                                    is initialized and shutdown.
                           </p>
                           <p>To inform the OSGi environment of a fully qualified class name
                                    serving as its Extension Bundle Activator, a framework extension
                                    developer must declare an <code class="code">ExtensionBundle-Activator</code>
                                    manifest header in the framework extension bundle's manifest file. The
                                    following is an example of an ExtensionBundle-Activator:
                           </p><pre xmlns="" class="programlisting"><code>ExtensionBundle-Activator: com.acme.Activator</code></pre><p>The class acting as an Extension Bundle Activator must implement
                                    the <code class="code">BundleActivator</code> interface, be declared public, and have
                                    a public default constructor so an instance of it may be created with
                                    <code class="code">Class.newInstance</code>.
                           </p>
                           <p>Supplying an Extension Bundle Activator is optional and only valid
                                    for Extension Bundles. For normal Bundles and Fragments, the
                                    <code class="code">ExtensionBundle-Activator</code> must be ignored.
                           </p>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e6638"></a><span xmlns="" class="number">3.15.4.1</span> Framework Initialization and Shutdown
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>An Extension Bundle Activator allows a framework extension to
                                         hook into the Framework initialization and shutdown process. <a xmlns="" class="xref" href="framework.lifecycle.html#framework.lifecycle.initializing" title="4.2.4 Initializing the Framework">Initializing the Framework</a> describes how the
                                         <code class="code">start</code> method for Extension Bundle Activators is called
                                         during Framework initialization. <a xmlns="" class="xref" href="framework.lifecycle.html#framework.lifecycle.stopping" title="4.2.6 Stopping a Framework">Stopping a Framework</a> describes how the
                                         <code class="code">stop</code> method for Extension Bundle Activators is called
                                         during Framework shutdown.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e6653"></a><span xmlns="" class="number">3.15.4.2</span> Installing
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>When an extension bundle is installed, the Framework must allow
                                         the extension to become resolved dynamically, without a Framework
                                         restart. When an extension bundle is resolved dynamically after
                                         Framework initialization, then the Extension Bundle Activator start
                                         method must be called as soon as the extension bundle is resolved.
                                         This must happen before the Bundle Event of type <code class="code">RESOLVED</code>
                                         is fired for the extension bundle.
                              </p>
                           </div>
                           <div class="section">
                              <div xmlns="" class="titlepage">
                                 <div>
                                    <div>
                                       <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e6661"></a><span xmlns="" class="number">3.15.4.3</span> Update and Uninstall
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <p>Unlike normal bundles, updating or uninstalling an extension
                                         bundle does not take effect until the Framework is shutdown and
                                         restarted. The original content of the extension bundle must remain
                                         attached to the system bundle and the Extension Bundle Activator must
                                         not have its stop method called until the Framework is
                                         shutdown.
                              </p>
                           </div>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e6666"></a><span xmlns="" class="number">3.15.5</span> Support Properties
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Frameworks must implement fragments, require bundle, and
                                    extensions. They must therefore set the following properties to
                                    <code class="code">true</code>.
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">org.osgi.supports.framework.requirebundle</code></p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">org.osgi.supports.framework.fragments</code></p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">org.osgi.supports.framework.extension</code></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div>
                     <div class="section">
                        <div xmlns="" class="titlepage">
                           <div>
                              <div>
                                 <h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a xmlns="" class="anchor" id="d0e6687"></a><span xmlns="" class="number">3.16</span> Security
                                 </h2>
                              </div>
                           </div>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e6690"></a><span xmlns="" class="number">3.16.1</span> Extension Bundles
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>In an environment that has Java security enabled the Framework
                                    must perform an additional security check before allowing an extension
                                    bundle to be installed. In order for an extension bundle to successfully
                                    install, the Framework must check that the extension bundle has All
                                    Permission assigned to it. This means that the permissions of an
                                    extension bundle must be setup before the extension bundle is
                                    installed.
                           </p>
                           <p>All Permission must be granted to extension bundles because they
                                    will be loaded under the Protection Domain of either the boot class path
                                    or the Framework implementation. Both of these Protection Domains have
                                    All Permission granted to them. Attempting to install an extension
                                    bundle that has not already been granted All Permission must result in a
                                    Bundle Exception.
                           </p>
                           <p>The installer of an extension bundle must have
                                    <code class="code">AdminPermission[&lt;extension
                                       bundle&gt;,EXTENSIONLIFECYCLE]</code> to install an extension
                                    bundle.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i3174729"></a><span xmlns="" class="number">3.16.2</span> Bundle Permission
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Most package sharing permissions are based on Package Permission.
                                    However, fragments and required bundles use the bundle symbolic name to
                                    handle sharing. The Bundle Permission is used to control this type of
                                    package sharing.
                           </p>
                           <p>The name parameter of the Bundle Permission is a bundle symbolic
                                    name. The symbolic name is used as the identifier for the
                                    <span class="emphasis"><em>target bundle</em></span>. A wild card (<code class="code">".*"
                                       \u002E,\u002A</code>) is permitted at the end of the name.
                           </p>
                           <p>For example, for fragment bundle A to attach to its host bundle
                                    <code class="code">B</code> then fragment bundle A requires
                                    <code class="code">BundlePermission("B", "fragment")</code> so that A is permitted to
                                    target host bundle <code class="code">B</code>. The direction of the actions is
                                    depicted in <a xmlns="" class="xref" href="framework.module.html#i2970717" title="Figure 3.19 Permissions and bundle sharing">Figure <span class="number">3</span>.19</a>.
                           </p>
                           <div class="figure"><a xmlns="" class="anchor" id="i2970717"></a><p class="title"><strong>Figure <span xmlns="" class="number">3</span>.19 Permissions and bundle sharing</strong></p>
                              <div class="figure-contents">
                                 <div class="mediaobject" align="center"><img src="images/003-permissions-bundle-sharing.png" align="middle" width="433" height="74" alt="Permissions and bundle sharing" /></div>
                              </div>
                           </div><br class="figure-break" /><p>The following actions are architected:</p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">provide</code> - Permission to provide packages to the
                                                 target bundle.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">require</code> - Permission to require packages from the
                                                 target bundle.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">host</code> - Permission to attach to the target
                                                 fragment bundle.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><code class="code">fragment</code> - Permission to attach as a fragment to
                                                 the target host bundle.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>When a fragment contains a Require-Bundle header, the Framework
                                    must check the permission against the domain of the fragment.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i3119557"></a><span xmlns="" class="number">3.16.3</span> Package Permission
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Bundles can only import and export packages for which they have
                                    the required permission. A <code class="code">PackagePermission</code> must be valid
                                    across all versions of a package.
                           </p>
                           <p>A <code class="code">PackagePermission</code> has two parameters:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p>The name, either the name of the target package (with a
                                                 possible wildcard character at the end) or a filter expression that
                                                 can verify the exporting bundle. A filter expression can test for
                                                 the package name with the <code class="code">package.name</code> key. A filter
                                                 can only be used for an <code class="code">IMPORT</code> action. Filters are
                                                 described in <a xmlns="" class="xref" href="framework.security.html#framework.security.filterbasedpermissions" title="2.4.2 Filter Based Permissions">Filter Based Permissions</a>.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p>The action, either <code class="code">IMPORT</code> or
                                                 <code class="code">EXPORTONLY</code>.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>For example, the following Package Permission permits to import
                                    any package from a bundle downloaded from ACME:
                           </p><pre xmlns="" class="programlisting"><code>PackagePermission("(location=http://www.acme.com/*",IMPORT)</code></pre><p>When a fragment adds imports and exports to the host, the
                                    framework must check the protection domain of the fragment and not of
                                    the related host.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="i3188274"></a><span xmlns="" class="number">3.16.4</span> Resource Permissions
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>A Framework must always give a bundle the <code class="code">RESOURCE,
                                       METADATA, and CLASS AdminPermission</code> actions to access the
                                    resources contained within:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p>Itself</p>
                                 </li>
                                 <li class="listitem">
                                    <p>Any attached fragments</p>
                                 </li>
                                 <li class="listitem">
                                    <p>Any resources from imported packages</p>
                                 </li>
                              </ul>
                           </div>
                           <p>A resource in a bundle may also be accessed by using certain
                                    methods on <code class="code">Bundle</code>. The caller of these methods must have
                                    <code class="code">AdminPermission[bundle, RESOURCE]</code>.
                           </p>
                           <p>If the caller does not have the necessary permission, a resource
                                    is not accessible and <code class="code">null</code> must be returned. Otherwise, a
                                    <code class="code">URL</code> object to the resource must be returned. These URLs are
                                    called <span class="emphasis"><em>bundle resource URLs</em></span>. Once the
                                    <code class="code">URL</code> object is returned, no further permission checks are
                                    performed when the contents of the resource are accessed. The
                                    <code class="code">URL</code> object must use a scheme defined by the Framework
                                    implementation.
                           </p>
                           <p>Bundle resource URLs are normally created by the Framework,
                                    however, in certain cases bundles need to manipulate the URL to find
                                    related resources. For example, a URL can be constructed to a resource
                                    that is in the same directory as a given resource.
                           </p>
                           <p>URLs that are not constructed by the Framework must follow
                                    slightly different security rules due to the design of the
                                    <code class="code">java.net.URL</code> class. Not all constructors of the URL class
                                    interact with the URL Stream Handler classes (the implementation
                                    specific part). Other constructors call at least the
                                    <code class="code">parseURL</code> method in the URL Stream Handler where the
                                    security check can take place. This design makes it impossible for the
                                    Framework check the permissions during construction of a bundle resource
                                    URL.
                           </p>
                           <p>The following constructors use the <code class="code">parseURL</code> method
                                    and are therefore checked when a bundle resource URL is
                                    constructed.
                           </p><pre xmlns="" class="programlisting"><code>URL(String spec)
URL(URL context, String spec)
URL(URL context, String spec, URLStreamHandler handler)</code></pre><p>When one of these constructors is called for a bundle resource
                                    URL, the implementation of the Framework must check the caller for the
                                    necessary permissions in the <code class="code">parseURL</code> method. If the caller
                                    does not have the necessary permissions then the <code class="code">parseURL</code>
                                    method must throw a Security Exception. This will cause a Malformed URL
                                    Exception to be thrown by the URL constructor. If the caller has the
                                    necessary permissions, then the URL object is setup to access the bundle
                                    resource without further checks.
                           </p>
                           <p>The following java.net.URL constructors do not call the
                                    <code class="code">parseURL</code> method in the URL Stream Handler, making it
                                    impossible for the Framework to verify the permission during
                                    construction.
                           </p><pre xmlns="" class="programlisting"><code>URL(String protocol, String host, int port,String file)
URL(String protocol, String host, int port, String file, URLStreamHandlerhandler)
URL(String protocol, String host, String file)</code></pre><p>Bundle resource URLs that are created with these constructors
                                    cannot perform the permission check during creation and must therefore
                                    delay the permission check. When the content of the URL is accessed, the
                                    Framework must throw a Security Exception if the caller does not have
                                    <code class="code">AdminPermission[bundle, RESOURCE]</code> for the bundle referenced
                                    by the URL.
                           </p>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e6879"></a><span xmlns="" class="number">3.16.5</span> Capability Permission
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>The Capability Permission provides a means to limit access to
                                    certain Capabilities when security is on. A Capability Permission is a
                                    Filter based Permission, as described in <a xmlns="" class="xref" href="framework.security.html#framework.security.filterbasedpermissions" title="2.4.2 Filter Based Permissions">Filter Based Permissions</a>, giving access to
                                    the following additional property:
                           </p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><code class="code">capability.namespace</code> - The namespace of the
                                                 requirement or provided capability.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>The filter can also assert information from the
                                    <span class="emphasis"><em>target</em></span> bundle. The target bundle is always the
                                    bundle that provides the capability. This means that a requirer can be
                                    restricted to receive a capability from a specific bundle.
                           </p>
                           <p>Capabilities in a namespace for which the resolving bundle has no
                                    permission are not available to other bundles. Requirements in a
                                    namespace for which a bundle has no permission can never be
                                    satisfied.
                           </p>
                           <p>The Capability Permission has the following actions:</p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.CapabilityPermission.REQUIRE" title="10.1.13.2 public static final String REQUIRE = &#34;require&#34;">REQUIRE</a> - Imply permission to require the given
                                                 namespace. The target bundle that can be asserted in the filter is
                                                 the bundle providing the capability.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.CapabilityPermission.PROVIDE" title="10.1.13.1 public static final String PROVIDE = &#34;provide&#34;">PROVIDE</a> - Imply permission to provide a capability
                                                 in the given namespace, the target bundle is the bundle that is
                                                 checked for the permission.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>The Capability Permission has the following constructors:</p>
                           <div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p><a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.CapabilityPermission.CapabilityPermission-String-String-" title="10.1.13.3 public CapabilityPermission(String name, String actions)">CapabilityPermission(String,String)</a> - Constructor to set the filter and actions.
                                                 This constructor is also used to verify the <code class="code">provide</code>
                                                 action.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><a xmlns="" class="xref" href="framework.api.html#org.osgi.framework.CapabilityPermission.CapabilityPermission-String-Map-Bundle-String-" title="10.1.13.4 public CapabilityPermission(String namespace, Map&lt;String, ?&gt; attributes, Bundle providingBundle, String actions)">CapabilityPermission(String,Map,Bundle,String)</a> - Special constructor to verify the
                                                 permission against the namespace. The bundle is the bundle providing
                                                 the capability.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <div class="section">
                           <div xmlns="" class="titlepage">
                              <div>
                                 <div>
                                    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a xmlns="" class="anchor" id="d0e6924"></a><span xmlns="" class="number">3.16.6</span> Permission Checks
                                    </h3>
                                 </div>
                              </div>
                           </div>
                           <p>Since multiple bundles can export permission classes with the same
                                    class name, the Framework must make sure that permission checks are
                                    performed using the correct class. For example, a bundle that calls the
                                    checkPermission method provides an instance of the Permission
                                    class:
                           </p><pre xmlns="" class="programlisting"><code>void foo(String name) {
   checkPermission(new FooPermission(name,"foo"));
}</code></pre><p>This class of this Permission instance comes from a particular
                                    source. Permissions can only be tested against instances that come from
                                    the same source.
                           </p>
                           <p>Therefore, the Framework needs to look up permissions based on
                                    <span class="emphasis"><em>class</em></span> rather than <span class="emphasis"><em>class name</em></span>.
                                    When it needs to instantiate a permission it must use the class of the
                                    permission being checked to do the instantiation. This is a complication
                                    for Framework implementers; bundle programmers are not affected.
                           </p>
                           <p>Consider the following example:</p><pre xmlns="" class="programlisting"><code>  Bundle A 
        Import-Package: p
       Export-Package: q
  Bundle B 
        Import-Package: p</code></pre><div class="itemizedlist">
                              <ul class="itemizedlist" style="list-style-type: disc; ">
                                 <li class="listitem">
                                    <p>Bundle <code class="code">A</code> uses a <code class="code">p.FooService</code>. Usage
                                                 of this class checks <code class="code">q.FooPermission</code> whenever one of
                                                 its methods is invoked.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p>Bundle <code class="code">B</code> has a <code class="code">FooPermission</code> in its
                                                 Protection Domain in a (Conditional) Permission Info object.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p>Bundle <code class="code">B</code> invokes a method in the
                                                 <code class="code">FooService</code> that was given by bundle
                                                 <code class="code">A</code>.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p>The <code class="code">FooService</code> calls the
                                                 <code class="code">checkPermission</code> method with a new
                                                 <code class="code">FooPermission</code> instance.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p>The Framework must use a <code class="code">FooPermission</code> object
                                                 that is from the same class loader as the given
                                                 <code class="code">FooPermission</code> object before it can call the
                                                 <code class="code">implies</code> method. In this case, the
                                                 <code class="code">FooPermission</code> class comes from package
                                                 <code class="code">A.q</code>.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>After the permission check, bundle <code class="code">B</code> will have a
                                    <code class="code">FooPermission</code> instantiated using a class from a package it
                                    does not import. It is therefore possible that the Framework has to
                                    instantiate multiple variations of the <code class="code">FooPermission</code> class
                                    to satisfy the needs of different bundles.
                           </p>
                        </div>
                     </div>
                     <div class="section">
                        <div xmlns="" class="titlepage">
                           <div>
                              <div>
                                 <h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a xmlns="" class="anchor" id="d0e7020"></a><span xmlns="" class="number">3.17</span> References
                                 </h2>
                              </div>
                           </div>
                        </div>
                        <div class="bibliolist">
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="i3311293"></a><p class="bibliomixed">[1]<span xmlns="http://www.w3.org/1999/xhtml" class="title">Java Virtual Machine
                                          Specification</span><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://docs.oracle.com/javase/specs/" target="_top">https://docs.oracle.com/javase/specs/</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="i3024180"></a><p class="bibliomixed">[2]<span xmlns="http://www.w3.org/1999/xhtml" class="title">The Standard for the Format of
                                          ARPA Internet Text Messages</span>STD 11, RFC 822, UDEL, August
                                       1982<br /><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://www.ietf.org/rfc/rfc822.txt" target="_top">https://www.ietf.org/rfc/rfc822.txt</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="i3024184"></a><p class="bibliomixed">[3]<span xmlns="http://www.w3.org/1999/xhtml" class="title">The Hypertext Transfer Protocol -
                                          HTTP/1.1</span>RFC 2068 DEC, MIT/LCS, UC Irvine, January
                                       1997<br /><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://www.ietf.org/rfc/rfc2068.txt" target="_top">https://www.ietf.org/rfc/rfc2068.txt</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="i3024191"></a><p class="bibliomixed">[4]<span xmlns="http://www.w3.org/1999/xhtml" class="title">Java Language Specification: Java
                                          SE 8 Edition</span><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://docs.oracle.com/javase/specs/jls/se8/html/index.html" target="_top">https://docs.oracle.com/javase/specs/jls/se8/html/index.html</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="i3024195"></a><p class="bibliomixed">[5]<span xmlns="http://www.w3.org/1999/xhtml" class="title">A String Representation of LDAP
                                          Search Filters</span>RFC 1960, UMich, 1996<br /><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://www.ietf.org/rfc/rfc1960.txt" target="_top">https://www.ietf.org/rfc/rfc1960.txt</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="i3024199"></a><p class="bibliomixed">[6]<span xmlns="http://www.w3.org/1999/xhtml" class="title">Java Security
                                          Architecture</span><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://docs.oracle.com/javase/8/docs/technotes/guides/security/spec/security-spec.doc.html" target="_top">https://docs.oracle.com/javase/8/docs/technotes/guides/security/spec/security-spec.doc.html</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="i3024203"></a><p class="bibliomixed">[7]<span xmlns="http://www.w3.org/1999/xhtml" class="title">Java Package Versioning
                                          Specification</span><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://docs.oracle.com/javase/8/docs/technotes/guides/versioning/index.html" target="_top">https://docs.oracle.com/javase/8/docs/technotes/guides/versioning/index.html</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="i3024206"></a><p class="bibliomixed">[8]<span xmlns="http://www.w3.org/1999/xhtml" class="title">Codes for the Representation of
                                          Names of Languages</span>ISO 639, International Standards
                                       Organization<br /><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://www.loc.gov/standards/iso639-2/langhome.html" target="_top">https://www.loc.gov/standards/iso639-2/langhome.html</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="i3100827"></a><p class="bibliomixed">[9]<span xmlns="http://www.w3.org/1999/xhtml" class="title">Zip File Format</span>The Zip
                                       file format as defined by the java.util.zip package.
                              </p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="i3024211"></a><p class="bibliomixed">[10]<span xmlns="http://www.w3.org/1999/xhtml" class="title">Manifest Format</span><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://docs.oracle.com/javase/8/docs/technotes/guides/jar/jar.html#JAR_Manifest" target="_top">https://docs.oracle.com/javase/8/docs/technotes/guides/jar/jar.html#JAR_Manifest</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="i3024215"></a><p class="bibliomixed">[11]<span xmlns="http://www.w3.org/1999/xhtml" class="title">W3C EBNF</span><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://www.w3c.org/TR/REC-xml#sec-notation" target="_top">https://www.w3c.org/TR/REC-xml#sec-notation</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="i3024221"></a><p class="bibliomixed">[12]<span xmlns="http://www.w3.org/1999/xhtml" class="title">Interval
                                          (Mathematics)</span><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://en.wikipedia.org/wiki/Interval_(mathematics)" target="_top">https://en.wikipedia.org/wiki/Interval_(mathematics)</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="i3086040"></a><p class="bibliomixed">[13]<span xmlns="http://www.w3.org/1999/xhtml" class="title">RFC 2396 Uniform Resource
                                          Identifiers URI: Generic Syntax</span><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://www.ietf.org/rfc/rfc2396.txt" target="_top">https://www.ietf.org/rfc/rfc2396.txt</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="i3211606"></a><p class="bibliomixed">[14]<span xmlns="http://www.w3.org/1999/xhtml" class="title">OSGi IANA Mime
                                          Type</span><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://www.iana.org/assignments/media-types/application/vnd.osgi.bundle" target="_top">https://www.iana.org/assignments/media-types/application/vnd.osgi.bundle</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="i3215677"></a><p class="bibliomixed">[15]<span xmlns="http://www.w3.org/1999/xhtml" class="title">OSGi Header
                                          Registry</span><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://docs.osgi.org/reference/bundle-headers.html" target="_top">https://docs.osgi.org/reference/bundle-headers.html</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="framework.module.namespace-registry"></a><p class="bibliomixed">[16]<span xmlns="http://www.w3.org/1999/xhtml" class="title">OSGi
                                          Namespace Registry</span><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://docs.osgi.org/reference/capability-namespaces.html" target="_top">https://docs.osgi.org/reference/capability-namespaces.html</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="i3219167"></a><p class="bibliomixed">[17]<span xmlns="http://www.w3.org/1999/xhtml" class="title">Portable Network Graphics (PNG)
                                          Specification (Second Edition)</span><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://www.w3.org/TR/2003/REC-PNG-20031110/" target="_top">https://www.w3.org/TR/2003/REC-PNG-20031110/</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="i3222193"></a><p class="bibliomixed">[18]<span xmlns="http://www.w3.org/1999/xhtml" class="title">Open Source
                                          Initiative</span><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://www.opensource.org/" target="_top">https://www.opensource.org/</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="d0e7140"></a><p class="bibliomixed">[19]<span xmlns="http://www.w3.org/1999/xhtml" class="title">OSGi Semantic Versioning</span><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://docs.osgi.org/whitepaper/semantic-versioning/" target="_top">https://docs.osgi.org/whitepaper/semantic-versioning/</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="i3242547"></a><p class="bibliomixed">[20]<span xmlns="http://www.w3.org/1999/xhtml" class="title">Specification
                                          References</span><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://docs.osgi.org/reference/" target="_top">https://docs.osgi.org/reference/</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="i3246261"></a><p class="bibliomixed">[21]<span xmlns="http://www.w3.org/1999/xhtml" class="title">Google Android</span><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://developer.android.com/" target="_top">https://developer.android.com/</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="i3246276"></a><p class="bibliomixed">[22]<span xmlns="http://www.w3.org/1999/xhtml" class="title">Google App Engine</span><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://cloud.google.com/appengine/docs/standard/java" target="_top">https://cloud.google.com/appengine/docs/standard/java</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="i3246284"></a><p class="bibliomixed">[23]<span xmlns="http://www.w3.org/1999/xhtml" class="title">Google Web
                                          Toolkit</span><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://www.gwtproject.org/" target="_top">https://www.gwtproject.org/</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="framework.module-spdx.license.list"></a><p class="bibliomixed">[24]<span xmlns="http://www.w3.org/1999/xhtml" class="title">Software
                                          Package Data Exchange (SPDX) License List</span><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://spdx.org/licenses/" target="_top">https://spdx.org/licenses/</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="framework.module-maven.pom.developers"></a><p class="bibliomixed">[25]<span xmlns="http://www.w3.org/1999/xhtml" class="title">Maven
                                          POM Reference, Developers</span><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://maven.apache.org/pom.html#Developers" target="_top">https://maven.apache.org/pom.html#Developers</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="framework.module-maven.pom.scm"></a><p class="bibliomixed">[26]<span xmlns="http://www.w3.org/1999/xhtml" class="title">Maven POM
                                          Reference, SCM</span><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://maven.apache.org/pom.html#SCM" target="_top">https://maven.apache.org/pom.html#SCM</a></span></p>
                           </div>
                           <div xmlns="" class="bibliomixed"><a class="anchor" id="framework.module-ref.multireleasejar"></a><p class="bibliomixed">[27]<span xmlns="http://www.w3.org/1999/xhtml" class="title">Multi-release JAR
                                          File</span><span xmlns="http://www.w3.org/1999/xhtml" class="biblioid"><a xmlns="" class="link" href="https://docs.oracle.com/en/java/javase/17/docs/specs/jar/jar.html#multi-release-jar-files" target="_top">https://docs.oracle.com/en/java/javase/17/docs/specs/jar/jar.html#multi-release-jar-files</a></span></p>
                           </div>
                        </div>
                     </div>
                     <div class="section">
                        <div xmlns="" class="titlepage">
                           <div>
                              <div>
                                 <h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a xmlns="" class="anchor" id="d0e7194"></a><span xmlns="" class="number">3.18</span> Changes
                                 </h2>
                              </div>
                           </div>
                        </div>
                        <div class="itemizedlist">
                           <ul class="itemizedlist" style="list-style-type: disc; ">
                              <li class="listitem">
                                 <p>Added new <a xmlns="" class="xref" href="framework.api.html#org.osgi.resource.Namespace.CAPABILITY_DEPRECATED_DIRECTIVE" title="10.3.3.1 public static final String CAPABILITY_DEPRECATED_DIRECTIVE = &#34;deprecated&#34;">CAPABILITY_DEPRECATED_DIRECTIVE</a> directive for <a xmlns="" class="xref" href="framework.api.html#org.osgi.resource.Namespace" title="10.3.3 public abstract class Namespace">Namespace</a>. The
                                            <code class="code">deprecated</code> directive is also added to <a xmlns="" class="xref" href="framework.module.html#framework.module.bsn" title="3.6.2 Bundle-SymbolicName">Bundle-SymbolicName</a> and <a xmlns="" class="xref" href="framework.module.html#framework.module.exportpackage" title="3.6.5 Export-Package">Export-Package</a>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
                  <div class="navfooter">
                     <hr />
                     <table width="100%" summary="Navigation footer">
                        <tr>
                           <td width="40%" align="left"><a accesskey="p" href="framework.security.html">Prev</a> 
                           </td>
                           <td width="20%" align="center"> </td>
                           <td width="40%" align="right"> <a accesskey="n" href="framework.lifecycle.html">Next</a></td>
                        </tr>
                        <tr>
                           <td width="40%" align="left" valign="top"> </td>
                           <td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
                           <td width="40%" align="right" valign="top"> </td>
                        </tr>
                     </table>
                  </div>
               </div>
            </div>
            <div id="sidebar">
               <ul id="tree" class="filetree">
                  <li id="toc_2"><span class="handle">+ </span><span class="file"><a href="LICENSE.html" tabindex="1"><span class="innertitle">LICENSE</span></a></span><ul class="">
                        <li><span class="file"><a href="LICENSE.html#d0e21" tabindex="1"><span class="innertitle">Eclipse Foundation Specification License – v1.0</span></a></span><ul class="">
                              <li><span class="file"><a href="LICENSE.html#d0e43" tabindex="1"><span class="innertitle">Disclaimers</span></a></span></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li id="toc_3"><span class="handle">+ </span><span class="file"><a href="preface.html" tabindex="1"><span class="innertitle">Preface</span></a></span><ul class="">
                        <li><span class="file"><a href="preface.html#d0e56" tabindex="1"><span class="innertitle">Implementation Requirements</span></a></span></li>
                        <li><span class="file"><a href="preface.html#d0e61" tabindex="1"><span class="innertitle">Feedback</span></a></span></li>
                     </ul>
                  </li>
                  <li id="toc_4"><span class="handle">+ </span><span class="file"><a href="framework.introduction.html" tabindex="1"><span class="number">1 </span><span class="innertitle">Introduction</span></a></span><ul class="">
                        <li><span class="file"><a href="framework.introduction.html#d0e87" tabindex="1"><span class="number">1.1 </span><span class="innertitle">OSGi Framework Overview</span></a></span></li>
                        <li><span class="file"><a href="framework.introduction.html#i476430" tabindex="1"><span class="number">1.2 </span><span class="innertitle">Reader Level</span></a></span></li>
                        <li><span class="file"><a href="framework.introduction.html#d0e190" tabindex="1"><span class="number">1.3 </span><span class="innertitle">Conventions and Terms</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.introduction.html#d0e193" tabindex="1"><span class="number">1.3.1 </span><span class="innertitle">Typography</span></a></span></li>
                              <li><span class="file"><a href="framework.introduction.html#framework.general.syntax" tabindex="1"><span class="number">1.3.2 </span><span class="innertitle">General Syntax Definitions</span></a></span></li>
                              <li><span class="file"><a href="framework.introduction.html#d0e238" tabindex="1"><span class="number">1.3.3 </span><span class="innertitle">Object Oriented Terminology</span></a></span></li>
                              <li><span class="file"><a href="framework.introduction.html#d0e344" tabindex="1"><span class="number">1.3.4 </span><span class="innertitle">Diagrams</span></a></span></li>
                              <li><span class="file"><a href="framework.introduction.html#d0e484" tabindex="1"><span class="number">1.3.5 </span><span class="innertitle">Key Words</span></a></span></li>
                              <li><span class="file"><a href="framework.introduction.html#framework.numbered.lists" tabindex="1"><span class="number">1.3.6 </span><span class="innertitle">Numbered Lists</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.introduction.html#d0e525" tabindex="1"><span class="number">1.4 </span><span class="innertitle">Version Information</span></a></span></li>
                        <li><span class="file"><a href="framework.introduction.html#d0e795" tabindex="1"><span class="number">1.5 </span><span class="innertitle">References</span></a></span></li>
                     </ul>
                  </li>
                  <li id="toc_5"><span class="handle">+ </span><span class="file"><a href="framework.security.html" tabindex="1"><span class="number">2 </span><span class="innertitle">Security Layer</span></a></span><ul class="">
                        <li><span class="file"><a href="framework.security.html#d0e812" tabindex="1"><span class="number">2.1 </span><span class="innertitle">Introduction</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.security.html#d0e817" tabindex="1"><span class="number">2.1.1 </span><span class="innertitle">Essentials</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.security.html#framework.security.securityoverview" tabindex="1"><span class="number">2.2 </span><span class="innertitle">Security Overview</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.security.html#d0e845" tabindex="1"><span class="number">2.2.1 </span><span class="innertitle">Code Authentication</span></a></span></li>
                              <li><span class="file"><a href="framework.security.html#i1526852" tabindex="1"><span class="number">2.2.2 </span><span class="innertitle">Optional Security</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.security.html#framework.security.digitallysignedjar" tabindex="1"><span class="number">2.3 </span><span class="innertitle">Digitally Signed JAR Files</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.security.html#i1517861" tabindex="1"><span class="number">2.3.1 </span><span class="innertitle">JAR Structure and Manifest</span></a></span></li>
                              <li><span class="file"><a href="framework.security.html#d0e1092" tabindex="1"><span class="number">2.3.2 </span><span class="innertitle">Java JAR File Restrictions</span></a></span></li>
                              <li><span class="file"><a href="framework.security.html#d0e1104" tabindex="1"><span class="number">2.3.3 </span><span class="innertitle">Valid Signature</span></a></span></li>
                              <li><span class="file"><a href="framework.security.html#d0e1129" tabindex="1"><span class="number">2.3.4 </span><span class="innertitle">Signing Algorithms</span></a></span></li>
                              <li><span class="file"><a href="framework.security.html#i1485854" tabindex="1"><span class="number">2.3.5 </span><span class="innertitle">Certificates</span></a></span></li>
                              <li><span class="file"><a href="framework.security.html#i1501834" tabindex="1"><span class="number">2.3.6 </span><span class="innertitle">Distinguished Names</span></a></span></li>
                              <li><span class="file"><a href="framework.security.html#framework.security.certificate.matching" tabindex="1"><span class="number">2.3.7 </span><span class="innertitle">Certificate Matching</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.security.html#d0e1471" tabindex="1"><span class="number">2.4 </span><span class="innertitle">Permissions</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.security.html#framework.security.impliedpermissions" tabindex="1"><span class="number">2.4.1 </span><span class="innertitle">Implied Permissions</span></a></span></li>
                              <li><span class="file"><a href="framework.security.html#framework.security.filterbasedpermissions" tabindex="1"><span class="number">2.4.2 </span><span class="innertitle">Filter Based Permissions</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.security.html#d0e1645" tabindex="1"><span class="number">2.5 </span><span class="innertitle">References</span></a></span></li>
                     </ul>
                  </li>
                  <li class="current" id="toc_6"><span class="handle">- </span><span class="file"><a href="framework.module.html" tabindex="1"><span class="number">3 </span><span class="innertitle">Module Layer</span></a></span><ul class="active">
                        <li><span class="file"><a href="framework.module.html#d0e1729" tabindex="1"><span class="number">3.1 </span><span class="innertitle">Introduction</span></a></span></li>
                        <li><span class="file"><a href="framework.module.html#d0e1734" tabindex="1"><span class="number">3.2 </span><span class="innertitle">Bundles</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.module.html#i2654895" tabindex="1"><span class="number">3.2.1 </span><span class="innertitle">Bundle Manifest Headers</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.module.html#i3224842" tabindex="1"><span class="number">3.2.2 </span><span class="innertitle">Custom Headers</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#d0e2162" tabindex="1"><span class="number">3.2.3 </span><span class="innertitle">Header Value Syntax</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#framework.common.header.syntax" tabindex="1"><span class="number">3.2.4 </span><span class="innertitle">Common Header Syntax</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#i2655136" tabindex="1"><span class="number">3.2.5 </span><span class="innertitle">Version</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#i3189032" tabindex="1"><span class="number">3.2.6 </span><span class="innertitle">Version Ranges</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#framework.module.filtersyntax" tabindex="1"><span class="number">3.2.7 </span><span class="innertitle">Filter Syntax</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#framework.module-multireleasejar" tabindex="1"><span class="number">3.2.8 </span><span class="innertitle">Multi-release JAR</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.module.html#framework.module.dependencies" tabindex="1"><span class="number">3.3 </span><span class="innertitle">Dependencies</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.module.html#d0e2777" tabindex="1"><span class="number">3.3.1 </span><span class="innertitle">Bundles</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#d0e2811" tabindex="1"><span class="number">3.3.2 </span><span class="innertitle">Example Use Case</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#d0e2844" tabindex="1"><span class="number">3.3.3 </span><span class="innertitle">Bundle Capabilities</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#i3306043" tabindex="1"><span class="number">3.3.4 </span><span class="innertitle">Bundle Capability Attributes</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#d0e2973" tabindex="1"><span class="number">3.3.5 </span><span class="innertitle">System Bundle Capabilities</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#d0e2994" tabindex="1"><span class="number">3.3.6 </span><span class="innertitle">Bundle Requirements</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.module.html#framework.module-execution.environment" tabindex="1"><span class="number">3.4 </span><span class="innertitle">Execution Environment</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.module.html#framework.module.bree" tabindex="1"><span class="number">3.4.1 </span><span class="innertitle">Bundle-RequiredExecutionEnvironment</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.module.html#i3174728" tabindex="1"><span class="number">3.5 </span><span class="innertitle">Class Loading Architecture</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.module.html#framework.module-resolving" tabindex="1"><span class="number">3.5.1 </span><span class="innertitle">Resolving</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.module.html#d0e3407" tabindex="1"><span class="number">3.6 </span><span class="innertitle">Resolving Metadata</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.module.html#i3065034" tabindex="1"><span class="number">3.6.1 </span><span class="innertitle">Bundle-ManifestVersion</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#framework.module.bsn" tabindex="1"><span class="number">3.6.2 </span><span class="innertitle">Bundle-SymbolicName</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#d0e3510" tabindex="1"><span class="number">3.6.3 </span><span class="innertitle">Bundle-Version</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#framework.module.importpackage" tabindex="1"><span class="number">3.6.4 </span><span class="innertitle">Import-Package</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#framework.module.exportpackage" tabindex="1"><span class="number">3.6.5 </span><span class="innertitle">Export-Package</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#i3238802" tabindex="1"><span class="number">3.6.6 </span><span class="innertitle">Importing Exported Packages</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#d0e3853" tabindex="1"><span class="number">3.6.7 </span><span class="innertitle">Interpretation of Legacy Bundles</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.module.html#framework.module.constraint.solving" tabindex="1"><span class="number">3.7 </span><span class="innertitle">Constraint Solving</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.module.html#d0e3904" tabindex="1"><span class="number">3.7.1 </span><span class="innertitle">Diagrams and Syntax</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#d0e3976" tabindex="1"><span class="number">3.7.2 </span><span class="innertitle">Version Constraints</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#framework.module-semantic.versioning" tabindex="1"><span class="number">3.7.3 </span><span class="innertitle">Semantic Versioning</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#framework.module-semantic.versioning.type.roles" tabindex="1"><span class="number">3.7.4 </span><span class="innertitle">Type Roles for Semantic Versioning</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#i2548181" tabindex="1"><span class="number">3.7.5 </span><span class="innertitle">Optional Packages</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#i3127019" tabindex="1"><span class="number">3.7.6 </span><span class="innertitle">Package Constraints</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#i2480178" tabindex="1"><span class="number">3.7.7 </span><span class="innertitle">Attribute Matching</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#i2515263" tabindex="1"><span class="number">3.7.8 </span><span class="innertitle">Mandatory Attributes</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#i3106983" tabindex="1"><span class="number">3.7.9 </span><span class="innertitle">Class Filtering</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#i3259465" tabindex="1"><span class="number">3.7.10 </span><span class="innertitle">Provider Selection</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.module.html#framework.module.resolvingprocess" tabindex="1"><span class="number">3.8 </span><span class="innertitle">Resolving Process</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.module.html#framework.module-import.export.same.package" tabindex="1"><span class="number">3.8.1 </span><span class="innertitle">Importing and Exporting the Same Package</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.module.html#i2570775" tabindex="1"><span class="number">3.9 </span><span class="innertitle">Runtime Class Loading</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.module.html#framework.module.bundleclasspath" tabindex="1"><span class="number">3.9.1 </span><span class="innertitle">Bundle Class Path</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.module.html#framework.module.dynamicimportpackage" tabindex="1"><span class="number">3.9.2 </span><span class="innertitle">Dynamic Import Package</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#framework.module.parentdelegation" tabindex="1"><span class="number">3.9.3 </span><span class="innertitle">Parent Delegation</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#framework.module.overallsearchorder" tabindex="1"><span class="number">3.9.4 </span><span class="innertitle">Overall Search Order</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#framework.module.parentclassloader" tabindex="1"><span class="number">3.9.5 </span><span class="innertitle">Parent Class Loader</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#i3178562" tabindex="1"><span class="number">3.9.6 </span><span class="innertitle">Resource Loading</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#i2581530" tabindex="1"><span class="number">3.9.7 </span><span class="innertitle">Bundle Cycles</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#d0e5272" tabindex="1"><span class="number">3.9.8 </span><span class="innertitle">Code Executed Before Started</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#framework.module-finding-a-bundle" tabindex="1"><span class="number">3.9.9 </span><span class="innertitle">Finding a Bundle</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.module.html#framework.module-loading.native.code.libraries" tabindex="1"><span class="number">3.10 </span><span class="innertitle">Loading Native Code Libraries</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.module.html#framework.module.nativecodealgorithm" tabindex="1"><span class="number">3.10.1 </span><span class="innertitle">Native Code Algorithm</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#d0e5721" tabindex="1"><span class="number">3.10.2 </span><span class="innertitle">Considerations Using Native Libraries</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.module.html#framework.module.localization" tabindex="1"><span class="number">3.11 </span><span class="innertitle">Localization</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.module.html#i3212953" tabindex="1"><span class="number">3.11.1 </span><span class="innertitle">Finding Localization Entries</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#i3189742" tabindex="1"><span class="number">3.11.2 </span><span class="innertitle">Manifest Localization</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.module.html#framework.module.bundle.validity" tabindex="1"><span class="number">3.12 </span><span class="innertitle">Bundle Validity</span></a></span></li>
                        <li><span class="file"><a href="framework.module.html#framework.module.requiringbundles" tabindex="1"><span class="number">3.13 </span><span class="innertitle">Requiring Bundles</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.module.html#framework.module.requirebundle" tabindex="1"><span class="number">3.13.1 </span><span class="innertitle">Require-Bundle</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#d0e6091" tabindex="1"><span class="number">3.13.2 </span><span class="innertitle">Split Package Compatibility</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#i3198951" tabindex="1"><span class="number">3.13.3 </span><span class="innertitle">Issues With Requiring Bundles</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.module.html#framework.module.fragmentbundles" tabindex="1"><span class="number">3.14 </span><span class="innertitle">Fragment Bundles</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.module.html#framework.module.fragmenthost" tabindex="1"><span class="number">3.14.1 </span><span class="innertitle">Fragment-Host</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#i3076126" tabindex="1"><span class="number">3.14.2 </span><span class="innertitle">Fragments During Runtime</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#d0e6499" tabindex="1"><span class="number">3.14.3 </span><span class="innertitle">Illegal Manifest Header for Fragment Bundles</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.module.html#framework.module.extensionbundles" tabindex="1"><span class="number">3.15 </span><span class="innertitle">Extension Bundles</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.module.html#d0e6573" tabindex="1"><span class="number">3.15.1 </span><span class="innertitle">Illegal Manifest Headers for Extension Bundles</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#d0e6599" tabindex="1"><span class="number">3.15.2 </span><span class="innertitle">Resolving Extensions</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#framework.module.extensionClassPath" tabindex="1"><span class="number">3.15.3 </span><span class="innertitle">Class Path Treatment</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#framework.module.extensionActivator" tabindex="1"><span class="number">3.15.4 </span><span class="innertitle">Extension Bundle Activator</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.module.html#d0e6666" tabindex="1"><span class="number">3.15.5 </span><span class="innertitle">Support Properties</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.module.html#d0e6687" tabindex="1"><span class="number">3.16 </span><span class="innertitle">Security</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.module.html#d0e6690" tabindex="1"><span class="number">3.16.1 </span><span class="innertitle">Extension Bundles</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#i3174729" tabindex="1"><span class="number">3.16.2 </span><span class="innertitle">Bundle Permission</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#i3119557" tabindex="1"><span class="number">3.16.3 </span><span class="innertitle">Package Permission</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#i3188274" tabindex="1"><span class="number">3.16.4 </span><span class="innertitle">Resource Permissions</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#d0e6879" tabindex="1"><span class="number">3.16.5 </span><span class="innertitle">Capability Permission</span></a></span></li>
                              <li><span class="file"><a href="framework.module.html#d0e6924" tabindex="1"><span class="number">3.16.6 </span><span class="innertitle">Permission Checks</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.module.html#d0e7020" tabindex="1"><span class="number">3.17 </span><span class="innertitle">References</span></a></span></li>
                        <li><span class="file"><a href="framework.module.html#d0e7194" tabindex="1"><span class="number">3.18 </span><span class="innertitle">Changes</span></a></span></li>
                     </ul>
                  </li>
                  <li id="toc_7"><span class="handle">+ </span><span class="file"><a href="framework.lifecycle.html" tabindex="1"><span class="number">4 </span><span class="innertitle">Life Cycle Layer</span></a></span><ul class="">
                        <li><span class="file"><a href="framework.lifecycle.html#d0e7218" tabindex="1"><span class="number">4.1 </span><span class="innertitle">Introduction</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.lifecycle.html#d0e7223" tabindex="1"><span class="number">4.1.1 </span><span class="innertitle">Essentials</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#d0e7252" tabindex="1"><span class="number">4.1.2 </span><span class="innertitle">Entities</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.lifecycle.html#framework.lifecycle-frameworks" tabindex="1"><span class="number">4.2 </span><span class="innertitle">Frameworks</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.lifecycle.html#d0e7333" tabindex="1"><span class="number">4.2.1 </span><span class="innertitle">Launching and Controlling a Framework</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#framework.lifecycle.launchingproperties" tabindex="1"><span class="number">4.2.2 </span><span class="innertitle">Launching Properties</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#d0e8630" tabindex="1"><span class="number">4.2.3 </span><span class="innertitle">Life Cycle of a Framework</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#framework.lifecycle.initializing" tabindex="1"><span class="number">4.2.4 </span><span class="innertitle">Initializing the Framework</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.lifecycle.html#d0e8827" tabindex="1"><span class="number">4.2.5 </span><span class="innertitle">Starting the Framework</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#framework.lifecycle.stopping" tabindex="1"><span class="number">4.2.6 </span><span class="innertitle">Stopping a Framework</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.lifecycle.html#d0e8961" tabindex="1"><span class="number">4.2.7 </span><span class="innertitle">Embedding a Framework</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#i3324345" tabindex="1"><span class="number">4.2.8 </span><span class="innertitle">Framework UUID</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#i3321423" tabindex="1"><span class="number">4.2.9 </span><span class="innertitle">Daemon Threads</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#i3309166" tabindex="1"><span class="number">4.2.10 </span><span class="innertitle">Java Service Provider Configuration Support</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.lifecycle.html#d0e9077" tabindex="1"><span class="number">4.3 </span><span class="innertitle">Bundles</span></a></span></li>
                        <li><span class="file"><a href="framework.lifecycle.html#i2030856" tabindex="1"><span class="number">4.4 </span><span class="innertitle">The Bundle Object</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.lifecycle.html#framework.lifecycle.bundleidentifiers" tabindex="1"><span class="number">4.4.1 </span><span class="innertitle">Bundle Identifiers</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#d0e9175" tabindex="1"><span class="number">4.4.2 </span><span class="innertitle">Bundle State</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#i1314099" tabindex="1"><span class="number">4.4.3 </span><span class="innertitle">Installing Bundles</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#i3270316" tabindex="1"><span class="number">4.4.4 </span><span class="innertitle">Resolving Bundles</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#i3270328" tabindex="1"><span class="number">4.4.5 </span><span class="innertitle">Starting Bundles</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#i3270394" tabindex="1"><span class="number">4.4.6 </span><span class="innertitle">Activation</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.lifecycle.html#d0e9698" tabindex="1"><span class="number">4.4.7 </span><span class="innertitle">Stopping Bundles</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#d0e9745" tabindex="1"><span class="number">4.4.8 </span><span class="innertitle">Deactivation</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#i3284680" tabindex="1"><span class="number">4.4.9 </span><span class="innertitle">Updating Bundles</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#d0e9829" tabindex="1"><span class="number">4.4.10 </span><span class="innertitle">Uninstalling Bundles</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#framework.lifecycle-lastmodified" tabindex="1"><span class="number">4.4.11 </span><span class="innertitle">Detecting Bundle Modifications</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#framework.lifecycle-getheaders" tabindex="1"><span class="number">4.4.12 </span><span class="innertitle">Retrieving Manifest Headers</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#d0e9948" tabindex="1"><span class="number">4.4.13 </span><span class="innertitle">Loading Classes</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#i3258563" tabindex="1"><span class="number">4.4.14 </span><span class="innertitle">Access to Resources</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#i3351251" tabindex="1"><span class="number">4.4.15 </span><span class="innertitle">Permissions of a Bundle</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#i3264631" tabindex="1"><span class="number">4.4.16 </span><span class="innertitle">Access to a Bundle's Bundle Context</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#framework.lifecycle.adaptations" tabindex="1"><span class="number">4.4.17 </span><span class="innertitle">Adaptations</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.lifecycle.html#framework.lifecycle-bundlecontext" tabindex="1"><span class="number">4.5 </span><span class="innertitle">The Bundle Context</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.lifecycle.html#i1237198" tabindex="1"><span class="number">4.5.1 </span><span class="innertitle">Getting Bundle Information</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#i1236436" tabindex="1"><span class="number">4.5.2 </span><span class="innertitle">Persistent Storage</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#i2068690" tabindex="1"><span class="number">4.5.3 </span><span class="innertitle">Environment Properties</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.lifecycle.html#i3070515" tabindex="1"><span class="number">4.6 </span><span class="innertitle">The System Bundle</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.lifecycle.html#i3293513" tabindex="1"><span class="number">4.6.1 </span><span class="innertitle">System Bundle Information</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.lifecycle.html#i3032483" tabindex="1"><span class="number">4.7 </span><span class="innertitle">Events</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.lifecycle.html#i3032481" tabindex="1"><span class="number">4.7.1 </span><span class="innertitle">Listeners</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#i2708484" tabindex="1"><span class="number">4.7.2 </span><span class="innertitle">Delivering Events</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#i2708513" tabindex="1"><span class="number">4.7.3 </span><span class="innertitle">Synchronization Pitfalls</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.lifecycle.html#d0e11104" tabindex="1"><span class="number">4.8 </span><span class="innertitle">Security</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.lifecycle.html#framework.lifecycle.adminpermission" tabindex="1"><span class="number">4.8.1 </span><span class="innertitle">Admin Permission</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.lifecycle.html#framework.lifecycle.privilegedcallbacks" tabindex="1"><span class="number">4.8.2 </span><span class="innertitle">Privileged Callbacks</span></a></span></li>
                              <li><span class="file"><a href="framework.lifecycle.html#d0e11385" tabindex="1"><span class="number">4.8.3 </span><span class="innertitle">Lazy Activation</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.lifecycle.html#d0e11406" tabindex="1"><span class="number">4.9 </span><span class="innertitle">References</span></a></span></li>
                     </ul>
                  </li>
                  <li id="toc_8"><span class="handle">+ </span><span class="file"><a href="framework.service.html" tabindex="1"><span class="number">5 </span><span class="innertitle">Service Layer</span></a></span><ul class="">
                        <li><span class="file"><a href="framework.service.html#d0e11503" tabindex="1"><span class="number">5.1 </span><span class="innertitle">Introduction</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.service.html#d0e11511" tabindex="1"><span class="number">5.1.1 </span><span class="innertitle">Essentials</span></a></span></li>
                              <li><span class="file"><a href="framework.service.html#d0e11545" tabindex="1"><span class="number">5.1.2 </span><span class="innertitle">Entities</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.service.html#d0e11645" tabindex="1"><span class="number">5.2 </span><span class="innertitle">Services</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.service.html#framework.service.servicereferences" tabindex="1"><span class="number">5.2.1 </span><span class="innertitle">Service References</span></a></span></li>
                              <li><span class="file"><a href="framework.service.html#d0e11710" tabindex="1"><span class="number">5.2.2 </span><span class="innertitle">Service Interfaces</span></a></span></li>
                              <li><span class="file"><a href="framework.service.html#framework.service.registeringservices" tabindex="1"><span class="number">5.2.3 </span><span class="innertitle">Registering Services</span></a></span></li>
                              <li><span class="file"><a href="framework.service.html#i2061648" tabindex="1"><span class="number">5.2.4 </span><span class="innertitle">Early Need for ServiceRegistration Object</span></a></span></li>
                              <li><span class="file"><a href="framework.service.html#framework.service.serviceproperties" tabindex="1"><span class="number">5.2.5 </span><span class="innertitle">Service Properties</span></a></span></li>
                              <li><span class="file"><a href="framework.service.html#framework.service.servicerankingorder" tabindex="1"><span class="number">5.2.6 </span><span class="innertitle">Service Ranking Order</span></a></span></li>
                              <li><span class="file"><a href="framework.service.html#i3043166" tabindex="1"><span class="number">5.2.7 </span><span class="innertitle">Persistent Identifier (PID)</span></a></span></li>
                              <li><span class="file"><a href="framework.service.html#framework.service.locating" tabindex="1"><span class="number">5.2.8 </span><span class="innertitle">Locating Services</span></a></span></li>
                              <li><span class="file"><a href="framework.service.html#d0e12291" tabindex="1"><span class="number">5.2.9 </span><span class="innertitle">Getting Service Properties</span></a></span></li>
                              <li><span class="file"><a href="framework.service.html#d0e12317" tabindex="1"><span class="number">5.2.10 </span><span class="innertitle">Information About Services</span></a></span></li>
                              <li><span class="file"><a href="framework.service.html#i3061523" tabindex="1"><span class="number">5.2.11 </span><span class="innertitle">Service Exceptions</span></a></span></li>
                              <li><span class="file"><a href="framework.service.html#d0e12352" tabindex="1"><span class="number">5.2.12 </span><span class="innertitle">Services and Concurrency</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.service.html#framework.service.scope" tabindex="1"><span class="number">5.3 </span><span class="innertitle">Service Scope</span></a></span></li>
                        <li><span class="file"><a href="framework.service.html#framework.service.getting" tabindex="1"><span class="number">5.4 </span><span class="innertitle">Getting Service Objects</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.service.html#framework.service.gettingSingle" tabindex="1"><span class="number">5.4.1 </span><span class="innertitle">Getting a Single Service Object</span></a></span></li>
                              <li><span class="file"><a href="framework.service.html#framework.service.gettingMultiple" tabindex="1"><span class="number">5.4.2 </span><span class="innertitle">Getting Multiple Service Objects</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.service.html#framework.service.releasing" tabindex="1"><span class="number">5.5 </span><span class="innertitle">Releasing Service Objects</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.service.html#framework.service.releasingSingle" tabindex="1"><span class="number">5.5.1 </span><span class="innertitle">Releasing a Single Service Object</span></a></span></li>
                              <li><span class="file"><a href="framework.service.html#framework.service.releasingMultiple" tabindex="1"><span class="number">5.5.2 </span><span class="innertitle">Releasing Multiple Service Objects</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.service.html#i3081215" tabindex="1"><span class="number">5.6 </span><span class="innertitle">Service Events</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.service.html#i3061130" tabindex="1"><span class="number">5.6.1 </span><span class="innertitle">Service Event Types</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.service.html#d0e12793" tabindex="1"><span class="number">5.7 </span><span class="innertitle">Stale References</span></a></span></li>
                        <li><span class="file"><a href="framework.service.html#i2671413" tabindex="1"><span class="number">5.8 </span><span class="innertitle">Filters</span></a></span></li>
                        <li><span class="file"><a href="framework.service.html#framework.service.serviceFactory" tabindex="1"><span class="number">5.9 </span><span class="innertitle">Service Factory</span></a></span></li>
                        <li><span class="file"><a href="framework.service.html#framework.service.prototypeServiceFactory" tabindex="1"><span class="number">5.10 </span><span class="innertitle">Prototype Service Factory</span></a></span></li>
                        <li><span class="file"><a href="framework.service.html#i1180814" tabindex="1"><span class="number">5.11 </span><span class="innertitle">Unregistering Services</span></a></span></li>
                        <li><span class="file"><a href="framework.service.html#framework.service.multipleversionexportconsiderations" tabindex="1"><span class="number">5.12 </span><span class="innertitle">Multiple Version Export Considerations</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.service.html#d0e13148" tabindex="1"><span class="number">5.12.1 </span><span class="innertitle">Service Registry</span></a></span></li>
                              <li><span class="file"><a href="framework.service.html#i3081203" tabindex="1"><span class="number">5.12.2 </span><span class="innertitle">Service Events</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.service.html#d0e13198" tabindex="1"><span class="number">5.13 </span><span class="innertitle">Security</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.service.html#i3043587" tabindex="1"><span class="number">5.13.1 </span><span class="innertitle">Service Permission</span></a></span></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li id="toc_9"><span class="handle">+ </span><span class="file"><a href="framework.resource.html" tabindex="1"><span class="number">6 </span><span class="innertitle">Resource API Specification</span></a></span><ul class="">
                        <li><span class="file"><a href="framework.resource.html#d0e13291" tabindex="1"><span class="number">6.1 </span><span class="innertitle">Introduction</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.resource.html#d0e13298" tabindex="1"><span class="number">6.1.1 </span><span class="innertitle">Entities</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.resource.html#d0e13343" tabindex="1"><span class="number">6.2 </span><span class="innertitle">Resources</span></a></span></li>
                        <li><span class="file"><a href="framework.resource.html#d0e13401" tabindex="1"><span class="number">6.3 </span><span class="innertitle">Namespaces</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.resource.html#d0e13439" tabindex="1"><span class="number">6.3.1 </span><span class="innertitle">Matching</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.resource.html#d0e13462" tabindex="1"><span class="number">6.4 </span><span class="innertitle">Resolution</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.resource.html#d0e13494" tabindex="1"><span class="number">6.4.1 </span><span class="innertitle">Hosted Requirements and Capabilities</span></a></span></li>
                              <li><span class="file"><a href="framework.resource.html#d0e13531" tabindex="1"><span class="number">6.4.2 </span><span class="innertitle">Resolution</span></a></span></li>
                              <li><span class="file"><a href="framework.resource.html#d0e13554" tabindex="1"><span class="number">6.4.3 </span><span class="innertitle">Effectiveness</span></a></span></li>
                              <li><span class="file"><a href="framework.resource.html#d0e13572" tabindex="1"><span class="number">6.4.4 </span><span class="innertitle">Mandatory Attributes</span></a></span></li>
                              <li><span class="file"><a href="framework.resource.html#d0e13585" tabindex="1"><span class="number">6.4.5 </span><span class="innertitle">Cardinality</span></a></span></li>
                              <li><span class="file"><a href="framework.resource.html#d0e13597" tabindex="1"><span class="number">6.4.6 </span><span class="innertitle">Class Space Consistency</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.resource.html#d0e13612" tabindex="1"><span class="number">6.5 </span><span class="innertitle">Wiring</span></a></span></li>
                     </ul>
                  </li>
                  <li id="toc_10"><span class="handle">+ </span><span class="file"><a href="framework.wiring.html" tabindex="1"><span class="number">7 </span><span class="innertitle">Bundle Wiring API Specification</span></a></span><ul class="">
                        <li><span class="file"><a href="framework.wiring.html#d0e13646" tabindex="1"><span class="number">7.1 </span><span class="innertitle">Introduction</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.wiring.html#d0e13664" tabindex="1"><span class="number">7.1.1 </span><span class="innertitle">Entities</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.wiring.html#framework.wiring.usingthewiringapi" tabindex="1"><span class="number">7.2 </span><span class="innertitle">Using the Wiring API</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.wiring.html#d0e13727" tabindex="1"><span class="number">7.2.1 </span><span class="innertitle">Synopsis</span></a></span></li>
                              <li><span class="file"><a href="framework.wiring.html#d0e13897" tabindex="1"><span class="number">7.2.2 </span><span class="innertitle">Finding the Imported Packages</span></a></span></li>
                              <li><span class="file"><a href="framework.wiring.html#d0e13928" tabindex="1"><span class="number">7.2.3 </span><span class="innertitle">Attached Fragments</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.wiring.html#d0e13942" tabindex="1"><span class="number">7.3 </span><span class="innertitle">Bundle Wiring</span></a></span></li>
                        <li><span class="file"><a href="framework.wiring.html#framework.wiring-fragments" tabindex="1"><span class="number">7.4 </span><span class="innertitle">Fragments</span></a></span></li>
                        <li><span class="file"><a href="framework.wiring.html#d0e14291" tabindex="1"><span class="number">7.5 </span><span class="innertitle">Framework Actions</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.wiring.html#framework.wiring.refreshing" tabindex="1"><span class="number">7.5.1 </span><span class="innertitle">Refreshing</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.wiring.html#d0e14372" tabindex="1"><span class="number">7.6 </span><span class="innertitle">Container Scanning</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.wiring.html#framework.wiring-bundleclasspathorder" tabindex="1"><span class="number">7.6.1 </span><span class="innertitle">Bundle Class Path Order</span></a></span></li>
                              <li><span class="file"><a href="framework.wiring.html#d0e14431" tabindex="1"><span class="number">7.6.2 </span><span class="innertitle">Entry Order</span></a></span></li>
                              <li><span class="file"><a href="framework.wiring.html#d0e14447" tabindex="1"><span class="number">7.6.3 </span><span class="innertitle">Class Loader Access</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.wiring.html#d0e14457" tabindex="1"><span class="number">7.7 </span><span class="innertitle">Security</span></a></span></li>
                     </ul>
                  </li>
                  <li id="toc_11"><span class="handle">+ </span><span class="file"><a href="framework.namespaces.html" tabindex="1"><span class="number">8 </span><span class="innertitle">Framework Namespaces Specification</span></a></span><ul class="">
                        <li><span class="file"><a href="framework.namespaces.html#d0e14499" tabindex="1"><span class="number">8.1 </span><span class="innertitle">Introduction</span></a></span></li>
                        <li><span class="file"><a href="framework.namespaces.html#framework.namespaces.osgi.ee" tabindex="1"><span class="number">8.2 </span><span class="innertitle">osgi.ee Namespace</span></a></span></li>
                        <li><span class="file"><a href="framework.namespaces.html#framework.namespaces.osgi.wiring.package" tabindex="1"><span class="number">8.3 </span><span class="innertitle">osgi.wiring.package Namespace</span></a></span></li>
                        <li><span class="file"><a href="framework.namespaces.html#framework.namespaces.osgi.wiring.bundle" tabindex="1"><span class="number">8.4 </span><span class="innertitle">osgi.wiring.bundle Namespace</span></a></span></li>
                        <li><span class="file"><a href="framework.namespaces.html#framework.namespaces.osgi.wiring.host" tabindex="1"><span class="number">8.5 </span><span class="innertitle">osgi.wiring.host Namespace</span></a></span></li>
                        <li><span class="file"><a href="framework.namespaces.html#framework.namespaces.osgi.identity" tabindex="1"><span class="number">8.6 </span><span class="innertitle">osgi.identity Namespace</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.namespaces.html#i1776004" tabindex="1"><span class="number">8.6.1 </span><span class="innertitle">Related Resources</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.namespaces.html#framework.namespaces.osgi.native" tabindex="1"><span class="number">8.7 </span><span class="innertitle">osgi.native Namespace</span></a></span></li>
                        <li><span class="file"><a href="framework.namespaces.html#d0e16195" tabindex="1"><span class="number">8.8 </span><span class="innertitle">References</span></a></span></li>
                        <li><span class="file"><a href="framework.namespaces.html#d0e16206" tabindex="1"><span class="number">8.9 </span><span class="innertitle">Changes</span></a></span></li>
                     </ul>
                  </li>
                  <li id="toc_12"><span class="handle">+ </span><span class="file"><a href="framework.startlevel.html" tabindex="1"><span class="number">9 </span><span class="innertitle">Start Level API Specification</span></a></span><ul class="">
                        <li><span class="file"><a href="framework.startlevel.html#d0e16224" tabindex="1"><span class="number">9.1 </span><span class="innertitle">Introduction</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.startlevel.html#d0e16231" tabindex="1"><span class="number">9.1.1 </span><span class="innertitle">Essentials</span></a></span></li>
                              <li><span class="file"><a href="framework.startlevel.html#d0e16245" tabindex="1"><span class="number">9.1.2 </span><span class="innertitle">Entities</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.startlevel.html#d0e16284" tabindex="1"><span class="number">9.2 </span><span class="innertitle">Start Level API</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.startlevel.html#d0e16330" tabindex="1"><span class="number">9.2.1 </span><span class="innertitle">Adaptations</span></a></span></li>
                              <li><span class="file"><a href="framework.startlevel.html#d0e16347" tabindex="1"><span class="number">9.2.2 </span><span class="innertitle">Bundle Start Level Bundle Adaptation</span></a></span></li>
                              <li><span class="file"><a href="framework.startlevel.html#d0e16369" tabindex="1"><span class="number">9.2.3 </span><span class="innertitle">Framework Start Level Bundle Adaptation</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.startlevel.html#d0e16394" tabindex="1"><span class="number">9.3 </span><span class="innertitle">The Concept of a Start Level</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.startlevel.html#i1300852" tabindex="1"><span class="number">9.3.1 </span><span class="innertitle">Changing the Active Start Level</span></a></span></li>
                              <li><span class="file"><a href="framework.startlevel.html#i1334328" tabindex="1"><span class="number">9.3.2 </span><span class="innertitle">Startup Sequence</span></a></span></li>
                              <li><span class="file"><a href="framework.startlevel.html#i1277583" tabindex="1"><span class="number">9.3.3 </span><span class="innertitle">Shutdown Sequence</span></a></span></li>
                              <li><span class="file"><a href="framework.startlevel.html#d0e16551" tabindex="1"><span class="number">9.3.4 </span><span class="innertitle">Changing a Bundle's Start Level</span></a></span></li>
                              <li><span class="file"><a href="framework.startlevel.html#d0e16566" tabindex="1"><span class="number">9.3.5 </span><span class="innertitle">Starting a Bundle</span></a></span></li>
                              <li><span class="file"><a href="framework.startlevel.html#d0e16574" tabindex="1"><span class="number">9.3.6 </span><span class="innertitle">Exceptions in the Bundle Activator</span></a></span></li>
                              <li><span class="file"><a href="framework.startlevel.html#d0e16614" tabindex="1"><span class="number">9.3.7 </span><span class="innertitle">System Bundle</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.startlevel.html#d0e16619" tabindex="1"><span class="number">9.4 </span><span class="innertitle">Example Applications</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.startlevel.html#d0e16624" tabindex="1"><span class="number">9.4.1 </span><span class="innertitle">Safe Mode Startup Scheme</span></a></span></li>
                              <li><span class="file"><a href="framework.startlevel.html#d0e16641" tabindex="1"><span class="number">9.4.2 </span><span class="innertitle">Splash Screen Startup Scheme</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.startlevel.html#d0e16648" tabindex="1"><span class="number">9.5 </span><span class="innertitle">Security</span></a></span></li>
                     </ul>
                  </li>
                  <li id="toc_13"><span class="handle">+ </span><span class="file"><a href="framework.api.html" tabindex="1"><span class="number">10 </span><span class="innertitle">Framework API</span></a></span><ul class="">
                        <li><span class="file"><a href="framework.api.html#org.osgi.framework" tabindex="1"><span class="number">10.1 </span><span class="innertitle">org.osgi.framework</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.api.html#d0e16700" tabindex="1"><span class="number">10.1.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.AdaptPermission" tabindex="1"><span class="number">10.1.2 </span><span class="innertitle">public final class AdaptPermission extends BasicPermission</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.AdminPermission" tabindex="1"><span class="number">10.1.3 </span><span class="innertitle">public final class AdminPermission extends BasicPermission</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.AllServiceListener" tabindex="1"><span class="number">10.1.4 </span><span class="innertitle">public interface AllServiceListener extends ServiceListener</span></a></span></li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.Bundle" tabindex="1"><span class="number">10.1.5 </span><span class="innertitle">public interface Bundle extends Comparable&lt;Bundle&gt;</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.BundleActivator" tabindex="1"><span class="number">10.1.6 </span><span class="innertitle">public interface BundleActivator</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.BundleContext" tabindex="1"><span class="number">10.1.7 </span><span class="innertitle">public interface BundleContext extends BundleReference</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.BundleEvent" tabindex="1"><span class="number">10.1.8 </span><span class="innertitle">public class BundleEvent extends EventObject</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.BundleException" tabindex="1"><span class="number">10.1.9 </span><span class="innertitle">public class BundleException extends Exception</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.BundleListener" tabindex="1"><span class="number">10.1.10 </span><span class="innertitle">public interface BundleListener extends EventListener</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.BundlePermission" tabindex="1"><span class="number">10.1.11 </span><span class="innertitle">public final class BundlePermission extends BasicPermission</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.BundleReference" tabindex="1"><span class="number">10.1.12 </span><span class="innertitle">public interface BundleReference</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.CapabilityPermission" tabindex="1"><span class="number">10.1.13 </span><span class="innertitle">public final class CapabilityPermission extends BasicPermission</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.Configurable" tabindex="1"><span class="number">10.1.14 </span><span class="innertitle">public interface Configurable</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.Constants" tabindex="1"><span class="number">10.1.15 </span><span class="innertitle">public interface Constants</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.Filter" tabindex="1"><span class="number">10.1.16 </span><span class="innertitle">public interface Filter</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.FrameworkEvent" tabindex="1"><span class="number">10.1.17 </span><span class="innertitle">public class FrameworkEvent extends EventObject</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.FrameworkListener" tabindex="1"><span class="number">10.1.18 </span><span class="innertitle">public interface FrameworkListener extends EventListener</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.FrameworkUtil" tabindex="1"><span class="number">10.1.19 </span><span class="innertitle">public class FrameworkUtil</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.InvalidSyntaxException" tabindex="1"><span class="number">10.1.20 </span><span class="innertitle">public class InvalidSyntaxException extends RuntimeException</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.PackagePermission" tabindex="1"><span class="number">10.1.21 </span><span class="innertitle">public final class PackagePermission extends BasicPermission</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.PrototypeServiceFactory" tabindex="1"><span class="number">10.1.22 </span><span class="innertitle">public interface PrototypeServiceFactory&lt;S&gt; extends ServiceFactory&lt;S&gt;</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.ServiceEvent" tabindex="1"><span class="number">10.1.23 </span><span class="innertitle">public class ServiceEvent extends EventObject</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.ServiceException" tabindex="1"><span class="number">10.1.24 </span><span class="innertitle">public class ServiceException extends RuntimeException</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.ServiceFactory" tabindex="1"><span class="number">10.1.25 </span><span class="innertitle">public interface ServiceFactory&lt;S&gt;</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.ServiceListener" tabindex="1"><span class="number">10.1.26 </span><span class="innertitle">public interface ServiceListener extends EventListener</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.ServiceObjects" tabindex="1"><span class="number">10.1.27 </span><span class="innertitle">public interface ServiceObjects&lt;S&gt;</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.ServicePermission" tabindex="1"><span class="number">10.1.28 </span><span class="innertitle">public final class ServicePermission extends BasicPermission</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.ServiceReference" tabindex="1"><span class="number">10.1.29 </span><span class="innertitle">public interface ServiceReference&lt;S&gt; extends Comparable&lt;Object&gt;, BundleReference</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.ServiceRegistration" tabindex="1"><span class="number">10.1.30 </span><span class="innertitle">public interface ServiceRegistration&lt;S&gt;</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.SynchronousBundleListener" tabindex="1"><span class="number">10.1.31 </span><span class="innertitle">public interface SynchronousBundleListener extends BundleListener</span></a></span></li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.UnfilteredServiceListener" tabindex="1"><span class="number">10.1.32 </span><span class="innertitle">public interface UnfilteredServiceListener extends ServiceListener</span></a></span></li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.Version" tabindex="1"><span class="number">10.1.33 </span><span class="innertitle">public class Version implements Comparable&lt;Version&gt;</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.VersionRange" tabindex="1"><span class="number">10.1.34 </span><span class="innertitle">public class VersionRange</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.api.html#org.osgi.framework.launch" tabindex="1"><span class="number">10.2 </span><span class="innertitle">org.osgi.framework.launch</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.api.html#d0e31796" tabindex="1"><span class="number">10.2.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.launch.Framework" tabindex="1"><span class="number">10.2.2 </span><span class="innertitle">public interface Framework extends Bundle</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.launch.FrameworkFactory" tabindex="1"><span class="number">10.2.3 </span><span class="innertitle">public interface FrameworkFactory</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.api.html#org.osgi.resource" tabindex="1"><span class="number">10.3 </span><span class="innertitle">org.osgi.resource</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.api.html#d0e32715" tabindex="1"><span class="number">10.3.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.resource.Capability" tabindex="1"><span class="number">10.3.2 </span><span class="innertitle">public interface Capability</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.resource.Namespace" tabindex="1"><span class="number">10.3.3 </span><span class="innertitle">public abstract class Namespace</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.resource.Requirement" tabindex="1"><span class="number">10.3.4 </span><span class="innertitle">public interface Requirement</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.resource.Resource" tabindex="1"><span class="number">10.3.5 </span><span class="innertitle">public interface Resource</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.resource.Wire" tabindex="1"><span class="number">10.3.6 </span><span class="innertitle">public interface Wire</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.resource.Wiring" tabindex="1"><span class="number">10.3.7 </span><span class="innertitle">public interface Wiring</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.api.html#org.osgi.framework.wiring" tabindex="1"><span class="number">10.4 </span><span class="innertitle">org.osgi.framework.wiring</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.api.html#d0e33709" tabindex="1"><span class="number">10.4.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.wiring.BundleCapability" tabindex="1"><span class="number">10.4.2 </span><span class="innertitle">public interface BundleCapability extends Capability</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.wiring.BundleRequirement" tabindex="1"><span class="number">10.4.3 </span><span class="innertitle">public interface BundleRequirement extends Requirement</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.wiring.BundleRevision" tabindex="1"><span class="number">10.4.4 </span><span class="innertitle">public interface BundleRevision extends BundleReference, Resource</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.wiring.BundleRevisions" tabindex="1"><span class="number">10.4.5 </span><span class="innertitle">public interface BundleRevisions extends BundleReference</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.wiring.BundleWire" tabindex="1"><span class="number">10.4.6 </span><span class="innertitle">public interface BundleWire extends Wire</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.wiring.BundleWiring" tabindex="1"><span class="number">10.4.7 </span><span class="innertitle">public interface BundleWiring extends BundleReference, Wiring</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.wiring.FrameworkWiring" tabindex="1"><span class="number">10.4.8 </span><span class="innertitle">public interface FrameworkWiring extends BundleReference</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.api.html#org.osgi.framework.startlevel" tabindex="1"><span class="number">10.5 </span><span class="innertitle">org.osgi.framework.startlevel</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.api.html#d0e35728" tabindex="1"><span class="number">10.5.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.startlevel.BundleStartLevel" tabindex="1"><span class="number">10.5.2 </span><span class="innertitle">public interface BundleStartLevel extends BundleReference</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.startlevel.FrameworkStartLevel" tabindex="1"><span class="number">10.5.3 </span><span class="innertitle">public interface FrameworkStartLevel extends BundleReference</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.api.html#org.osgi.framework.namespace" tabindex="1"><span class="number">10.6 </span><span class="innertitle">org.osgi.framework.namespace</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.api.html#d0e36143" tabindex="1"><span class="number">10.6.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.namespace.AbstractWiringNamespace" tabindex="1"><span class="number">10.6.2 </span><span class="innertitle">public abstract class AbstractWiringNamespace extends Namespace</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.namespace.BundleNamespace" tabindex="1"><span class="number">10.6.3 </span><span class="innertitle">public final class BundleNamespace extends AbstractWiringNamespace</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.namespace.ExecutionEnvironmentNamespace" tabindex="1"><span class="number">10.6.4 </span><span class="innertitle">public final class ExecutionEnvironmentNamespace extends Namespace</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.namespace.HostNamespace" tabindex="1"><span class="number">10.6.5 </span><span class="innertitle">public final class HostNamespace extends AbstractWiringNamespace</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.namespace.IdentityNamespace" tabindex="1"><span class="number">10.6.6 </span><span class="innertitle">public final class IdentityNamespace extends Namespace</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.namespace.NativeNamespace" tabindex="1"><span class="number">10.6.7 </span><span class="innertitle">public final class NativeNamespace extends Namespace</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.framework.namespace.PackageNamespace" tabindex="1"><span class="number">10.6.8 </span><span class="innertitle">public final class PackageNamespace extends AbstractWiringNamespace</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.api.html#org.osgi.annotation.versioning" tabindex="1"><span class="number">10.7 </span><span class="innertitle">org.osgi.annotation.versioning</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.api.html#d0e37258" tabindex="1"><span class="number">10.7.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.annotation.versioning.ConsumerType" tabindex="1"><span class="number">10.7.2 </span><span class="innertitle">@ConsumerType</span></a></span></li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.annotation.versioning.ProviderType" tabindex="1"><span class="number">10.7.3 </span><span class="innertitle">@ProviderType</span></a></span></li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.annotation.versioning.Version" tabindex="1"><span class="number">10.7.4 </span><span class="innertitle">@Version</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.api.html#org.osgi.annotation.bundle" tabindex="1"><span class="number">10.8 </span><span class="innertitle">org.osgi.annotation.bundle</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.api.html#d0e37474" tabindex="1"><span class="number">10.8.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.annotation.bundle.Attribute" tabindex="1"><span class="number">10.8.2 </span><span class="innertitle">@Attribute</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.annotation.bundle.Capabilities" tabindex="1"><span class="number">10.8.3 </span><span class="innertitle">@Capabilities</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.annotation.bundle.Capability" tabindex="1"><span class="number">10.8.4 </span><span class="innertitle">@Capability</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.annotation.bundle.Directive" tabindex="1"><span class="number">10.8.5 </span><span class="innertitle">@Directive</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.annotation.bundle.Export" tabindex="1"><span class="number">10.8.6 </span><span class="innertitle">@Export</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.annotation.bundle.Export.Substitution" tabindex="1"><span class="number">10.8.7 </span><span class="innertitle">public static final class Export.Substitution</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.annotation.bundle.Header" tabindex="1"><span class="number">10.8.8 </span><span class="innertitle">@Header</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.annotation.bundle.Headers" tabindex="1"><span class="number">10.8.9 </span><span class="innertitle">@Headers</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.annotation.bundle.Referenced" tabindex="1"><span class="number">10.8.10 </span><span class="innertitle">@Referenced</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.annotation.bundle.Requirement" tabindex="1"><span class="number">10.8.11 </span><span class="innertitle">@Requirement</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.annotation.bundle.Requirement.Cardinality" tabindex="1"><span class="number">10.8.12 </span><span class="innertitle">public static final class Requirement.Cardinality</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.annotation.bundle.Requirement.Resolution" tabindex="1"><span class="number">10.8.13 </span><span class="innertitle">public static final class Requirement.Resolution</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.api.html#org.osgi.annotation.bundle.Requirements" tabindex="1"><span class="number">10.8.14 </span><span class="innertitle">@Requirements</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li id="toc_14"><span class="handle">+ </span><span class="file"><a href="service.condpermadmin.html" tabindex="1"><span class="number">50 </span><span class="innertitle">Conditional Permission Admin Service Specification</span></a></span><ul class="">
                        <li><span class="file"><a href="service.condpermadmin.html#d0e38340" tabindex="1"><span class="number">50.1 </span><span class="innertitle">Introduction</span></a></span><ul class="">
                              <li><span class="file"><a href="service.condpermadmin.html#d0e38354" tabindex="1"><span class="number">50.1.1 </span><span class="innertitle">Essentials</span></a></span></li>
                              <li><span class="file"><a href="service.condpermadmin.html#d0e38408" tabindex="1"><span class="number">50.1.2 </span><span class="innertitle">Entities</span></a></span></li>
                              <li><span class="file"><a href="service.condpermadmin.html#d0e38496" tabindex="1"><span class="number">50.1.3 </span><span class="innertitle">Synopsis</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.condpermadmin.html#i1534520" tabindex="1"><span class="number">50.2 </span><span class="innertitle">Permission Management Model</span></a></span><ul class="">
                              <li><span class="file"><a href="service.condpermadmin.html#i1470195" tabindex="1"><span class="number">50.2.1 </span><span class="innertitle">Local Permissions</span></a></span></li>
                              <li><span class="file"><a href="service.condpermadmin.html#d0e38587" tabindex="1"><span class="number">50.2.2 </span><span class="innertitle">Open Deployment Channels</span></a></span></li>
                              <li><span class="file"><a href="service.condpermadmin.html#d0e38607" tabindex="1"><span class="number">50.2.3 </span><span class="innertitle">Delegation</span></a></span></li>
                              <li><span class="file"><a href="service.condpermadmin.html#d0e38665" tabindex="1"><span class="number">50.2.4 </span><span class="innertitle">Grouping</span></a></span></li>
                              <li><span class="file"><a href="service.condpermadmin.html#i1716478" tabindex="1"><span class="number">50.2.5 </span><span class="innertitle">Typical Example</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.condpermadmin.html#d0e38912" tabindex="1"><span class="number">50.3 </span><span class="innertitle">Effective Permissions</span></a></span></li>
                        <li><span class="file"><a href="service.condpermadmin.html#i1534586" tabindex="1"><span class="number">50.4 </span><span class="innertitle">Conditional Permissions</span></a></span><ul class="">
                              <li><span class="file"><a href="service.condpermadmin.html#i1648674" tabindex="1"><span class="number">50.4.1 </span><span class="innertitle">Encoding versus Instantiation</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.condpermadmin.html#i1688376" tabindex="1"><span class="number">50.5 </span><span class="innertitle">Conditions</span></a></span></li>
                        <li><span class="file"><a href="service.condpermadmin.html#service.condpermadmin.permissioncheck" tabindex="1"><span class="number">50.6 </span><span class="innertitle">The Permission Check</span></a></span><ul class="">
                              <li><span class="file"><a href="service.condpermadmin.html#i1456283" tabindex="1"><span class="number">50.6.1 </span><span class="innertitle">Security Manager checkPermission Method</span></a></span></li>
                              <li><span class="file"><a href="service.condpermadmin.html#d0e39261" tabindex="1"><span class="number">50.6.2 </span><span class="innertitle">Bundle Protection Domain implies Method</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="service.condpermadmin.html#d0e39432" tabindex="1"><span class="number">50.6.3 </span><span class="innertitle">Postponed Evaluation</span></a></span></li>
                              <li><span class="file"><a href="service.condpermadmin.html#d0e39527" tabindex="1"><span class="number">50.6.4 </span><span class="innertitle">Example</span></a></span></li>
                              <li><span class="file"><a href="service.condpermadmin.html#d0e39803" tabindex="1"><span class="number">50.6.5 </span><span class="innertitle">Using the Access Control Context Directly</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.condpermadmin.html#i1693067" tabindex="1"><span class="number">50.7 </span><span class="innertitle">Permission Management</span></a></span><ul class="">
                              <li><span class="file"><a href="service.condpermadmin.html#d0e39921" tabindex="1"><span class="number">50.7.1 </span><span class="innertitle">Default Permissions</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.condpermadmin.html#service.condpermadmin-file.permission" tabindex="1"><span class="number">50.8 </span><span class="innertitle">File Permission for Relative Path Names</span></a></span></li>
                        <li><span class="file"><a href="service.condpermadmin.html#i1712960" tabindex="1"><span class="number">50.9 </span><span class="innertitle">Implementing Conditions</span></a></span></li>
                        <li><span class="file"><a href="service.condpermadmin.html#i1534900" tabindex="1"><span class="number">50.10 </span><span class="innertitle">Standard Conditions</span></a></span><ul class="">
                              <li><span class="file"><a href="service.condpermadmin.html#d0e40143" tabindex="1"><span class="number">50.10.1 </span><span class="innertitle">Bundle Signer Condition</span></a></span></li>
                              <li><span class="file"><a href="service.condpermadmin.html#d0e40165" tabindex="1"><span class="number">50.10.2 </span><span class="innertitle">Bundle Location Condition</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.condpermadmin.html#i1576555" tabindex="1"><span class="number">50.11 </span><span class="innertitle">Bundle Permission Resource</span></a></span><ul class="">
                              <li><span class="file"><a href="service.condpermadmin.html#d0e40223" tabindex="1"><span class="number">50.11.1 </span><span class="innertitle">Removing the Bundle Permission Resource</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.condpermadmin.html#i1543285" tabindex="1"><span class="number">50.12 </span><span class="innertitle">Relation to Permission Admin</span></a></span></li>
                        <li><span class="file"><a href="service.condpermadmin.html#d0e40259" tabindex="1"><span class="number">50.13 </span><span class="innertitle">Implementation Issues</span></a></span><ul class="">
                              <li><span class="file"><a href="service.condpermadmin.html#i1706619" tabindex="1"><span class="number">50.13.1 </span><span class="innertitle">Optimizing Immutable Conditions</span></a></span></li>
                              <li><span class="file"><a href="service.condpermadmin.html#d0e40367" tabindex="1"><span class="number">50.13.2 </span><span class="innertitle">Optimizing the Permission Check</span></a></span></li>
                              <li><span class="file"><a href="service.condpermadmin.html#d0e40404" tabindex="1"><span class="number">50.13.3 </span><span class="innertitle">Using Permission Checks in Conditions</span></a></span></li>
                              <li><span class="file"><a href="service.condpermadmin.html#d0e40431" tabindex="1"><span class="number">50.13.4 </span><span class="innertitle">Concurrency</span></a></span></li>
                              <li><span class="file"><a href="service.condpermadmin.html#d0e40439" tabindex="1"><span class="number">50.13.5 </span><span class="innertitle">Class Loading</span></a></span></li>
                              <li><span class="file"><a href="service.condpermadmin.html#i1691964" tabindex="1"><span class="number">50.13.6 </span><span class="innertitle">Condition Life Cycle</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.condpermadmin.html#d0e40459" tabindex="1"><span class="number">50.14 </span><span class="innertitle">Security</span></a></span><ul class="">
                              <li><span class="file"><a href="service.condpermadmin.html#d0e40462" tabindex="1"><span class="number">50.14.1 </span><span class="innertitle">Service Registry Security</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.condpermadmin.html#org.osgi.service.condpermadmin" tabindex="1"><span class="number">50.15 </span><span class="innertitle">org.osgi.service.condpermadmin</span></a></span><ul class="">
                              <li><span class="file"><a href="service.condpermadmin.html#d0e40496" tabindex="1"><span class="number">50.15.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="service.condpermadmin.html#org.osgi.service.condpermadmin.BundleLocationCondition" tabindex="1"><span class="number">50.15.2 </span><span class="innertitle">public class BundleLocationCondition</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="service.condpermadmin.html#org.osgi.service.condpermadmin.BundleSignerCondition" tabindex="1"><span class="number">50.15.3 </span><span class="innertitle">public class BundleSignerCondition</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="service.condpermadmin.html#org.osgi.service.condpermadmin.Condition" tabindex="1"><span class="number">50.15.4 </span><span class="innertitle">public interface Condition</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="service.condpermadmin.html#org.osgi.service.condpermadmin.ConditionalPermissionAdmin" tabindex="1"><span class="number">50.15.5 </span><span class="innertitle">public interface ConditionalPermissionAdmin</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="service.condpermadmin.html#org.osgi.service.condpermadmin.ConditionalPermissionInfo" tabindex="1"><span class="number">50.15.6 </span><span class="innertitle">public interface ConditionalPermissionInfo</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="service.condpermadmin.html#org.osgi.service.condpermadmin.ConditionalPermissionUpdate" tabindex="1"><span class="number">50.15.7 </span><span class="innertitle">public interface ConditionalPermissionUpdate</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="service.condpermadmin.html#org.osgi.service.condpermadmin.ConditionInfo" tabindex="1"><span class="number">50.15.8 </span><span class="innertitle">public class ConditionInfo</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li id="toc_15"><span class="handle">+ </span><span class="file"><a href="service.permissionadmin.html" tabindex="1"><span class="number">51 </span><span class="innertitle">Permission Admin Service Specification</span></a></span><ul class="">
                        <li><span class="file"><a href="service.permissionadmin.html#d0e41922" tabindex="1"><span class="number">51.1 </span><span class="innertitle">Introduction</span></a></span><ul class="">
                              <li><span class="file"><a href="service.permissionadmin.html#d0e41940" tabindex="1"><span class="number">51.1.1 </span><span class="innertitle">Essentials</span></a></span></li>
                              <li><span class="file"><a href="service.permissionadmin.html#d0e41959" tabindex="1"><span class="number">51.1.2 </span><span class="innertitle">Entities</span></a></span></li>
                              <li><span class="file"><a href="service.permissionadmin.html#d0e41989" tabindex="1"><span class="number">51.1.3 </span><span class="innertitle">Operation</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.permissionadmin.html#d0e42011" tabindex="1"><span class="number">51.2 </span><span class="innertitle">Permission Admin service</span></a></span><ul class="">
                              <li><span class="file"><a href="service.permissionadmin.html#d0e42119" tabindex="1"><span class="number">51.2.1 </span><span class="innertitle">File Permission for Relative Path Names</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.permissionadmin.html#d0e42162" tabindex="1"><span class="number">51.3 </span><span class="innertitle">Security</span></a></span></li>
                        <li><span class="file"><a href="service.permissionadmin.html#org.osgi.service.permissionadmin" tabindex="1"><span class="number">51.4 </span><span class="innertitle">org.osgi.service.permissionadmin</span></a></span><ul class="">
                              <li><span class="file"><a href="service.permissionadmin.html#d0e42197" tabindex="1"><span class="number">51.4.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="service.permissionadmin.html#org.osgi.service.permissionadmin.PermissionAdmin" tabindex="1"><span class="number">51.4.2 </span><span class="innertitle">public interface PermissionAdmin</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="service.permissionadmin.html#org.osgi.service.permissionadmin.PermissionInfo" tabindex="1"><span class="number">51.4.3 </span><span class="innertitle">public class PermissionInfo</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li id="toc_16"><span class="handle">+ </span><span class="file"><a href="service.url.html" tabindex="1"><span class="number">52 </span><span class="innertitle">URL Handlers Service Specification</span></a></span><ul class="">
                        <li><span class="file"><a href="service.url.html#d0e42736" tabindex="1"><span class="number">52.1 </span><span class="innertitle">Introduction</span></a></span><ul class="">
                              <li><span class="file"><a href="service.url.html#d0e42746" tabindex="1"><span class="number">52.1.1 </span><span class="innertitle">Essentials</span></a></span></li>
                              <li><span class="file"><a href="service.url.html#d0e42776" tabindex="1"><span class="number">52.1.2 </span><span class="innertitle">Entities</span></a></span></li>
                              <li><span class="file"><a href="service.url.html#d0e42931" tabindex="1"><span class="number">52.1.3 </span><span class="innertitle">Operation</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.url.html#d0e42967" tabindex="1"><span class="number">52.2 </span><span class="innertitle">Factories in java.net</span></a></span></li>
                        <li><span class="file"><a href="service.url.html#d0e43060" tabindex="1"><span class="number">52.3 </span><span class="innertitle">Framework Procedures</span></a></span><ul class="">
                              <li><span class="file"><a href="service.url.html#d0e43112" tabindex="1"><span class="number">52.3.1 </span><span class="innertitle">Constructing a Proxy and Handler</span></a></span></li>
                              <li><span class="file"><a href="service.url.html#i1413781" tabindex="1"><span class="number">52.3.2 </span><span class="innertitle">Built-in Handlers</span></a></span></li>
                              <li><span class="file"><a href="service.url.html#d0e43214" tabindex="1"><span class="number">52.3.3 </span><span class="innertitle">Finding Built-in Handlers</span></a></span></li>
                              <li><span class="file"><a href="service.url.html#i1407205" tabindex="1"><span class="number">52.3.4 </span><span class="innertitle">Protected Methods and Proxy</span></a></span></li>
                              <li><span class="file"><a href="service.url.html#i1405077" tabindex="1"><span class="number">52.3.5 </span><span class="innertitle">Stream Handlers that use java.net.Proxy</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.url.html#d0e43458" tabindex="1"><span class="number">52.4 </span><span class="innertitle">Providing a New Scheme</span></a></span></li>
                        <li><span class="file"><a href="service.url.html#d0e43499" tabindex="1"><span class="number">52.5 </span><span class="innertitle">Providing a Content Handler</span></a></span></li>
                        <li><span class="file"><a href="service.url.html#d0e43524" tabindex="1"><span class="number">52.6 </span><span class="innertitle">Security Considerations</span></a></span></li>
                        <li><span class="file"><a href="service.url.html#org.osgi.service.url" tabindex="1"><span class="number">52.7 </span><span class="innertitle">org.osgi.service.url</span></a></span><ul class="">
                              <li><span class="file"><a href="service.url.html#d0e43577" tabindex="1"><span class="number">52.7.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="service.url.html#org.osgi.service.url.AbstractURLStreamHandlerService" tabindex="1"><span class="number">52.7.2 </span><span class="innertitle">public abstract class AbstractURLStreamHandlerService extends URLStreamHandler implements URLStreamHandlerService</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="service.url.html#org.osgi.service.url.URLConstants" tabindex="1"><span class="number">52.7.3 </span><span class="innertitle">public interface URLConstants</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="service.url.html#org.osgi.service.url.URLStreamHandlerService" tabindex="1"><span class="number">52.7.4 </span><span class="innertitle">public interface URLStreamHandlerService</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="service.url.html#org.osgi.service.url.URLStreamHandlerSetter" tabindex="1"><span class="number">52.7.5 </span><span class="innertitle">public interface URLStreamHandlerSetter</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.url.html#service.url.references" tabindex="1"><span class="number">52.8 </span><span class="innertitle">References</span></a></span></li>
                     </ul>
                  </li>
                  <li id="toc_17"><span class="handle">+ </span><span class="file"><a href="framework.resolverhooks.html" tabindex="1"><span class="number">53 </span><span class="innertitle">Resolver Hook Service Specification</span></a></span><ul class="">
                        <li><span class="file"><a href="framework.resolverhooks.html#d0e44186" tabindex="1"><span class="number">53.1 </span><span class="innertitle">Introduction</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.resolverhooks.html#d0e44191" tabindex="1"><span class="number">53.1.1 </span><span class="innertitle">Essentials</span></a></span></li>
                              <li><span class="file"><a href="framework.resolverhooks.html#d0e44215" tabindex="1"><span class="number">53.1.2 </span><span class="innertitle">Entities</span></a></span></li>
                              <li><span class="file"><a href="framework.resolverhooks.html#d0e44270" tabindex="1"><span class="number">53.1.3 </span><span class="innertitle">Synopsis</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.resolverhooks.html#d0e44275" tabindex="1"><span class="number">53.2 </span><span class="innertitle">Resolve Operation</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.resolverhooks.html#d0e44278" tabindex="1"><span class="number">53.2.1 </span><span class="innertitle">Trigger Bundles</span></a></span></li>
                              <li><span class="file"><a href="framework.resolverhooks.html#d0e44355" tabindex="1"><span class="number">53.2.2 </span><span class="innertitle">Resolving Types</span></a></span></li>
                              <li><span class="file"><a href="framework.resolverhooks.html#d0e44382" tabindex="1"><span class="number">53.2.3 </span><span class="innertitle">Preparing Handlers</span></a></span></li>
                              <li><span class="file"><a href="framework.resolverhooks.html#d0e44435" tabindex="1"><span class="number">53.2.4 </span><span class="innertitle">Limiting the Set of Resolvable Bundles</span></a></span></li>
                              <li><span class="file"><a href="framework.resolverhooks.html#d0e44456" tabindex="1"><span class="number">53.2.5 </span><span class="innertitle">Hiding Capabilities</span></a></span></li>
                              <li><span class="file"><a href="framework.resolverhooks.html#d0e44467" tabindex="1"><span class="number">53.2.6 </span><span class="innertitle">Effect of Singleton Capabilities</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.resolverhooks.html#d0e44516" tabindex="1"><span class="number">53.3 </span><span class="innertitle">The Resolve Operation</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.resolverhooks.html#d0e44730" tabindex="1"><span class="number">53.3.1 </span><span class="innertitle">Resolver Hook Limitations</span></a></span></li>
                              <li><span class="file"><a href="framework.resolverhooks.html#i1703638" tabindex="1"><span class="number">53.3.2 </span><span class="innertitle">Failures</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.resolverhooks.html#d0e44783" tabindex="1"><span class="number">53.4 </span><span class="innertitle">Security</span></a></span></li>
                        <li><span class="file"><a href="framework.resolverhooks.html#org.osgi.framework.hooks.resolver" tabindex="1"><span class="number">53.5 </span><span class="innertitle">org.osgi.framework.hooks.resolver</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.resolverhooks.html#d0e44815" tabindex="1"><span class="number">53.5.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="framework.resolverhooks.html#org.osgi.framework.hooks.resolver.ResolverHook" tabindex="1"><span class="number">53.5.2 </span><span class="innertitle">public interface ResolverHook</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.resolverhooks.html#org.osgi.framework.hooks.resolver.ResolverHookFactory" tabindex="1"><span class="number">53.5.3 </span><span class="innertitle">public interface ResolverHookFactory</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li id="toc_18"><span class="handle">+ </span><span class="file"><a href="framework.bundlehooks.html" tabindex="1"><span class="number">54 </span><span class="innertitle">Bundle Hook Service Specification</span></a></span><ul class="">
                        <li><span class="file"><a href="framework.bundlehooks.html#d0e45239" tabindex="1"><span class="number">54.1 </span><span class="innertitle">Introduction</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.bundlehooks.html#d0e45246" tabindex="1"><span class="number">54.1.1 </span><span class="innertitle">Essentials</span></a></span></li>
                              <li><span class="file"><a href="framework.bundlehooks.html#d0e45255" tabindex="1"><span class="number">54.1.2 </span><span class="innertitle">Entities</span></a></span></li>
                              <li><span class="file"><a href="framework.bundlehooks.html#d0e45306" tabindex="1"><span class="number">54.1.3 </span><span class="innertitle">Synopsis</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.bundlehooks.html#d0e45329" tabindex="1"><span class="number">54.2 </span><span class="innertitle">About the Hooks</span></a></span></li>
                        <li><span class="file"><a href="framework.bundlehooks.html#d0e45357" tabindex="1"><span class="number">54.3 </span><span class="innertitle">Bundle Event Hook</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.bundlehooks.html#d0e45440" tabindex="1"><span class="number">54.3.1 </span><span class="innertitle">System Bundle Listeners</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.bundlehooks.html#d0e45477" tabindex="1"><span class="number">54.4 </span><span class="innertitle">Bundle Find Hook</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.bundlehooks.html#d0e45506" tabindex="1"><span class="number">54.4.1 </span><span class="innertitle">System Bundle Context</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.bundlehooks.html#framework.bundlehooks.collisionhook" tabindex="1"><span class="number">54.5 </span><span class="innertitle">Bundle Collision Hook</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.bundlehooks.html#d0e45648" tabindex="1"><span class="number">54.5.1 </span><span class="innertitle">System Bundle Context</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.bundlehooks.html#d0e45673" tabindex="1"><span class="number">54.6 </span><span class="innertitle">Security</span></a></span></li>
                        <li><span class="file"><a href="framework.bundlehooks.html#org.osgi.framework.hooks.bundle" tabindex="1"><span class="number">54.7 </span><span class="innertitle">org.osgi.framework.hooks.bundle</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.bundlehooks.html#d0e45732" tabindex="1"><span class="number">54.7.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="framework.bundlehooks.html#org.osgi.framework.hooks.bundle.CollisionHook" tabindex="1"><span class="number">54.7.2 </span><span class="innertitle">public interface CollisionHook</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.bundlehooks.html#org.osgi.framework.hooks.bundle.EventHook" tabindex="1"><span class="number">54.7.3 </span><span class="innertitle">public interface EventHook</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.bundlehooks.html#org.osgi.framework.hooks.bundle.FindHook" tabindex="1"><span class="number">54.7.4 </span><span class="innertitle">public interface FindHook</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li id="toc_19"><span class="handle">+ </span><span class="file"><a href="framework.servicehooks.html" tabindex="1"><span class="number">55 </span><span class="innertitle">Service Hook Service Specification</span></a></span><ul class="">
                        <li><span class="file"><a href="framework.servicehooks.html#d0e45964" tabindex="1"><span class="number">55.1 </span><span class="innertitle">Introduction</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.servicehooks.html#d0e45985" tabindex="1"><span class="number">55.1.1 </span><span class="innertitle">Essentials</span></a></span></li>
                              <li><span class="file"><a href="framework.servicehooks.html#d0e46016" tabindex="1"><span class="number">55.1.2 </span><span class="innertitle">Entities</span></a></span></li>
                              <li><span class="file"><a href="framework.servicehooks.html#d0e46074" tabindex="1"><span class="number">55.1.3 </span><span class="innertitle">Synopsis</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.servicehooks.html#d0e46092" tabindex="1"><span class="number">55.2 </span><span class="innertitle">Service Hooks</span></a></span></li>
                        <li><span class="file"><a href="framework.servicehooks.html#d0e46137" tabindex="1"><span class="number">55.3 </span><span class="innertitle">Usage Scenarios</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.servicehooks.html#d0e46142" tabindex="1"><span class="number">55.3.1 </span><span class="innertitle">Proxying</span></a></span></li>
                              <li><span class="file"><a href="framework.servicehooks.html#d0e46195" tabindex="1"><span class="number">55.3.2 </span><span class="innertitle">Providing a Service on Demand</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.servicehooks.html#d0e46265" tabindex="1"><span class="number">55.4 </span><span class="innertitle">Event Listener Hook</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.servicehooks.html#d0e46333" tabindex="1"><span class="number">55.4.1 </span><span class="innertitle">System Service Listeners</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.servicehooks.html#d0e46370" tabindex="1"><span class="number">55.5 </span><span class="innertitle">Find Hook</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.servicehooks.html#d0e46399" tabindex="1"><span class="number">55.5.1 </span><span class="innertitle">System Bundle Context</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.servicehooks.html#d0e46427" tabindex="1"><span class="number">55.6 </span><span class="innertitle">Listener Hook</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.servicehooks.html#d0e46577" tabindex="1"><span class="number">55.6.1 </span><span class="innertitle">Filter</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.servicehooks.html#d0e46594" tabindex="1"><span class="number">55.7 </span><span class="innertitle">Architectural Notes</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.servicehooks.html#d0e46597" tabindex="1"><span class="number">55.7.1 </span><span class="innertitle">Remove Only</span></a></span></li>
                              <li><span class="file"><a href="framework.servicehooks.html#d0e46602" tabindex="1"><span class="number">55.7.2 </span><span class="innertitle">Ordinary Services</span></a></span></li>
                              <li><span class="file"><a href="framework.servicehooks.html#d0e46609" tabindex="1"><span class="number">55.7.3 </span><span class="innertitle">Ordering</span></a></span></li>
                              <li><span class="file"><a href="framework.servicehooks.html#d0e46616" tabindex="1"><span class="number">55.7.4 </span><span class="innertitle">Providing the Service Object</span></a></span></li>
                              <li><span class="file"><a href="framework.servicehooks.html#d0e46624" tabindex="1"><span class="number">55.7.5 </span><span class="innertitle">Multi Threading</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.servicehooks.html#d0e46629" tabindex="1"><span class="number">55.8 </span><span class="innertitle">Security</span></a></span></li>
                        <li><span class="file"><a href="framework.servicehooks.html#org.osgi.framework.hooks.service" tabindex="1"><span class="number">55.9 </span><span class="innertitle">org.osgi.framework.hooks.service</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.servicehooks.html#d0e46688" tabindex="1"><span class="number">55.9.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="framework.servicehooks.html#org.osgi.framework.hooks.service.EventHook" tabindex="1"><span class="number">55.9.2 </span><span class="innertitle">public interface EventHook</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.servicehooks.html#org.osgi.framework.hooks.service.EventListenerHook" tabindex="1"><span class="number">55.9.3 </span><span class="innertitle">public interface EventListenerHook</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.servicehooks.html#org.osgi.framework.hooks.service.FindHook" tabindex="1"><span class="number">55.9.4 </span><span class="innertitle">public interface FindHook</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.servicehooks.html#org.osgi.framework.hooks.service.ListenerHook" tabindex="1"><span class="number">55.9.5 </span><span class="innertitle">public interface ListenerHook</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.servicehooks.html#org.osgi.framework.hooks.service.ListenerHook.ListenerInfo" tabindex="1"><span class="number">55.9.6 </span><span class="innertitle">public static interface ListenerHook.ListenerInfo</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.servicehooks.html#d0e47078" tabindex="1"><span class="number">55.10 </span><span class="innertitle">References</span></a></span></li>
                     </ul>
                  </li>
                  <li id="toc_20"><span class="handle">+ </span><span class="file"><a href="framework.weavinghooks.html" tabindex="1"><span class="number">56 </span><span class="innertitle">Weaving Hook Service Specification</span></a></span><ul class="">
                        <li><span class="file"><a href="framework.weavinghooks.html#d0e47095" tabindex="1"><span class="number">56.1 </span><span class="innertitle">Introduction</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.weavinghooks.html#d0e47102" tabindex="1"><span class="number">56.1.1 </span><span class="innertitle">Essentials</span></a></span></li>
                              <li><span class="file"><a href="framework.weavinghooks.html#d0e47141" tabindex="1"><span class="number">56.1.2 </span><span class="innertitle">Entities</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.weavinghooks.html#d0e47166" tabindex="1"><span class="number">56.2 </span><span class="innertitle">Usage</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.weavinghooks.html#d0e47169" tabindex="1"><span class="number">56.2.1 </span><span class="innertitle">Tracing</span></a></span></li>
                              <li><span class="file"><a href="framework.weavinghooks.html#d0e47233" tabindex="1"><span class="number">56.2.2 </span><span class="innertitle">Isolation</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.weavinghooks.html#d0e47274" tabindex="1"><span class="number">56.3 </span><span class="innertitle">Weaving Hook</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.weavinghooks.html#d0e47380" tabindex="1"><span class="number">56.3.1 </span><span class="innertitle">Concurrency</span></a></span></li>
                              <li><span class="file"><a href="framework.weavinghooks.html#d0e47387" tabindex="1"><span class="number">56.3.2 </span><span class="innertitle">Error Handling</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.weavinghooks.html#framework.weavinghooks-wovenclasslistener" tabindex="1"><span class="number">56.4 </span><span class="innertitle">Woven Class Listener</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.weavinghooks.html#d0e47585" tabindex="1"><span class="number">56.4.1 </span><span class="innertitle">Concurrency</span></a></span></li>
                              <li><span class="file"><a href="framework.weavinghooks.html#d0e47593" tabindex="1"><span class="number">56.4.2 </span><span class="innertitle">Error Handling</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.weavinghooks.html#d0e47598" tabindex="1"><span class="number">56.5 </span><span class="innertitle">Security</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.weavinghooks.html#d0e47601" tabindex="1"><span class="number">56.5.1 </span><span class="innertitle">Weaving Hooks</span></a></span></li>
                              <li><span class="file"><a href="framework.weavinghooks.html#d0e47637" tabindex="1"><span class="number">56.5.2 </span><span class="innertitle">Woven Bundles</span></a></span></li>
                              <li><span class="file"><a href="framework.weavinghooks.html#d0e47645" tabindex="1"><span class="number">56.5.3 </span><span class="innertitle">Woven Class Listeners</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.weavinghooks.html#org.osgi.framework.hooks.weaving" tabindex="1"><span class="number">56.6 </span><span class="innertitle">org.osgi.framework.hooks.weaving</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.weavinghooks.html#d0e47675" tabindex="1"><span class="number">56.6.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="framework.weavinghooks.html#org.osgi.framework.hooks.weaving.WeavingException" tabindex="1"><span class="number">56.6.2 </span><span class="innertitle">public class WeavingException extends RuntimeException</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.weavinghooks.html#org.osgi.framework.hooks.weaving.WeavingHook" tabindex="1"><span class="number">56.6.3 </span><span class="innertitle">public interface WeavingHook</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.weavinghooks.html#org.osgi.framework.hooks.weaving.WovenClass" tabindex="1"><span class="number">56.6.4 </span><span class="innertitle">public interface WovenClass</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.weavinghooks.html#org.osgi.framework.hooks.weaving.WovenClassListener" tabindex="1"><span class="number">56.6.5 </span><span class="innertitle">public interface WovenClassListener</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.weavinghooks.html#d0e48260" tabindex="1"><span class="number">56.7 </span><span class="innertitle">References</span></a></span></li>
                     </ul>
                  </li>
                  <li id="toc_21"><span class="handle">+ </span><span class="file"><a href="framework.dto.html" tabindex="1"><span class="number">57 </span><span class="innertitle">Data Transfer Objects Specification</span></a></span><ul class="">
                        <li><span class="file"><a href="framework.dto.html#d0e48277" tabindex="1"><span class="number">57.1 </span><span class="innertitle">Introduction</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.dto.html#d0e48284" tabindex="1"><span class="number">57.1.1 </span><span class="innertitle">Essentials</span></a></span></li>
                              <li><span class="file"><a href="framework.dto.html#d0e48328" tabindex="1"><span class="number">57.1.2 </span><span class="innertitle">Entities</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.dto.html#d0e48344" tabindex="1"><span class="number">57.2 </span><span class="innertitle">Data Transfer Object</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.dto.html#d0e48403" tabindex="1"><span class="number">57.2.1 </span><span class="innertitle">Naming Conventions</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.dto.html#d0e48442" tabindex="1"><span class="number">57.3 </span><span class="innertitle">Core Data Transfer Objects</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.dto.html#d0e48453" tabindex="1"><span class="number">57.3.1 </span><span class="innertitle">Framework Data Transfer Objects</span></a></span></li>
                              <li><span class="file"><a href="framework.dto.html#d0e48468" tabindex="1"><span class="number">57.3.2 </span><span class="innertitle">Resource API Data Transfer Objects</span></a></span></li>
                              <li><span class="file"><a href="framework.dto.html#d0e48488" tabindex="1"><span class="number">57.3.3 </span><span class="innertitle">Bundle Wiring API Data Transfer Objects</span></a></span></li>
                              <li><span class="file"><a href="framework.dto.html#d0e48507" tabindex="1"><span class="number">57.3.4 </span><span class="innertitle">Start Level API Data Transfer Objects</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.dto.html#framework.dto-obtaining-dtos" tabindex="1"><span class="number">57.4 </span><span class="innertitle">Obtaining Core Data Transfer Objects</span></a></span></li>
                        <li><span class="file"><a href="framework.dto.html#d0e48697" tabindex="1"><span class="number">57.5 </span><span class="innertitle">Security</span></a></span></li>
                        <li><span class="file"><a href="framework.dto.html#org.osgi.dto" tabindex="1"><span class="number">57.6 </span><span class="innertitle">org.osgi.dto</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.dto.html#d0e48734" tabindex="1"><span class="number">57.6.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="framework.dto.html#org.osgi.dto.DTO" tabindex="1"><span class="number">57.6.2 </span><span class="innertitle">public abstract class DTO</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.dto.html#org.osgi.framework.dto" tabindex="1"><span class="number">57.7 </span><span class="innertitle">org.osgi.framework.dto</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.dto.html#d0e48804" tabindex="1"><span class="number">57.7.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="framework.dto.html#org.osgi.framework.dto.BundleDTO" tabindex="1"><span class="number">57.7.2 </span><span class="innertitle">public class BundleDTO extends DTO</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.dto.html#org.osgi.framework.dto.FrameworkDTO" tabindex="1"><span class="number">57.7.3 </span><span class="innertitle">public class FrameworkDTO extends DTO</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.dto.html#org.osgi.framework.dto.ServiceReferenceDTO" tabindex="1"><span class="number">57.7.4 </span><span class="innertitle">public class ServiceReferenceDTO extends DTO</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.dto.html#org.osgi.framework.startlevel.dto" tabindex="1"><span class="number">57.8 </span><span class="innertitle">org.osgi.framework.startlevel.dto</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.dto.html#d0e49104" tabindex="1"><span class="number">57.8.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="framework.dto.html#org.osgi.framework.startlevel.dto.BundleStartLevelDTO" tabindex="1"><span class="number">57.8.2 </span><span class="innertitle">public class BundleStartLevelDTO extends DTO</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.dto.html#org.osgi.framework.startlevel.dto.FrameworkStartLevelDTO" tabindex="1"><span class="number">57.8.3 </span><span class="innertitle">public class FrameworkStartLevelDTO extends DTO</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.dto.html#org.osgi.framework.wiring.dto" tabindex="1"><span class="number">57.9 </span><span class="innertitle">org.osgi.framework.wiring.dto</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.dto.html#d0e49272" tabindex="1"><span class="number">57.9.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="framework.dto.html#org.osgi.framework.wiring.dto.BundleRevisionDTO" tabindex="1"><span class="number">57.9.2 </span><span class="innertitle">public class BundleRevisionDTO extends ResourceDTO</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.dto.html#org.osgi.framework.wiring.dto.BundleWireDTO" tabindex="1"><span class="number">57.9.3 </span><span class="innertitle">public class BundleWireDTO extends WireDTO</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.dto.html#org.osgi.framework.wiring.dto.BundleWiringDTO" tabindex="1"><span class="number">57.9.4 </span><span class="innertitle">public class BundleWiringDTO extends DTO</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.dto.html#org.osgi.framework.wiring.dto.BundleWiringDTO.NodeDTO" tabindex="1"><span class="number">57.9.5 </span><span class="innertitle">public static class BundleWiringDTO.NodeDTO extends WiringDTO</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.dto.html#org.osgi.framework.wiring.dto.FrameworkWiringDTO" tabindex="1"><span class="number">57.9.6 </span><span class="innertitle">public class FrameworkWiringDTO extends DTO</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.dto.html#org.osgi.resource.dto" tabindex="1"><span class="number">57.10 </span><span class="innertitle">org.osgi.resource.dto</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.dto.html#d0e49648" tabindex="1"><span class="number">57.10.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="framework.dto.html#org.osgi.resource.dto.CapabilityDTO" tabindex="1"><span class="number">57.10.2 </span><span class="innertitle">public class CapabilityDTO extends DTO</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.dto.html#org.osgi.resource.dto.CapabilityRefDTO" tabindex="1"><span class="number">57.10.3 </span><span class="innertitle">public class CapabilityRefDTO extends DTO</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.dto.html#org.osgi.resource.dto.RequirementDTO" tabindex="1"><span class="number">57.10.4 </span><span class="innertitle">public class RequirementDTO extends DTO</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.dto.html#org.osgi.resource.dto.RequirementRefDTO" tabindex="1"><span class="number">57.10.5 </span><span class="innertitle">public class RequirementRefDTO extends DTO</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.dto.html#org.osgi.resource.dto.ResourceDTO" tabindex="1"><span class="number">57.10.6 </span><span class="innertitle">public class ResourceDTO extends DTO</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.dto.html#org.osgi.resource.dto.WireDTO" tabindex="1"><span class="number">57.10.7 </span><span class="innertitle">public class WireDTO extends DTO</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.dto.html#org.osgi.resource.dto.WiringDTO" tabindex="1"><span class="number">57.10.8 </span><span class="innertitle">public class WiringDTO extends DTO</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.dto.html#framework.dto.references" tabindex="1"><span class="number">57.11 </span><span class="innertitle">References</span></a></span></li>
                     </ul>
                  </li>
                  <li id="toc_22"><span class="handle">+ </span><span class="file"><a href="service.resolver.html" tabindex="1"><span class="number">58 </span><span class="innertitle">Resolver Service Specification</span></a></span><ul class="">
                        <li><span class="file"><a href="service.resolver.html#d0e50190" tabindex="1"><span class="number">58.1 </span><span class="innertitle">Introduction</span></a></span><ul class="">
                              <li><span class="file"><a href="service.resolver.html#d0e50216" tabindex="1"><span class="number">58.1.1 </span><span class="innertitle">Essentials</span></a></span></li>
                              <li><span class="file"><a href="service.resolver.html#i3331037" tabindex="1"><span class="number">58.1.2 </span><span class="innertitle">Entities</span></a></span></li>
                              <li><span class="file"><a href="service.resolver.html#d0e50335" tabindex="1"><span class="number">58.1.3 </span><span class="innertitle">Synopsis</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.resolver.html#d0e50365" tabindex="1"><span class="number">58.2 </span><span class="innertitle">The Resolve Context</span></a></span><ul class="">
                              <li><span class="file"><a href="service.resolver.html#d0e50412" tabindex="1"><span class="number">58.2.1 </span><span class="innertitle">Mandatory and Optional Resources</span></a></span></li>
                              <li><span class="file"><a href="service.resolver.html#i3344409" tabindex="1"><span class="number">58.2.2 </span><span class="innertitle">Finding Capabilities</span></a></span></li>
                              <li><span class="file"><a href="service.resolver.html#d0e50466" tabindex="1"><span class="number">58.2.3 </span><span class="innertitle">Matching</span></a></span></li>
                              <li><span class="file"><a href="service.resolver.html#d0e50508" tabindex="1"><span class="number">58.2.4 </span><span class="innertitle">Repositories</span></a></span></li>
                              <li><span class="file"><a href="service.resolver.html#d0e50523" tabindex="1"><span class="number">58.2.5 </span><span class="innertitle">Existing Wiring State</span></a></span></li>
                              <li><span class="file"><a href="service.resolver.html#d0e50588" tabindex="1"><span class="number">58.2.6 </span><span class="innertitle">Effective</span></a></span></li>
                              <li><span class="file"><a href="service.resolver.html#i3344346" tabindex="1"><span class="number">58.2.7 </span><span class="innertitle">Insert Hosted Capabilities</span></a></span></li>
                              <li><span class="file"><a href="service.resolver.html#i3347565" tabindex="1"><span class="number">58.2.8 </span><span class="innertitle">Fragments</span></a></span></li>
                              <li><span class="file"><a href="service.resolver.html#d0e50692" tabindex="1"><span class="number">58.2.9 </span><span class="innertitle">Singleton Capabilities</span></a></span></li>
                              <li><span class="file"><a href="service.resolver.html#d0e50744" tabindex="1"><span class="number">58.2.10 </span><span class="innertitle">Diagnostics</span></a></span></li>
                              <li><span class="file"><a href="service.resolver.html#d0e50762" tabindex="1"><span class="number">58.2.11 </span><span class="innertitle">Cancel</span></a></span></li>
                              <li><span class="file"><a href="service.resolver.html#d0e50769" tabindex="1"><span class="number">58.2.12 </span><span class="innertitle">Complexity</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.resolver.html#d0e50774" tabindex="1"><span class="number">58.3 </span><span class="innertitle">Resolver Service</span></a></span><ul class="">
                              <li><span class="file"><a href="service.resolver.html#d0e50800" tabindex="1"><span class="number">58.3.1 </span><span class="innertitle">Variables</span></a></span></li>
                              <li><span class="file"><a href="service.resolver.html#d0e50909" tabindex="1"><span class="number">58.3.2 </span><span class="innertitle">Resolving</span></a></span></li>
                              <li><span class="file"><a href="service.resolver.html#i3347566" tabindex="1"><span class="number">58.3.3 </span><span class="innertitle">Dynamic Resolving</span></a></span></li>
                              <li><span class="file"><a href="service.resolver.html#d0e51170" tabindex="1"><span class="number">58.3.4 </span><span class="innertitle">Resolution Exception</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.resolver.html#i3331809" tabindex="1"><span class="number">58.4 </span><span class="innertitle">Security</span></a></span><ul class="">
                              <li><span class="file"><a href="service.resolver.html#d0e51192" tabindex="1"><span class="number">58.4.1 </span><span class="innertitle">Resolving</span></a></span></li>
                              <li><span class="file"><a href="service.resolver.html#d0e51199" tabindex="1"><span class="number">58.4.2 </span><span class="innertitle">Minimum Implementation Permissions</span></a></span></li>
                              <li><span class="file"><a href="service.resolver.html#d0e51204" tabindex="1"><span class="number">58.4.3 </span><span class="innertitle">Minimum Using Permissions</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.resolver.html#org.osgi.service.resolver" tabindex="1"><span class="number">58.5 </span><span class="innertitle">org.osgi.service.resolver</span></a></span><ul class="">
                              <li><span class="file"><a href="service.resolver.html#d0e51235" tabindex="1"><span class="number">58.5.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="service.resolver.html#org.osgi.service.resolver.HostedCapability" tabindex="1"><span class="number">58.5.2 </span><span class="innertitle">public interface HostedCapability extends Capability</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="service.resolver.html#org.osgi.service.resolver.ResolutionException" tabindex="1"><span class="number">58.5.3 </span><span class="innertitle">public class ResolutionException extends Exception</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="service.resolver.html#org.osgi.service.resolver.ResolveContext" tabindex="1"><span class="number">58.5.4 </span><span class="innertitle">public abstract class ResolveContext</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="service.resolver.html#org.osgi.service.resolver.Resolver" tabindex="1"><span class="number">58.5.5 </span><span class="innertitle">public interface Resolver</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.resolver.html#d0e51936" tabindex="1"><span class="number">58.6 </span><span class="innertitle">References</span></a></span></li>
                     </ul>
                  </li>
                  <li id="toc_23"><span class="handle">+ </span><span class="file"><a href="service.condition.html" tabindex="1"><span class="number">59 </span><span class="innertitle">Condition Service Specification</span></a></span><ul class="">
                        <li><span class="file"><a href="service.condition.html#service.condition.introduction" tabindex="1"><span class="number">59.1 </span><span class="innertitle">Introduction</span></a></span><ul class="">
                              <li><span class="file"><a href="service.condition.html#d0e51961" tabindex="1"><span class="number">59.1.1 </span><span class="innertitle">Essentials</span></a></span></li>
                              <li><span class="file"><a href="service.condition.html#service.condition.entities" tabindex="1"><span class="number">59.1.2 </span><span class="innertitle">Entities</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.condition.html#service.condition.operation" tabindex="1"><span class="number">59.2 </span><span class="innertitle">Condition Service</span></a></span><ul class="">
                              <li><span class="file"><a href="service.condition.html#service.condition-true.condition" tabindex="1"><span class="number">59.2.1 </span><span class="innertitle">True Condition</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.condition.html#service.condition.security" tabindex="1"><span class="number">59.3 </span><span class="innertitle">Security</span></a></span><ul class="">
                              <li><span class="file"><a href="service.condition.html#d0e52064" tabindex="1"><span class="number">59.3.1 </span><span class="innertitle">Conditions</span></a></span></li>
                              <li><span class="file"><a href="service.condition.html#d0e52069" tabindex="1"><span class="number">59.3.2 </span><span class="innertitle">Minimum Implementation Permissions</span></a></span></li>
                              <li><span class="file"><a href="service.condition.html#d0e52076" tabindex="1"><span class="number">59.3.3 </span><span class="innertitle">Minimum Using Permissions</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.condition.html#org.osgi.service.condition" tabindex="1"><span class="number">59.4 </span><span class="innertitle">org.osgi.service.condition</span></a></span><ul class="">
                              <li><span class="file"><a href="service.condition.html#d0e52117" tabindex="1"><span class="number">59.4.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="service.condition.html#org.osgi.service.condition.Condition" tabindex="1"><span class="number">59.4.2 </span><span class="innertitle">public interface Condition</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li id="toc_24"><span class="handle">+ </span><span class="file"><a href="framework.connect.html" tabindex="1"><span class="number">60 </span><span class="innertitle">Connect Specification</span></a></span><ul class="">
                        <li><span class="file"><a href="framework.connect.html#d0e52202" tabindex="1"><span class="number">60.1 </span><span class="innertitle">Introduction</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.connect.html#d0e52213" tabindex="1"><span class="number">60.1.1 </span><span class="innertitle">Essentials</span></a></span></li>
                              <li><span class="file"><a href="framework.connect.html#d0e52237" tabindex="1"><span class="number">60.1.2 </span><span class="innertitle">Entities</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.connect.html#d0e52274" tabindex="1"><span class="number">60.2 </span><span class="innertitle">Module Connector</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.connect.html#d0e52284" tabindex="1"><span class="number">60.2.1 </span><span class="innertitle">Launching a Framework</span></a></span></li>
                              <li><span class="file"><a href="framework.connect.html#framework.connect.initializing" tabindex="1"><span class="number">60.2.2 </span><span class="innertitle">Initializing the Module Connector</span></a></span></li>
                              <li><span class="file"><a href="framework.connect.html#framework.connect.lifecycle" tabindex="1"><span class="number">60.2.3 </span><span class="innertitle">Module Connector Life Cycle</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.connect.html#framework.connect.service.provider" tabindex="1"><span class="number">60.2.4 </span><span class="innertitle">Java Service Provider Configuration Support for Connect</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.connect.html#framework.connect.bundle" tabindex="1"><span class="number">60.3 </span><span class="innertitle">Connect Bundles</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.connect.html#framework.connect.bundle.install" tabindex="1"><span class="number">60.3.1 </span><span class="innertitle">Installing Connect Bundles</span></a></span></li>
                              <li><span class="file"><a href="framework.connect.html#d0e52598" tabindex="1"><span class="number">60.3.2 </span><span class="innertitle">Updating Connect Bundles</span></a></span></li>
                              <li><span class="file"><a href="framework.connect.html#d0e52700" tabindex="1"><span class="number">60.3.3 </span><span class="innertitle">Connect Content</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.connect.html#d0e53015" tabindex="1"><span class="number">60.3.4 </span><span class="innertitle">Identify Connect Bundles</span></a></span></li>
                              <li><span class="file"><a href="framework.connect.html#d0e53072" tabindex="1"><span class="number">60.3.5 </span><span class="innertitle">Launching from Persistent Storage</span></a></span></li>
                              <li><span class="file"><a href="framework.connect.html#d0e53095" tabindex="1"><span class="number">60.3.6 </span><span class="innertitle">Extension Bundles</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.connect.html#d0e53107" tabindex="1"><span class="number">60.4 </span><span class="innertitle">Framework Utility Helpers</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.connect.html#d0e53125" tabindex="1"><span class="number">60.4.1 </span><span class="innertitle">Helper Implementations</span></a></span></li>
                              <li><span class="file"><a href="framework.connect.html#d0e53165" tabindex="1"><span class="number">60.4.2 </span><span class="innertitle">Java Service Provider Configuration Support for Helpers</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="framework.connect.html#d0e53205" tabindex="1"><span class="number">60.5 </span><span class="innertitle">Example Class Path Connector</span></a></span></li>
                        <li><span class="file"><a href="framework.connect.html#d0e53212" tabindex="1"><span class="number">60.6 </span><span class="innertitle">Security</span></a></span></li>
                        <li><span class="file"><a href="framework.connect.html#org.osgi.framework.connect" tabindex="1"><span class="number">60.7 </span><span class="innertitle">org.osgi.framework.connect</span></a></span><ul class="">
                              <li><span class="file"><a href="framework.connect.html#d0e53246" tabindex="1"><span class="number">60.7.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="framework.connect.html#org.osgi.framework.connect.ConnectContent" tabindex="1"><span class="number">60.7.2 </span><span class="innertitle">public interface ConnectContent</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.connect.html#org.osgi.framework.connect.ConnectContent.ConnectEntry" tabindex="1"><span class="number">60.7.3 </span><span class="innertitle">public static interface ConnectContent.ConnectEntry</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.connect.html#org.osgi.framework.connect.ConnectFrameworkFactory" tabindex="1"><span class="number">60.7.4 </span><span class="innertitle">public interface ConnectFrameworkFactory</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.connect.html#org.osgi.framework.connect.ConnectModule" tabindex="1"><span class="number">60.7.5 </span><span class="innertitle">public interface ConnectModule</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.connect.html#org.osgi.framework.connect.FrameworkUtilHelper" tabindex="1"><span class="number">60.7.6 </span><span class="innertitle">public interface FrameworkUtilHelper</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="framework.connect.html#org.osgi.framework.connect.ModuleConnector" tabindex="1"><span class="number">60.7.7 </span><span class="innertitle">public interface ModuleConnector</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li id="toc_25"><span class="handle">+ </span><span class="file"><a href="service.log.html" tabindex="1"><span class="number">101 </span><span class="innertitle">Log Service Specification</span></a></span><ul class="">
                        <li><span class="file"><a href="service.log.html#d0e54070" tabindex="1"><span class="number">101.1 </span><span class="innertitle">Introduction</span></a></span><ul class="">
                              <li><span class="file"><a href="service.log.html#d0e54081" tabindex="1"><span class="number">101.1.1 </span><span class="innertitle">Entities</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.log.html#d0e54149" tabindex="1"><span class="number">101.2 </span><span class="innertitle">The Logger Interface</span></a></span></li>
                        <li><span class="file"><a href="service.log.html#d0e54311" tabindex="1"><span class="number">101.3 </span><span class="innertitle">Obtaining a Logger</span></a></span></li>
                        <li><span class="file"><a href="service.log.html#d0e54381" tabindex="1"><span class="number">101.4 </span><span class="innertitle">Logger Configuration</span></a></span><ul class="">
                              <li><span class="file"><a href="service.log.html#d0e54482" tabindex="1"><span class="number">101.4.1 </span><span class="innertitle">Configuration Admin Integration</span></a></span></li>
                              <li><span class="file"><a href="service.log.html#service.log-effective.log.level" tabindex="1"><span class="number">101.4.2 </span><span class="innertitle">Effective Log Level</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.log.html#i1210758" tabindex="1"><span class="number">101.5 </span><span class="innertitle">Log Reader Service</span></a></span></li>
                        <li><span class="file"><a href="service.log.html#i1231250" tabindex="1"><span class="number">101.6 </span><span class="innertitle">Log Entry Interface</span></a></span></li>
                        <li><span class="file"><a href="service.log.html#service.log-mapping.events" tabindex="1"><span class="number">101.7 </span><span class="innertitle">Mapping of Events</span></a></span><ul class="">
                              <li><span class="file"><a href="service.log.html#d0e54734" tabindex="1"><span class="number">101.7.1 </span><span class="innertitle">Bundle Events Mapping</span></a></span></li>
                              <li><span class="file"><a href="service.log.html#d0e54865" tabindex="1"><span class="number">101.7.2 </span><span class="innertitle">Service Events Mapping</span></a></span></li>
                              <li><span class="file"><a href="service.log.html#d0e54976" tabindex="1"><span class="number">101.7.3 </span><span class="innertitle">Framework Events Mapping</span></a></span></li>
                              <li><span class="file"><a href="service.log.html#i1479168" tabindex="1"><span class="number">101.7.4 </span><span class="innertitle">Log Events</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.log.html#service.log-log.service" tabindex="1"><span class="number">101.8 </span><span class="innertitle">Log Service</span></a></span></li>
                        <li><span class="file"><a href="service.log.html#d0e55430" tabindex="1"><span class="number">101.9 </span><span class="innertitle">Capabilities</span></a></span></li>
                        <li><span class="file"><a href="service.log.html#d0e55474" tabindex="1"><span class="number">101.10 </span><span class="innertitle">Security</span></a></span></li>
                        <li><span class="file"><a href="service.log.html#org.osgi.service.log" tabindex="1"><span class="number">101.11 </span><span class="innertitle">org.osgi.service.log</span></a></span><ul class="">
                              <li><span class="file"><a href="service.log.html#d0e55526" tabindex="1"><span class="number">101.11.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="service.log.html#org.osgi.service.log.FormatterLogger" tabindex="1"><span class="number">101.11.2 </span><span class="innertitle">public interface FormatterLogger extends Logger</span></a></span></li>
                              <li><span class="file"><a href="service.log.html#org.osgi.service.log.LogEntry" tabindex="1"><span class="number">101.11.3 </span><span class="innertitle">public interface LogEntry</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="service.log.html#org.osgi.service.log.Logger" tabindex="1"><span class="number">101.11.4 </span><span class="innertitle">public interface Logger</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="service.log.html#org.osgi.service.log.LoggerConsumer" tabindex="1"><span class="number">101.11.5 </span><span class="innertitle">public interface LoggerConsumer&lt;E extends Exception&gt;</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="service.log.html#org.osgi.service.log.LoggerFactory" tabindex="1"><span class="number">101.11.6 </span><span class="innertitle">public interface LoggerFactory</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="service.log.html#org.osgi.service.log.LogLevel" tabindex="1"><span class="number">101.11.7 </span><span class="innertitle">enum LogLevel</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="service.log.html#org.osgi.service.log.LogListener" tabindex="1"><span class="number">101.11.8 </span><span class="innertitle">public interface LogListener extends EventListener</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="service.log.html#org.osgi.service.log.LogReaderService" tabindex="1"><span class="number">101.11.9 </span><span class="innertitle">public interface LogReaderService</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="service.log.html#org.osgi.service.log.LogService" tabindex="1"><span class="number">101.11.10 </span><span class="innertitle">public interface LogService extends LoggerFactory</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.log.html#org.osgi.service.log.admin" tabindex="1"><span class="number">101.12 </span><span class="innertitle">org.osgi.service.log.admin</span></a></span><ul class="">
                              <li><span class="file"><a href="service.log.html#d0e57951" tabindex="1"><span class="number">101.12.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="service.log.html#org.osgi.service.log.admin.LoggerAdmin" tabindex="1"><span class="number">101.12.2 </span><span class="innertitle">public interface LoggerAdmin</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="service.log.html#org.osgi.service.log.admin.LoggerContext" tabindex="1"><span class="number">101.12.3 </span><span class="innertitle">public interface LoggerContext</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="service.log.html#d0e58228" tabindex="1"><span class="number">101.13 </span><span class="innertitle">References</span></a></span></li>
                     </ul>
                  </li>
                  <li id="toc_26"><span class="handle">+ </span><span class="file"><a href="util.tracker.html" tabindex="1"><span class="number">701 </span><span class="innertitle">Tracker Specification</span></a></span><ul class="">
                        <li><span class="file"><a href="util.tracker.html#d0e58255" tabindex="1"><span class="number">701.1 </span><span class="innertitle">Introduction</span></a></span><ul class="">
                              <li><span class="file"><a href="util.tracker.html#d0e58293" tabindex="1"><span class="number">701.1.1 </span><span class="innertitle">Essentials</span></a></span></li>
                              <li><span class="file"><a href="util.tracker.html#d0e58332" tabindex="1"><span class="number">701.1.2 </span><span class="innertitle">Operation</span></a></span></li>
                              <li><span class="file"><a href="util.tracker.html#d0e58361" tabindex="1"><span class="number">701.1.3 </span><span class="innertitle">Entities</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="util.tracker.html#d0e58370" tabindex="1"><span class="number">701.2 </span><span class="innertitle">Tracking</span></a></span><ul class="">
                              <li><span class="file"><a href="util.tracker.html#d0e58403" tabindex="1"><span class="number">701.2.1 </span><span class="innertitle">Usage</span></a></span></li>
                              <li><span class="file"><a href="util.tracker.html#d0e58424" tabindex="1"><span class="number">701.2.2 </span><span class="innertitle">General API</span></a></span></li>
                              <li><span class="file"><a href="util.tracker.html#d0e58471" tabindex="1"><span class="number">701.2.3 </span><span class="innertitle">Tracking Count</span></a></span></li>
                              <li><span class="file"><a href="util.tracker.html#d0e58476" tabindex="1"><span class="number">701.2.4 </span><span class="innertitle">Multi Threading</span></a></span></li>
                              <li><span class="file"><a href="util.tracker.html#d0e58487" tabindex="1"><span class="number">701.2.5 </span><span class="innertitle">Synchronous</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="util.tracker.html#d0e58495" tabindex="1"><span class="number">701.3 </span><span class="innertitle">Service Tracker</span></a></span><ul class="">
                              <li><span class="file"><a href="util.tracker.html#d0e58608" tabindex="1"><span class="number">701.3.1 </span><span class="innertitle">Using a Service Tracker</span></a></span></li>
                              <li><span class="file"><a href="util.tracker.html#d0e58711" tabindex="1"><span class="number">701.3.2 </span><span class="innertitle">Customizing the Service Tracker class</span></a></span></li>
                              <li><span class="file"><a href="util.tracker.html#d0e58806" tabindex="1"><span class="number">701.3.3 </span><span class="innertitle">Customizing Example</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="util.tracker.html#d0e58830" tabindex="1"><span class="number">701.4 </span><span class="innertitle">Bundle Tracker</span></a></span><ul class="">
                              <li><span class="file"><a href="util.tracker.html#d0e58840" tabindex="1"><span class="number">701.4.1 </span><span class="innertitle">Bundle States</span></a></span></li>
                              <li><span class="file"><a href="util.tracker.html#d0e58858" tabindex="1"><span class="number">701.4.2 </span><span class="innertitle">Constructor</span></a></span></li>
                              <li><span class="file"><a href="util.tracker.html#d0e58890" tabindex="1"><span class="number">701.4.3 </span><span class="innertitle">Using a Bundle Tracker</span></a></span></li>
                              <li><span class="file"><a href="util.tracker.html#d0e58939" tabindex="1"><span class="number">701.4.4 </span><span class="innertitle">Customizing the Bundle Tracker class</span></a></span></li>
                              <li><span class="file"><a href="util.tracker.html#d0e59040" tabindex="1"><span class="number">701.4.5 </span><span class="innertitle">Extender Model</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="util.tracker.html#d0e59130" tabindex="1"><span class="number">701.5 </span><span class="innertitle">Security</span></a></span><ul class="">
                              <li><span class="file"><a href="util.tracker.html#d0e59160" tabindex="1"><span class="number">701.5.1 </span><span class="innertitle">Synchronous Bundle Listener</span></a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="util.tracker.html#org.osgi.util.tracker" tabindex="1"><span class="number">701.6 </span><span class="innertitle">org.osgi.util.tracker</span></a></span><ul class="">
                              <li><span class="file"><a href="util.tracker.html#d0e59197" tabindex="1"><span class="number">701.6.1 </span><span class="innertitle">Summary</span></a></span></li>
                              <li><span class="file"><a href="util.tracker.html#org.osgi.util.tracker.BundleTracker" tabindex="1"><span class="number">701.6.2 </span><span class="innertitle">public class BundleTracker&lt;T&gt; implements BundleTrackerCustomizer&lt;T&gt;</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="util.tracker.html#org.osgi.util.tracker.BundleTrackerCustomizer" tabindex="1"><span class="number">701.6.3 </span><span class="innertitle">public interface BundleTrackerCustomizer&lt;T&gt;</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="util.tracker.html#org.osgi.util.tracker.ServiceTracker" tabindex="1"><span class="number">701.6.4 </span><span class="innertitle">public class ServiceTracker&lt;S, T&gt; implements ServiceTrackerCustomizer&lt;S, T&gt;</span></a></span><ul class=""></ul>
                              </li>
                              <li><span class="file"><a href="util.tracker.html#org.osgi.util.tracker.ServiceTrackerCustomizer" tabindex="1"><span class="number">701.6.5 </span><span class="innertitle">public interface ServiceTrackerCustomizer&lt;S, T&gt;</span></a></span><ul class=""></ul>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </li>
               </ul>
            </div>
         </div>
      </div>
   </body>
</html>